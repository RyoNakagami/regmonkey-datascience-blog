<?xml version="1.0" encoding="UTF-8"?>
<rss  xmlns:atom="http://www.w3.org/2005/Atom" 
      xmlns:media="http://search.yahoo.com/mrss/" 
      xmlns:content="http://purl.org/rss/1.0/modules/content/" 
      xmlns:dc="http://purl.org/dc/elements/1.1/" 
      version="2.0">
<channel>
<title>regmonkey datascience blog</title>
<link>https://ryonakagami.github.io/regmonkey-datascience-blog/</link>
<atom:link href="https://ryonakagami.github.io/regmonkey-datascience-blog/index.xml" rel="self" type="application/rss+xml"/>
<description>æ—¥ã€…ã®å¾’ç„¶å‹‰å¼·æ—¥è¨˜</description>
<generator>quarto-1.8.26</generator>
<lastBuildDate>Wed, 10 Dec 2025 00:00:00 GMT</lastBuildDate>
<item>
  <title>è‡ªåˆ†ç”¨GitHub Repositoryä½œæˆæ™‚ã®ãƒ¡ãƒ¢</title>
  <dc:creator>Ryo Nakagami</dc:creator>
  <link>https://ryonakagami.github.io/regmonkey-datascience-blog/posts/2025-12-10-github-repository-memo/</link>
  <description><![CDATA[ 






<section id="getting-started" class="level2">
<h2 class="anchored" data-anchor-id="getting-started">ğŸ”¨ Getting Started</h2>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>ã‚ãã¾ã§å…±é€šé …ã«ã¤ã„ã¦ã®ãƒ¡ãƒ¢ã§ã™</li>
<li>å³å¯†ã«ã¯ä¸‹è¨˜ã®Step 3 ghã‚³ãƒãƒ³ãƒ‰ã®å®Ÿè¡Œ ã®å‰ã«document ã‚„ gitignoreãªã‚Šä»–ã«ã‚‚ã‚„ã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã™</li>
</ul>
</div>
</div>
<p><span class="mini-section">minimum structure</span></p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode ini code-with-copy"><code class="sourceCode ini"><span id="cb1-1"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">.</span></span>
<span id="cb1-2"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">â”œâ”€â”€ .github/</span></span>
<span id="cb1-3"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">â”‚   â”œâ”€â”€ repository_metadata/    # Repository configuration files</span></span>
<span id="cb1-4"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">â”‚   â”‚   â”œâ”€â”€ gh_repo.yml        # Repository metadata</span></span>
<span id="cb1-5"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">â”‚   â”‚   â””â”€â”€ label_master.yml   # Label definitions</span></span>
<span id="cb1-6"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">â”‚   â””â”€â”€ workflows/             # GitHub Actions workflows</span></span>
<span id="cb1-7"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">â”‚       â””â”€â”€ label-generator.yml # Label automation workflow</span></span>
<span id="cb1-8"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">â””â”€â”€ README.md</span></span></code></pre></div></div>
<p><span class="mini-section">æ‰‹é †</span></p>
<ol type="1">
<li><p><strong>ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ä½œæˆã¨ç§»å‹•</strong></p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mkdir</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>repository-name<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">&amp;&amp;</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">cd</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$_</span></span></code></pre></div></div></li>
<li><p><strong>Repositoryãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã®ä½œæˆ</strong></p>
<p>ä»¥ä¸‹ã®ã‚ˆã†ã« <code>.github/repository_metadata/gh_repo.yml</code> ã«è¨˜è¿°ã—ã¾ã™</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>gh_repo.yml</strong></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb3" data-filename="gh_repo.yml" style="background: #f1f3f5;"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb3-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">meta-data</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb3-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">repository_name</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> your-repo-name</span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">       # Required: Repository name</span></span>
<span id="cb3-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">visibility</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> private|public</span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">            # Required: Repository visibility</span></span>
<span id="cb3-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">org-name</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> YourOrgName</span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">                # Required: Organization name</span></span>
<span id="cb3-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">homepage</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> YourURL</span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">                    # Optional: e.g., https://ryonakagami.github.io/regmonkey-datascience-blog/</span></span>
<span id="cb3-6"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tag</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">                                 # Optional: Repository tags</span></span>
<span id="cb3-7"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> tag1</span></span>
<span id="cb3-8"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> tag2</span></span>
<span id="cb3-9"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">description</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">: </span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">|</span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">                       # Required: Repository description</span></span>
<span id="cb3-10">  A clear, concise description of your project.</span></code></pre></div></div>
</div></li>
</ol>
<div class="callout callout-style-default callout-caution callout-titled" style="margin-left: 2em;">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Caution
</div>
</div>
<div class="callout-body-container callout-body">
<p><code>'Required'</code> ã¨ã•ã‚Œã¦ã„ã‚‹ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¯å¿…ãšå…¥åŠ›ã—ã¦ä¸‹ã•ã„</p>
</div>
</div>
<ol start="3" type="1">
<li><p><strong>ghã‚³ãƒãƒ³ãƒ‰ã®å®Ÿè¡Œ</strong></p>
<p>è‡ªåˆ†ã¯ <code>.gitconfig</code> ã§ Alias è¨­å®šã‚’è¡Œã„ <a href="https://github.com/RyoNakagami/regmonkey-gitcommand/blob/main/src/git-create-repo.sh">git create-repo</a> ã¨ <a href="https://github.com/RyoNakagami/regmonkey-gitcommand/blob/main/src/git-repo-update.sh">git update-repo</a> ã‚’å®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ï¼</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb4-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># step 1</span></span>
<span id="cb4-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">git</span> create-repo   <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># only when the repository not created yet</span></span>
<span id="cb4-3"></span>
<span id="cb4-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># step 2</span></span>
<span id="cb4-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">git</span> update-repo   <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># reflecting tags, description, and homepage</span></span></code></pre></div></div></li>
<li><p><strong>ï¼ˆOptionalï¼‰ãƒ©ãƒ™ãƒ«ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º</strong></p>
<p><code>.github/repository_metadata/label_master.yml</code> ã‚’ä»¥ä¸‹ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§ç·¨é›†ï¼<code>main</code> ã¸ã®pushãŒ <code>label_master.yml</code> ã®å¤‰æ›´ã‚’å«ã‚“ã§ã„ã‚‹ã¨ãã«ãƒ©ãƒ™ãƒ«ãŒä½œæˆã•ã‚Œã‚‹</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode yml code-with-copy"><code class="sourceCode yaml"><span id="cb5-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ------------------------------------------------</span></span>
<span id="cb5-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># GitHub Issue Labels aligned with Branch Naming Conventions</span></span>
<span id="cb5-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Author: Ryo Nakagami</span></span>
<span id="cb5-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ------------------------------------------------</span></span>
<span id="cb5-5"></span>
<span id="cb5-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># --- Development Workflows (Aligned with Branch Prefixes) ---</span></span>
<span id="cb5-7"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">name</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> environment</span></span>
<span id="cb5-8"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">color</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> EFDECD</span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">         # almond</span></span>
<span id="cb5-9"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">description</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> This issue is related to development repository structure etc</span></span>
<span id="cb5-10"></span>
<span id="cb5-11"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">name</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> feature</span></span>
<span id="cb5-12"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">color</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> 008000</span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">         # green</span></span>
<span id="cb5-13"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">description</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> New feature development</span></span>
<span id="cb5-14"></span>
<span id="cb5-15"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">name</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> bugfix</span></span>
<span id="cb5-16"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">color</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> DC143C</span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">         # crimson</span></span>
<span id="cb5-17"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">description</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> Bug fix or defect correction</span></span></code></pre></div></div></li>
</ol>
<section id="label-generator-workflow" class="level3">
<h3 class="anchored" data-anchor-id="label-generator-workflow">Label Generator Workflow</h3>
<div class="no-border-top-table">
<table class="caption-top table">
<colgroup>
<col style="width: 32%">
<col style="width: 24%">
<col style="width: 42%">
</colgroup>
<thead>
<tr class="header">
<th>ã‚¤ãƒ™ãƒ³ãƒˆ</th>
<th>Workflow ãŒå‹•ä½œã™ã‚‹ï¼Ÿ</th>
<th>èª¬æ˜</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>main</code> ã¸ã® PR ã‚’ä½œæˆ</td>
<td>âŒ</td>
<td><code>push</code> ã§ã¯ãªã„ãŸã‚</td>
</tr>
<tr class="even">
<td><code>main</code> ã¸ã® PR ã‚’æ›´æ–°ï¼ˆã‚³ãƒŸãƒƒãƒˆè¿½åŠ ï¼‰</td>
<td>âŒ</td>
<td>push ã¯ç™ºç”Ÿã—ã¦ã„ã‚‹ãŒï¼Œãã®ãƒ–ãƒ©ãƒ³ãƒã§å‹•ãã®ã§ <code>main</code> ã¨ã¯é–¢ä¿‚ãªã—</td>
</tr>
<tr class="odd">
<td><code>main</code> ã¸ã® PR ã‚’ merge</td>
<td>âœ…</td>
<td>merge commit ãŒ <code>main</code> ã« <code>push</code> ã•ã‚Œã‚‹ãŸã‚</td>
</tr>
</tbody>
</table>
</div>
<p><span class="mini-section">ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«</span></p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>label-generator.yml</strong></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb6" data-filename="label-generator.yml" style="background: #f1f3f5;"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb6-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">name</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> Label Manager</span></span>
<span id="cb6-2"></span>
<span id="cb6-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Trigger: Runs when labels.yaml is modified</span></span>
<span id="cb6-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">on</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb6-5"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">push</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb6-6"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">branches</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb6-7"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> main</span></span>
<span id="cb6-8"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paths</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb6-9"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> .github/repository_metadata/label_master.yml</span></span>
<span id="cb6-10"></span>
<span id="cb6-11"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Minimal required permissions</span></span>
<span id="cb6-12"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">permissions</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb6-13"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">contents</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> read</span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    # Read repository files</span></span>
<span id="cb6-14"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">issues</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> write</span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">     # Create/update/delete labels</span></span>
<span id="cb6-15"></span>
<span id="cb6-16"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">jobs</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb6-17"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sync-labels</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb6-18"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">runs-on</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> ubuntu-latest</span></span>
<span id="cb6-19"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span></span>
<span id="cb6-20"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">steps</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb6-21"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">      # ============================================================</span></span>
<span id="cb6-22"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">      # SETUP: Install required tools and authenticate</span></span>
<span id="cb6-23"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">      # ============================================================</span></span>
<span id="cb6-24"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span></span>
<span id="cb6-25"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">name</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> Checkout repository</span></span>
<span id="cb6-26"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">        </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">uses</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> actions/checkout@v4</span></span>
<span id="cb6-27"></span>
<span id="cb6-28"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">name</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> Install uv</span></span>
<span id="cb6-29"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">        </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">uses</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> astral-sh/setup-uv@v4</span></span>
<span id="cb6-30"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">        # uv is used to install Python tools like yamlcli</span></span>
<span id="cb6-31"></span>
<span id="cb6-32"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">name</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> Install dependencies</span></span>
<span id="cb6-33"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">        run</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">: </span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">|</span></span>
<span id="cb6-34">          # Update package lists quietly</span>
<span id="cb6-35">          sudo apt-get update -qq</span>
<span id="cb6-36">          </span>
<span id="cb6-37">          # Install jq (JSON processor) and gh (GitHub CLI)</span>
<span id="cb6-38">          sudo apt-get install -y -qq jq gh</span>
<span id="cb6-39">          </span>
<span id="cb6-40">          # Install yamlcli via uv to convert YAML to JSON</span>
<span id="cb6-41">          uv tool install git+https://github.com/RyoNakagami/yamlcli.git</span>
<span id="cb6-42"></span>
<span id="cb6-43"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">name</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> Authenticate GitHub CLI</span></span>
<span id="cb6-44"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">        </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">run</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> echo "${{ secrets.GITHUB_TOKEN }}" | gh auth login --with-token</span></span>
<span id="cb6-45"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">        # Note: Not setting GH_TOKEN here allows gh to store credentials</span></span>
<span id="cb6-46"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">        # This prevents "To have GitHub CLI store credentials..." warning</span></span>
<span id="cb6-47"></span>
<span id="cb6-48"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">      # ============================================================</span></span>
<span id="cb6-49"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">      # PARSE: Convert YAML configuration to JSON</span></span>
<span id="cb6-50"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">      # ============================================================</span></span>
<span id="cb6-51"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span></span>
<span id="cb6-52"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">name</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> Parse labels configuration</span></span>
<span id="cb6-53"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">        </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">id</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> parse</span></span>
<span id="cb6-54"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">        run</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">: </span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">|</span></span>
<span id="cb6-55">          # Convert labels.yaml to JSON format and save to file</span>
<span id="cb6-56">          yamlcli --to-json .github/repository_metadata/label_master.yml &gt; /tmp/labels.json</span>
<span id="cb6-57">          echo "Labels configuration parsed successfully"</span>
<span id="cb6-58"></span>
<span id="cb6-59"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">      # ============================================================</span></span>
<span id="cb6-60"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">      # SYNC: Create or update labels from configuration</span></span>
<span id="cb6-61"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">      # ============================================================</span></span>
<span id="cb6-62"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span></span>
<span id="cb6-63"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">name</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> Sync labels</span></span>
<span id="cb6-64"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">        run</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">: </span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">|</span></span>
<span id="cb6-65">          # Exit on error, undefined variables, or pipe failures</span>
<span id="cb6-66">          set -euo pipefail</span>
<span id="cb6-67">          </span>
<span id="cb6-68">          # Get list of existing label names once to avoid repeated API calls</span>
<span id="cb6-69">          EXISTING_LABELS=$(gh label list --json name --jq '.[].name')</span>
<span id="cb6-70">          </span>
<span id="cb6-71">          # Process each label definition from the JSON array</span>
<span id="cb6-72">          jq -c '.[]' /tmp/labels.json | while IFS= read -r label; do</span>
<span id="cb6-73">            # Extract label properties</span>
<span id="cb6-74">            NAME=$(echo "$label" | jq -r '.name')</span>
<span id="cb6-75">            COLOR=$(echo "$label" | jq -r '.color')</span>
<span id="cb6-76">            DESC=$(echo "$label" | jq -r '.description // ""')  # Default to empty string if null</span>
<span id="cb6-77">            </span>
<span id="cb6-78">            echo "Processing label: $NAME"</span>
<span id="cb6-79">            </span>
<span id="cb6-80">            # Check if label already exists in repository</span>
<span id="cb6-81">            if echo "$EXISTING_LABELS" | grep -Fxq "$NAME"; then</span>
<span id="cb6-82">              # Update existing label</span>
<span id="cb6-83">              echo "  Updating existing label"</span>
<span id="cb6-84">              gh label edit "$NAME" --color "$COLOR" --description "$DESC"</span>
<span id="cb6-85">            else</span>
<span id="cb6-86">              # Create new label</span>
<span id="cb6-87">              echo "  Creating new label"</span>
<span id="cb6-88">              gh label create "$NAME" --color "$COLOR" --description "$DESC"</span>
<span id="cb6-89">            fi</span>
<span id="cb6-90">          done</span>
<span id="cb6-91"></span>
<span id="cb6-92"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">      # ============================================================</span></span>
<span id="cb6-93"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">      # PRUNE: Remove labels not defined in configuration</span></span>
<span id="cb6-94"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">      # ============================================================</span></span>
<span id="cb6-95"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span></span>
<span id="cb6-96"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">name</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> Prune obsolete labels</span></span>
<span id="cb6-97"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">        run</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">: </span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">|</span></span>
<span id="cb6-98">          # Exit on error, undefined variables, or pipe failures</span>
<span id="cb6-99">          set -euo pipefail</span>
<span id="cb6-100">          </span>
<span id="cb6-101">          # Get list of all existing labels in the repository</span>
<span id="cb6-102">          EXISTING_LABELS=$(gh label list --json name --jq '.[].name')</span>
<span id="cb6-103">          </span>
<span id="cb6-104">          # Get list of desired labels from configuration</span>
<span id="cb6-105">          DESIRED_LABELS=$(jq -r '.[].name' /tmp/labels.json)</span>
<span id="cb6-106">          </span>
<span id="cb6-107">          # Check each existing label</span>
<span id="cb6-108">          echo "$EXISTING_LABELS" | while IFS= read -r label; do</span>
<span id="cb6-109">            # Skip empty lines</span>
<span id="cb6-110">            if [[ -n "$label" ]] &amp;&amp; ! echo "$DESIRED_LABELS" | grep -Fxq "$label"; then</span>
<span id="cb6-111">              # Label exists in repo but not in config - delete it</span>
<span id="cb6-112">              echo "Deleting obsolete label: $label"</span>
<span id="cb6-113">              gh label delete "$label" --yes || echo "  Failed to delete $label (may be in use)"</span>
<span id="cb6-114">            fi</span>
<span id="cb6-115">          done</span>
<span id="cb6-116"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">        # gh CLI uses stored credentials from auth login step</span></span></code></pre></div></div>
</div>
</section>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<ul>
<li><a href="https://github.com/RyoNakagami/regmonkey-gitcommand">regmonkey-gitcommand</a></li>
</ul>


</section>

 ]]></description>
  <category>ç’°å¢ƒæ§‹ç¯‰</category>
  <category>github</category>
  <guid>https://ryonakagami.github.io/regmonkey-datascience-blog/posts/2025-12-10-github-repository-memo/</guid>
  <pubDate>Wed, 10 Dec 2025 00:00:00 GMT</pubDate>
</item>
<item>
  <title>ISO 8601 ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ãƒ†ãƒ¼ãƒ–ãƒ«ã®ä½œæˆ</title>
  <dc:creator>Ryo Nakagami</dc:creator>
  <link>https://ryonakagami.github.io/regmonkey-datascience-blog/posts/2025-12-09-create-calendar-table/</link>
  <description><![CDATA[ 






<section id="iso-8601-ã¨ã¯" class="level2">
<h2 class="anchored" data-anchor-id="iso-8601-ã¨ã¯">ISO 8601 ã¨ã¯ï¼Ÿ</h2>
<div id="def-" class="custom_problem blog-custom-border theorem definition">
<p><span class="theorem-title"><strong>Definition 1</strong></span> <span class="def-title">ISO 8601</span></p>
<ul>
<li>æ—¥ä»˜ã¨æ™‚åˆ»ã®è¡¨ç¾å½¢å¼ã«é–¢ã™ã‚‹ ISO ã®å›½éš›æ¨™æº–</li>
<li>ã‚°ãƒ¬ã‚´ãƒªã‚ªæš¦ã®è¥¿æš¦2016å¹´3æœˆ25æ—¥ã¯ <code>2016-03-25</code> ã¨è¡¨è¨˜ã™ã‚‹</li>
</ul>
</div>
<p>æ—¥ä»˜ã‚’ <code>01/05/22</code> ã¨æ•°å­—ã§è¡¨ã™å ´åˆï¼Œ</p>
<ul>
<li>2022-01-05</li>
<li>2022-05-01</li>
</ul>
<p>ã®ã©ã¡ã‚‰ã§ã‚‚è§£é‡ˆã§ãã¦ã—ã¾ã„ã¾ã™ï¼ISO 8601 ã¯ï¼Œã“ã®ã‚ˆã†ãªæ··ä¹±ã‚’è§£æ¶ˆã™ã‚‹ãŸã‚ã«æ—¥ä»˜ã®å›½éš›çš„ãªè¡¨è¨˜æ–¹æ³•ã‚’å®šã‚ãŸè¦æ ¼ã§ã™ï¼ æ—¥æœ¬ã§ã¯æ—¥æœ¬ç”£æ¥­è¦æ ¼ã® JIS X 0301 ã«ã¦ï¼ŒISO 8601 ã¨åŒç­‰ã®å†…å®¹ãŒæ¡ç”¨ã•ã‚Œã¦ã„ã¾ã™ï¼</p>
<section id="æ—¥ä»˜è¡¨è¨˜-date" class="level3">
<h3 class="anchored" data-anchor-id="æ—¥ä»˜è¡¨è¨˜-date">æ—¥ä»˜è¡¨è¨˜ (Date)</h3>
<div id="def-" class="custom_problem blog-custom-border theorem definition">
<p><span class="theorem-title"><strong>Definition 2</strong></span> <span class="def-title">æ—¥ä»˜è¡¨è¨˜</span></p>
<ul>
<li>ISO 8601 ã§ã¯ï¼Œæ—¥ä»˜ã¯ å¹´ãƒ»æœˆãƒ»æ—¥ã‚’å·¦ã‹ã‚‰é †ã«ä¸¦ã¹ã‚‹å½¢å¼ã¨ã—ï¼ŒåŠè§’æ•°å­—ãƒ»ãƒã‚¤ãƒ•ãƒ³åŒºåˆ‡ã‚Šã§è¡¨ã™</li>
</ul>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode ini code-with-copy"><code class="sourceCode ini"><span id="cb1-1"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">YYYY-MM-DD</span></span></code></pre></div></div>
<ul>
<li><code>YYYY</code>ï¼šè¥¿æš¦å¹´ï¼ˆ4æ¡ï¼å¹´ã®è¡¨è¨˜ã¯ 0000å¹´ï½9999å¹´ ã‚’æƒ³å®šï¼‰</li>
<li><code>MM</code>ï¼šæœˆï¼ˆ2æ¡ï¼1æ¡ã®å ´åˆã¯å…ˆé ­ã« <code>0</code> ã‚’ä»˜ä¸ï¼‰</li>
<li><code>DD</code>ï¼šæ—¥ï¼ˆ2æ¡ï¼1æ¡ã®å ´åˆã¯å…ˆé ­ã« <code>0</code> ã‚’ä»˜ä¸ï¼‰</li>
</ul>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>0000å¹´ã‚ˆã‚Šå‰ã¾ãŸã¯9999å¹´ã‚ˆã‚Šå¾Œã®å¹´ã‚’è¡¨è¨˜ã™ã‚‹å ´åˆã«ã¯ï¼Œäº‹å‰ã«é€šä¿¡ã®é€ä¿¡å´ã¨å—ä¿¡å´ã¨ã®é–“ã§ã®åˆæ„ãŒå¿…è¦</li>
<li><code>YYYYMMDD</code> ã¨ã„ã†è¡¨è¨˜ã‚‚ã‚ã‚Šå¾—ã‚‹</li>
</ul>
</div>
</div>
</section>
<section id="æ›œæ—¥è¡¨è¨˜-day-of-week" class="level3">
<h3 class="anchored" data-anchor-id="æ›œæ—¥è¡¨è¨˜-day-of-week">æ›œæ—¥è¡¨è¨˜ (Day of Week)</h3>
<div id="def-" class="custom_problem blog-custom-border theorem definition">
<p><span class="theorem-title"><strong>Definition 3</strong></span> <span class="def-title">æ›œæ—¥è¡¨è¨˜</span></p>
<ul>
<li>ISO 8601 ã§ã¯ï¼Œé€±ã®å§‹ã¾ã‚Šã¯æœˆæ›œæ—¥ï¼ˆ=1ï¼‰ ã¨å®šã‚ã‚‰ã‚Œã¦ãŠã‚Šï¼Œæ›œæ—¥ã¯ 1ã€œ7 ã®æ•´æ•°å€¤ã§è¡¨ã•ã‚Œã‚‹</li>
<li>æ—¥æœ¬ã®å•†ç¿’æ…£ã§ã¯ã€Œæ—¥æ›œå§‹ã¾ã‚Šã€ã®ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ãŒå¤šã„ç‚¹ã«æ³¨æ„</li>
</ul>
</div>
<table class="caption-top table">
<thead>
<tr class="header">
<th>æ•°å€¤</th>
<th>æ›œæ—¥</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>æœˆæ›œæ—¥</td>
</tr>
<tr class="even">
<td>2</td>
<td>ç«æ›œæ—¥</td>
</tr>
<tr class="odd">
<td>3</td>
<td>æ°´æ›œæ—¥</td>
</tr>
<tr class="even">
<td>4</td>
<td>æœ¨æ›œæ—¥</td>
</tr>
<tr class="odd">
<td>5</td>
<td>é‡‘æ›œæ—¥</td>
</tr>
<tr class="even">
<td>6</td>
<td>åœŸæ›œæ—¥</td>
</tr>
<tr class="odd">
<td>7</td>
<td>æ—¥æ›œæ—¥</td>
</tr>
</tbody>
</table>
</section>
<section id="æ™‚åˆ»è¡¨è¨˜-time" class="level3">
<h3 class="anchored" data-anchor-id="æ™‚åˆ»è¡¨è¨˜-time">æ™‚åˆ»è¡¨è¨˜ (Time)</h3>
<div id="def-" class="custom_problem blog-custom-border theorem definition">
<p><span class="theorem-title"><strong>Definition 4</strong></span> <span class="def-title">æ™‚åˆ»è¡¨è¨˜</span></p>
<ul>
<li>ISO 8601 ã®æ™‚åˆ»ã¯ 24 æ™‚é–“åˆ¶ã§ï¼Œã‚³ãƒ­ãƒ³åŒºåˆ‡ã‚Šã¨ã™ã‚‹</li>
</ul>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode ini code-with-copy"><code class="sourceCode ini"><span id="cb2-1"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">hh:mm:ss</span></span></code></pre></div></div>
<ul>
<li><code>hh</code>ï¼šæ™‚ï¼ˆ00â€“24ï¼‰</li>
<li><code>mm</code>ï¼šåˆ†ï¼ˆ00â€“59ï¼‰</li>
<li><code>ss</code>ï¼šç§’ï¼ˆ00â€“59ï¼Œå¿…è¦ã«å¿œã˜ã¦å°æ•°ã‚‚å¯ï¼‰</li>
</ul>
<div id="exm-" class="custom_problem theorem example">
<p><span class="theorem-title"><strong>Example 1 (ãƒŸãƒªç§’ã¨ãƒã‚¤ã‚¯ãƒ­ç§’)</strong></span> <br></p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode ini code-with-copy"><code class="sourceCode ini"><span id="cb3-1"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">14:30:00.123   ï¼ˆãƒŸãƒªç§’ï¼‰</span></span>
<span id="cb3-2"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">14:30:00.123456ï¼ˆãƒã‚¤ã‚¯ãƒ­ç§’ï¼‰</span></span></code></pre></div></div>
</div>
<hr>
</section>
<section id="æ—¥ä»˜ã¨æ™‚åˆ»ã®çµ„ã¿åˆã‚ã›datetime" class="level3">
<h3 class="anchored" data-anchor-id="æ—¥ä»˜ã¨æ™‚åˆ»ã®çµ„ã¿åˆã‚ã›datetime">æ—¥ä»˜ã¨æ™‚åˆ»ã®çµ„ã¿åˆã‚ã›ï¼ˆDatetimeï¼‰</h3>
<div id="def-" class="custom_problem blog-custom-border theorem definition">
<p><span class="theorem-title"><strong>Definition 5</strong></span> <span class="def-title">Datetime</span></p>
<ul>
<li>ISO 8601 ã§ã¯ï¼Œæ—¥ä»˜ã¨æ™‚åˆ»ã‚’çµ„ã¿åˆã‚ã›ã‚‹å ´åˆ <code>T</code> ã‚’é€£çµæ–‡å­—ã¨ã—ã¦ä½¿ç”¨ã™ã‚‹</li>
<li>å¿…è¦ã«å¿œã˜ã¦ UTC ã¨ã®æ™‚å·®ï¼ˆã‚ªãƒ•ã‚»ãƒƒãƒˆï¼‰ã‚’ä»˜ä¸ã™ã‚‹</li>
</ul>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode ini code-with-copy"><code class="sourceCode ini"><span id="cb4-1"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">YYYY-MM-DDThh:mm:ss</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">[Â±hh:mm]</span></span></code></pre></div></div>
</div>
<p>ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³çœç•¥æ™‚ã¯ã€Œãƒ­ãƒ¼ã‚«ãƒ«æ™‚åˆ»ã€ã¨ã¿ãªã•ã‚Œã‚‹ãŸã‚ï¼Œã‚·ã‚¹ãƒ†ãƒ é–“é€£æºã§ã¯ã‚ªãƒ•ã‚»ãƒƒãƒˆä»˜ä¸ç‰ˆãŒæœ›ã¾ã—ã„ã¨ã•ã‚Œã¾ã™ï¼ ã¨ã„ã†ã‹<strong>ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã§æ‰±ã†ã¨ãã¯ï¼ŒåŸºæœ¬çš„ã«ã¯ã‚ªãƒ•ã‚»ãƒƒãƒˆä»˜ä¸ç‰ˆã‚’ç”¨ã„ã¾ã—ã‚‡ã†</strong>ï¼</p>
<div id="exm-" class="custom_problem theorem example">
<p><span class="theorem-title"><strong>Example 2</strong></span> <br></p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode ini code-with-copy"><code class="sourceCode ini"><span id="cb5-1"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">2025-12-09T14:30:00+09:00   # æ—¥æœ¬æ¨™æº–æ™‚ (JST)</span></span>
<span id="cb5-2"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">2025-12-09T05:30:00Z        # UTCï¼ˆZ ã¯ +00:00 ã¨ç­‰ä¾¡ï¼‰</span></span></code></pre></div></div>
</div>
<hr>
</section>
<section id="iso-week-date" class="level3">
<h3 class="anchored" data-anchor-id="iso-week-date">ISO week date</h3>
<div id="def-" class="custom_problem blog-custom-border theorem definition">
<p><span class="theorem-title"><strong>Definition 6</strong></span> <span class="def-title">ISOWEEK</span></p>
<ul>
<li>ISO-8601 ã¨ã„ã†å›½éš›æ¨™æº–ã§å®šã‚ã‚‰ã‚ŒãŸã€Œé€±ç•ªå·ã€ã®ä½“ç³»</li>
</ul>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode ini code-with-copy"><code class="sourceCode ini"><span id="cb6-1"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">Date                2025-12-08</span></span>
<span id="cb6-2"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">Week                2025-W50</span></span>
<span id="cb6-3"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">Week with weekday   2025-W50-1</span></span></code></pre></div></div>
</div>
<p><span class="mini-section">ISOWEEKè¨ˆç®—ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ </span></p>
<ol type="1">
<li>å¹´åˆã‹ã‚‰ã®é€šç®—æ—¥ï¼ˆday of yearï¼‰ã‹ã‚‰ï¼Œãã®æ—¥ã® ISO æ›œæ—¥ç•ªå·ã‚’å¼•ã</li>
<li>ãã®çµæœã« 10 ã‚’åŠ ãˆã‚‹</li>
<li>7 ã§å‰²ã‚Šï¼Œä½™ã‚Šã‚’åˆ‡ã‚Šæ¨ã¦ã‚‹</li>
</ol>
<p>ãã®å¾Œï¼Œæ¬¡ã®åˆ¤å®šã‚’è¡Œã†</p>
<ul>
<li>è¨ˆç®—çµæœãŒ 0 ã®å ´åˆ: ã“ã®æ—¥ä»˜ã¯ å‰å¹´ã®æœ€çµ‚é€±ï¼ˆé€±ç•ªå· 52 ã¾ãŸã¯ 53ï¼‰</li>
<li>è¨ˆç®—çµæœãŒ 53 ã®å ´åˆ:
<ul>
<li>ãã®å¹´ã« ISO é€± 53 ãŒå­˜åœ¨ã™ã‚‹ã‹ç¢ºèª</li>
<li>å­˜åœ¨ã—ãªã„å¹´ã®å ´åˆï¼Œã“ã®æ—¥ä»˜ã¯ ç¿Œå¹´ã®é€± 1</li>
</ul></li>
</ul>
<div class="pseudocode-container quarto-float" data-indent-size="1.2em" data-pseudocode-number="1" data-no-end="false" data-line-number="true" data-caption-prefix="Algorithm" data-comment-delimiter="//" data-line-number-punc=":">
<div class="pseudocode">
\begin{algorithm} \caption{ISO Week Number Calculation} \begin{algorithmic} \Procedure{WeekdayOfDec31}{$y$} \State $p = (\, y + \lfloor y/4 \rfloor - \lfloor y/100 \rfloor + \lfloor y/400 \rfloor \,) \bmod 7$ \Return $p$ \EndProcedure \State \Procedure{WeeksInYear}{$y$} \State $p_y$ = \Call{WeekdayOfDec31}{$y$} \State $p_{y-1}$ = \Call{WeekdayOfDec31}{$y-1$} \If{$p_y = 4 \ OR \ p_{y-1} = 3$} \Return $53$ \Else \Return $52$ \EndIf \EndProcedure \State \Procedure{ISOWeek}{$date$} \State $y = year(date)$ \State $doy = doy(date)$ $\,\,\,\,\,$ \Comment{ day of year} \State $dow = dow(date)$ $\,\,\,\,\,$\Comment{ISO weekday: 1=Mon,...,7=Sun} \State $w = \left\lfloor \dfrac{10 + doy - dow}{7} \right\rfloor$ \If{$w &lt; 1$} \Return \Call{WeeksInYear}{$y-1$} \ElsIf{$w$ &gt; \Call{WeeksInYear}{$y$}} \Return $1$ \Else \Return $w$ \EndIf \EndProcedure \end{algorithmic} \end{algorithm}
</div>
</div>
</section>
</section>
<section id="ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã¨ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°" class="level2">
<h2 class="anchored" data-anchor-id="ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã¨ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°">ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã¨ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°</h2>
<section id="ã‚·ã‚§ãƒ«ã§isoweekè¨ˆç®—" class="level3">
<h3 class="anchored" data-anchor-id="ã‚·ã‚§ãƒ«ã§isoweekè¨ˆç®—">ã‚·ã‚§ãƒ«ã§ISOWEEKè¨ˆç®—</h3>
<div id="def-" class="custom_problem blog-custom-border theorem definition">
<p><span class="theorem-title"><strong>Definition 7</strong></span> <span class="def-title"><code>date</code> ã‚³ãƒãƒ³ãƒ‰</span></p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb7-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">date</span> +%V</span></code></pre></div></div>
<p>ã‚’å®Ÿè¡Œã™ã‚‹ã¨ï¼Œç¾åœ¨æ™‚åˆ»ã®ISO WEEKãŒè¡¨ç¤ºã•ã‚Œã‚‹</p>
</div>
<p><span class="mini-section">é–¢é€£ã‚ªãƒ—ã‚·ãƒ§ãƒ³</span></p>
<div class="no-border-top-table">
<table class="caption-top table">
<thead>
<tr class="header">
<th>ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ</th>
<th>æ„å‘³</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>%V</code></td>
<td>ISO 8601 é€±ç•ªå·ï¼ˆ01â€“53ï¼‰</td>
</tr>
<tr class="even">
<td><code>%G</code></td>
<td>ISO å¹´ï¼ˆweek-based yearï¼‰</td>
</tr>
<tr class="odd">
<td><code>%g</code></td>
<td>ISO å¹´ï¼ˆä¸‹2æ¡ï¼‰</td>
</tr>
<tr class="even">
<td><code>%u</code></td>
<td>ISO æ›œæ—¥ï¼ˆ1=Monã€œ7=Sunï¼‰</td>
</tr>
<tr class="odd">
<td><code>%a</code></td>
<td>æ›œæ—¥åï¼ˆMon, Tue, â€¦ï¼‰</td>
</tr>
</tbody>
</table>
</div>
<div id="exm-" class="custom_problem theorem example">
<p><span class="theorem-title"><strong>Example 3 (UTC vs Asia/Tokyo)</strong></span> <br></p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb8-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">$</span> date +%V <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-d</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'2024-12-30T08:00:00.123213+09:00'</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-u</span></span>
<span id="cb8-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">52</span></span>
<span id="cb8-3"></span>
<span id="cb8-4"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">$</span> date +%V <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-d</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'2024-12-30T08:00:00.123213+00:00'</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-u</span></span>
<span id="cb8-5"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">01</span></span></code></pre></div></div>
</div>
<hr>
</section>
<section id="æ—¥ä»˜ãƒ¬ãƒ³ã‚¸ã‹ã‚‰ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ãƒ†ãƒ¼ãƒ–ãƒ«ã®ä½œæˆ" class="level3">
<h3 class="anchored" data-anchor-id="æ—¥ä»˜ãƒ¬ãƒ³ã‚¸ã‹ã‚‰ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ãƒ†ãƒ¼ãƒ–ãƒ«ã®ä½œæˆ">æ—¥ä»˜ãƒ¬ãƒ³ã‚¸ã‹ã‚‰ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ãƒ†ãƒ¼ãƒ–ãƒ«ã®ä½œæˆ</h3>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Goal
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><code>YYYY-MM-DD</code> å½¢å¼ã®ï¼’ã¤ã®å¼•æ•°ã‚’å…¥åŠ›ã™ã‚‹ã¨ï¼ŒæŒ‡å®šã—ãŸé–‹å§‹æ—¥ã‹ã‚‰çµ‚äº†æ—¥ã¾ã§ã®æ—¥ä»˜ç¯„å›²ã‚’1æ—¥ãšã¤åˆ—æŒ™ã—ãŸãƒ†ãƒ¼ãƒ–ãƒ«å½¢å¼ã§å‡ºåŠ›ã™ã‚‹é–¢æ•°ã‚’ä½œæˆ</li>
</ul>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb9-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">$</span> date-table 2020-01-01 2020-01-10   </span>
<span id="cb9-2"></span>
<span id="cb9-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">date</span>,weekday,iso_day_of_week,isoweek,day_of_year</span>
<span id="cb9-4"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">2020-01-01,Wed,3,01,001</span></span>
<span id="cb9-5"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">2020-01-02,Thu,4,01,002</span></span>
<span id="cb9-6"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">2020-01-03,Fri,5,01,003</span></span>
<span id="cb9-7"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">2020-01-04,Sat,6,01,004</span></span>
<span id="cb9-8"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">2020-01-05,Sun,7,01,005</span></span>
<span id="cb9-9"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">2020-01-06,Mon,1,02,006</span></span>
<span id="cb9-10"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">2020-01-07,Tue,2,02,007</span></span>
<span id="cb9-11"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">2020-01-08,Wed,3,02,008</span></span>
<span id="cb9-12"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">2020-01-09,Thu,4,02,009</span></span>
<span id="cb9-13"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">2020-01-10,Fri,5,02,010</span></span></code></pre></div></div>
</div>
</div>
<p><span class="mini-section">å®Ÿè£…ä¾‹</span></p>
<div class="tabset-margin-container"></div><div class="panel-tabset" data-group="language">
<ul class="nav nav-tabs"><li class="nav-item"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" aria-controls="tabset-1-1" aria-selected="true" href="">Bash</a></li><li class="nav-item"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" aria-controls="tabset-1-2" aria-selected="false" href="">Python + datetimeãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«</a></li><li class="nav-item"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" aria-controls="tabset-1-3" aria-selected="false" href="">Pandas</a></li><li class="nav-item"><a class="nav-link" id="tabset-1-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-4" aria-controls="tabset-1-4" aria-selected="false" href="">Polars</a></li><li class="nav-item"><a class="nav-link" id="tabset-1-5-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-5" aria-controls="tabset-1-5" aria-selected="false" href="">BigQuery with UDF Table</a></li></ul>
<div class="tab-content" data-group="language">
<div id="tabset-1-1" class="tab-pane active" aria-labelledby="tabset-1-1-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb10-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#!/bin/bash</span></span>
<span id="cb10-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># -----------------------------------------------------------------------------</span></span>
<span id="cb10-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Author: Ryo Nakagami</span></span>
<span id="cb10-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Revised: 2025-12-09</span></span>
<span id="cb10-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Script: date-table</span></span>
<span id="cb10-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Description:</span></span>
<span id="cb10-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#   Generates a CSV table of dates and their properties for a given date range.</span></span>
<span id="cb10-8"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#   Outputs columns for date, weekday, ISO day of week, ISO week number, and</span></span>
<span id="cb10-9"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#   day of year, with options to select which columns to display.</span></span>
<span id="cb10-10"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#</span></span>
<span id="cb10-11"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#   Steps:</span></span>
<span id="cb10-12"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#     1. Parse and validate command-line options and arguments.</span></span>
<span id="cb10-13"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#     2. Validate input dates (format and calendar existence).</span></span>
<span id="cb10-14"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#     3. Set output columns based on options (default: all columns).</span></span>
<span id="cb10-15"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#     4. Print CSV header.</span></span>
<span id="cb10-16"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#     5. Iterate from start to end date, printing each row with selected fields.</span></span>
<span id="cb10-17"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#</span></span>
<span id="cb10-18"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Options:</span></span>
<span id="cb10-19"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#    -a    Show weekday column</span></span>
<span id="cb10-20"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#    -u    Show ISO day of week column</span></span>
<span id="cb10-21"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#    -V    Show ISO week number column</span></span>
<span id="cb10-22"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#    -j    Show day of year column</span></span>
<span id="cb10-23"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#    -h    Show this help message</span></span>
<span id="cb10-24"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#</span></span>
<span id="cb10-25"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Usage:</span></span>
<span id="cb10-26"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#   ./date-table [-a] [-u] [-V] [-j] &lt;start-date&gt; &lt;end-date&gt;</span></span>
<span id="cb10-27"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#     # Outputs a CSV table for the date range, with selected columns.</span></span>
<span id="cb10-28"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#</span></span>
<span id="cb10-29"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Notes:</span></span>
<span id="cb10-30"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#   - Requires bash, GNU date, and coreutils installed.</span></span>
<span id="cb10-31"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#   - Dates must be in YYYY-MM-DD format.</span></span>
<span id="cb10-32"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#   - Exits with error if dates are invalid or out of order.</span></span>
<span id="cb10-33"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># -----------------------------------------------------------------------------</span></span>
<span id="cb10-34"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">set</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-euo</span> pipefail</span>
<span id="cb10-35"></span>
<span id="cb10-36"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># --- Validate YYYY-MM-DD ---</span></span>
<span id="cb10-37"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">validate_ymd()</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">{</span></span>
<span id="cb10-38">    <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">local</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">d</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$1</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span></span>
<span id="cb10-39"></span>
<span id="cb10-40">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Format check</span></span>
<span id="cb10-41">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">[[</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">!</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$d</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=~</span> <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">^</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">[</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">9</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">]</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">{</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">-</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">[</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">9</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">]</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">{</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">-</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">[</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">9</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">]</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">{</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">}</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">]];</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">then</span></span>
<span id="cb10-42">        <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">echo</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Error: Invalid format '</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$d</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'. Expected YYYY-MM-DD."</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;&amp;</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span></span>
<span id="cb10-43">        <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">exit</span> 1</span>
<span id="cb10-44">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">fi</span></span>
<span id="cb10-45"></span>
<span id="cb10-46">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Calendar existence check</span></span>
<span id="cb10-47">    <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">local</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">norm</span></span>
<span id="cb10-48">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">! </span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">norm</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$(</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">date</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-d</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$d</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span> +%Y-%m-%d <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>/dev/null<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">)</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">;</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">then</span></span>
<span id="cb10-49">        <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">echo</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Error: '</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$d</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">' is not a real date."</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;&amp;</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span></span>
<span id="cb10-50">        <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">exit</span> 1</span>
<span id="cb10-51">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">fi</span></span>
<span id="cb10-52"></span>
<span id="cb10-53">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Reject auto-corrected dates (e.g., 2025-02-30 â†’ 2025-03-02)</span></span>
<span id="cb10-54">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">[[</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$norm</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">!=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$d</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">]];</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">then</span></span>
<span id="cb10-55">        <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">echo</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Error: '</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$d</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">' is not a valid calendar date."</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;&amp;</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span></span>
<span id="cb10-56">        <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">exit</span> 1</span>
<span id="cb10-57">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">fi</span></span>
<span id="cb10-58"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">}</span></span>
<span id="cb10-59"></span>
<span id="cb10-60"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># --- Option parsing ---</span></span>
<span id="cb10-61"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">show_weekday</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>false</span>
<span id="cb10-62"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">show_iso_day</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>false</span>
<span id="cb10-63"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">show_isoweek</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>false</span>
<span id="cb10-64"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">show_day_of_year</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>false</span>
<span id="cb10-65"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">opt_specified</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>false</span>
<span id="cb10-66"></span>
<span id="cb10-67"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">while</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">getopts</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"auVj"</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">opt</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">;</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">do</span></span>
<span id="cb10-68">    <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">opt_specified</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>true</span>
<span id="cb10-69">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">case</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$opt</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span></span>
<span id="cb10-70">        <span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">a</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">show_weekday</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>true <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">;;</span></span>
<span id="cb10-71">        <span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">u</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">show_iso_day</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>true <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">;;</span></span>
<span id="cb10-72">        <span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">V</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">show_isoweek</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>true <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">;;</span></span>
<span id="cb10-73">        <span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">j</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">show_day_of_year</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>true <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">;;</span></span>
<span id="cb10-74">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">esac</span></span>
<span id="cb10-75"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">done</span></span>
<span id="cb10-76"> </span>
<span id="cb10-77"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">shift</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$((OPTIND</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">))</span></span>
<span id="cb10-78"></span>
<span id="cb10-79"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">[[</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$#</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-ne</span> 2 <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">]];</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">then</span></span>
<span id="cb10-80">    <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">echo</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Usage: </span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$0</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;"> [-a] [-u] [-V] [-j] &lt;start-date&gt; &lt;end-date&gt;"</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;&amp;</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span></span>
<span id="cb10-81">    <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">exit</span> 1</span>
<span id="cb10-82"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">fi</span></span>
<span id="cb10-83"></span>
<span id="cb10-84"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">start_date</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$1</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span></span>
<span id="cb10-85"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">end_date</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$2</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span></span>
<span id="cb10-86"></span>
<span id="cb10-87"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">validate_ymd</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$start_date</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span></span>
<span id="cb10-88"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">validate_ymd</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$end_date</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span></span>
<span id="cb10-89"></span>
<span id="cb10-90"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Ensure start &lt;= end</span></span>
<span id="cb10-91"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">[[</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$start_date</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&gt;</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$end_date</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">]];</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">then</span></span>
<span id="cb10-92">    <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">echo</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Error: start_date &gt; end_date"</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;&amp;</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span></span>
<span id="cb10-93">    <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">exit</span> 1</span>
<span id="cb10-94"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">fi</span></span>
<span id="cb10-95"></span>
<span id="cb10-96"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># If no options specified â†’ output all</span></span>
<span id="cb10-97"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">! </span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$opt_specified</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">;</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">then</span></span>
<span id="cb10-98">    <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">show_weekday</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>true</span>
<span id="cb10-99">    <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">show_iso_day</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>true</span>
<span id="cb10-100">    <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">show_isoweek</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>true</span>
<span id="cb10-101">    <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">show_day_of_year</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>true</span>
<span id="cb10-102"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">fi</span></span>
<span id="cb10-103"></span>
<span id="cb10-104"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># --- Print header ---</span></span>
<span id="cb10-105"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">printf</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"date"</span></span>
<span id="cb10-106"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$show_weekday</span>    <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">&amp;&amp;</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">printf</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">",weekday"</span></span>
<span id="cb10-107"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$show_iso_day</span>    <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">&amp;&amp;</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">printf</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">",iso_day_of_week"</span></span>
<span id="cb10-108"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$show_isoweek</span>    <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">&amp;&amp;</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">printf</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">",isoweek"</span></span>
<span id="cb10-109"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$show_day_of_year</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">&amp;&amp;</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">printf</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">",day_of_year"</span></span>
<span id="cb10-110"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">printf</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"\n"</span></span>
<span id="cb10-111"></span>
<span id="cb10-112"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># --- Generate rows ---</span></span>
<span id="cb10-113"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">current</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$start_date</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span></span>
<span id="cb10-114"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">while</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">true</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">;</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">do</span></span>
<span id="cb10-115"></span>
<span id="cb10-116">    <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">weekday</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$(</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">date</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-d</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$current</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span> +%a<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">)</span></span>
<span id="cb10-117">    <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">iso_day</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$(</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">date</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-d</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$current</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span> +%u<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">)</span></span>
<span id="cb10-118">    <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">isoweek</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$(</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">date</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-d</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$current</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span> +%V<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">)</span></span>
<span id="cb10-119">    <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">doy</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$(</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">date</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-d</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$current</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span> +%j<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">)</span></span>
<span id="cb10-120"></span>
<span id="cb10-121">    <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">printf</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%s"</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$current</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span></span>
<span id="cb10-122">    <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$show_weekday</span>     <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">&amp;&amp;</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">printf</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">",%s"</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$weekday</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span></span>
<span id="cb10-123">    <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$show_iso_day</span>     <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">&amp;&amp;</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">printf</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">",%s"</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$iso_day</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span></span>
<span id="cb10-124">    <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$show_isoweek</span>     <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">&amp;&amp;</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">printf</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">",%s"</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$isoweek</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span></span>
<span id="cb10-125">    <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$show_day_of_year</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">&amp;&amp;</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">printf</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">",%s"</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$doy</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span></span>
<span id="cb10-126"></span>
<span id="cb10-127">    <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">printf</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"\n"</span></span>
<span id="cb10-128"></span>
<span id="cb10-129">    <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">[[</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$current</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$end_date</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">]]</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">&amp;&amp;</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">break</span></span>
<span id="cb10-130"></span>
<span id="cb10-131">    <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">current</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$(</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">date</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-d</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$current</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;"> +1 day"</span> +%Y-%m-%d<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">)</span></span>
<span id="cb10-132"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">done</span></span></code></pre></div></div>
</div>
<div id="tabset-1-2" class="tab-pane" aria-labelledby="tabset-1-2-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> datetime <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> datetime, timedelta</span>
<span id="cb11-2"></span>
<span id="cb11-3"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">def</span> date_table(start_date: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>, end_date: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>):</span>
<span id="cb11-4">    start <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> datetime.fromisoformat(start_date).date()</span>
<span id="cb11-5">    end <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> datetime.fromisoformat(end_date).date()</span>
<span id="cb11-6"></span>
<span id="cb11-7">    delta <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> end <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> start</span>
<span id="cb11-8"></span>
<span id="cb11-9">    result <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> []</span>
<span id="cb11-10">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> i <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">range</span>(delta.days <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>):</span>
<span id="cb11-11">        d <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> start <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> timedelta(days<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>i)</span>
<span id="cb11-12">        result.append(</span>
<span id="cb11-13">            {</span>
<span id="cb11-14">                <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"date"</span>: d,</span>
<span id="cb11-15">                <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"date_str"</span>: d.isoformat(),</span>
<span id="cb11-16">                <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"weekday"</span>: d.strftime(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%a"</span>),  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Mon, Tue ...</span></span>
<span id="cb11-17">                <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"iso_day_of_week"</span>: d.isoweekday(),  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 1=Mon ... 7=Sun</span></span>
<span id="cb11-18">                <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"isoweek"</span>: d.isocalendar()[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>],  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ISO week number</span></span>
<span id="cb11-19">                <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"day_of_year"</span>: d.timetuple().tm_yday,  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 1ã€œ365/366</span></span>
<span id="cb11-20">            }</span>
<span id="cb11-21">        )</span>
<span id="cb11-22">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> result</span></code></pre></div></div>
</div>
<div id="tabset-1-3" class="tab-pane" aria-labelledby="tabset-1-3-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> pandas <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> pd</span>
<span id="cb12-2"></span>
<span id="cb12-3"></span>
<span id="cb12-4"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">def</span> date_table_pd(start_date: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>, end_date: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-&gt;</span> pd.DataFrame:</span>
<span id="cb12-5">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># date range</span></span>
<span id="cb12-6">    dates <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> pd.date_range(start<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>start_date, end<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>end_date, freq<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"D"</span>)</span>
<span id="cb12-7"></span>
<span id="cb12-8">    df <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> pd.DataFrame(</span>
<span id="cb12-9">        {</span>
<span id="cb12-10">            <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"date"</span>: dates.date,  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># date object</span></span>
<span id="cb12-11">            <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"date_str"</span>: dates.strftime(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%Y-%m-</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%d</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>),</span>
<span id="cb12-12">            <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"weekday"</span>: dates.strftime(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%a"</span>),  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Mon, Tue, ...</span></span>
<span id="cb12-13">            <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"iso_day_of_week"</span>: dates.isocalendar().day.values.astype(<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">int</span>),  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 1â€“7</span></span>
<span id="cb12-14">            <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"isoweek"</span>: dates.isocalendar().week.values.astype(<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">int</span>),  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ISO week number</span></span>
<span id="cb12-15">            <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"day_of_year"</span>: dates.dayofyear.values.astype(<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">int</span>),  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 1â€“366</span></span>
<span id="cb12-16">        }</span>
<span id="cb12-17">    )</span>
<span id="cb12-18"></span>
<span id="cb12-19">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> df</span></code></pre></div></div>
<ul>
<li><code>dates.isocalendar().day</code> ãªã©ã¯ Date Indexä»˜ <code>pandas.core.series.Series</code> ã§è¿”ã—ã¦ã—ã¾ã†ã®ã§ <code>.values</code> ã‚’ä½¿ç”¨</li>
</ul>
</div>
<div id="tabset-1-4" class="tab-pane" aria-labelledby="tabset-1-4-tab">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> polars <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> pl</span>
<span id="cb13-2"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> datetime <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> date</span>
<span id="cb13-3"></span>
<span id="cb13-4"></span>
<span id="cb13-5"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">def</span> date_table_pl(start_date: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>, end_date: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-&gt;</span> pl.DataFrame:</span>
<span id="cb13-6">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># reformat to date object</span></span>
<span id="cb13-7">    start <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> date.fromisoformat(start_date)</span>
<span id="cb13-8">    end <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> date.fromisoformat(end_date)</span>
<span id="cb13-9"></span>
<span id="cb13-10">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># date range</span></span>
<span id="cb13-11">    dates <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> pl.date_range(start<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>start, end<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>end, interval<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1d"</span>, eager<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">True</span>)</span>
<span id="cb13-12"></span>
<span id="cb13-13">    df <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> pl.DataFrame({<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"date"</span>: dates}).with_columns(</span>
<span id="cb13-14">        [</span>
<span id="cb13-15">            pl.col(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"date"</span>).dt.to_string(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%Y-%m-</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%d</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>).alias(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"date_str"</span>),</span>
<span id="cb13-16">            pl.col(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"date"</span>).dt.strftime(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%a"</span>).alias(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"weekday"</span>),</span>
<span id="cb13-17">            pl.col(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"date"</span>).dt.weekday().alias(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"iso_day_of_week"</span>),</span>
<span id="cb13-18">            pl.col(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"date"</span>).dt.week().alias(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"isoweek"</span>),</span>
<span id="cb13-19">            pl.col(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"date"</span>).dt.ordinal_day().alias(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"day_of_year"</span>),</span>
<span id="cb13-20">        ]</span>
<span id="cb13-21">    )</span>
<span id="cb13-22"></span>
<span id="cb13-23">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> df</span></code></pre></div></div>
</div>
<div id="tabset-1-5" class="tab-pane" aria-labelledby="tabset-1-5-tab">
<ol type="1">
<li>ãƒ†ãƒ¼ãƒ–ãƒ«é–¢æ•°ç”¨ã®Data setã®ä½œæˆ</li>
</ol>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb14" style="background: #f1f3f5;"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb14-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">CREATE</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">SCHEMA</span> `hogehoge<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>project.utility_table`</span>
<span id="cb14-2">OPTIONS (location<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">"asia-northeast1"</span>);</span></code></pre></div></div>
<ol start="2" type="1">
<li>ãƒ†ãƒ¼ãƒ–ãƒ«é–¢æ•°ä½œæˆ (<code>CREATE TABLE FUNCTION</code>)</li>
</ol>
<p>BigQuery ã® <code>DAYOFWEEK</code> ãŒ <code>Sunday=1</code> ã§ã‚ã‚‹ã®ã§ISO8601å½¢å¼ã«å¤‰æ›</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb15" style="background: #f1f3f5;"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb15-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">CREATE</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">OR</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">REPLACE</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">TABLE</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">FUNCTION</span></span>
<span id="cb15-2">  `hogehoge<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>project.utility_table.date_table`(start_date <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">DATE</span>, end_date <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">DATE</span>)</span>
<span id="cb15-3"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">AS</span> (</span>
<span id="cb15-4">  <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">SELECT</span></span>
<span id="cb15-5">    d <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">AS</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">date</span>,</span>
<span id="cb15-6">    FORMAT_DATE(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'%Y-%m-%d'</span>, d) <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">AS</span> date_str,</span>
<span id="cb15-7">    FORMAT_DATE(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'%a'</span>, d) <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">AS</span> weekday,</span>
<span id="cb15-8">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">MOD</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">EXTRACT</span>(DAYOFWEEK <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">FROM</span> d) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">7</span>) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">AS</span> iso_day_of_week,</span>
<span id="cb15-9">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">EXTRACT</span>(ISOWEEK <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">FROM</span> d) <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">AS</span> isoweek,</span>
<span id="cb15-10">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">EXTRACT</span>(DAYOFYEAR <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">FROM</span> d) <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">AS</span> day_of_year</span>
<span id="cb15-11">  <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">FROM</span></span>
<span id="cb15-12">    UNNEST(GENERATE_DATE_ARRAY(start_date, end_date, <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">INTERVAL</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">DAY</span>)) <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">AS</span> d</span>
<span id="cb15-13">);</span></code></pre></div></div>
<ol start="3" type="1">
<li>å®Ÿè¡Œ</li>
</ol>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb16" style="background: #f1f3f5;"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb16-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">SELECT</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span></span>
<span id="cb16-2"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">FROM</span> </span>
<span id="cb16-3">  `hogehoge<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>project.utility_table.date_table`(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'2025-02-01'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'2025-02-10'</span>);</span></code></pre></div></div>
</div>
</div>
</div>
</section>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<ul>
<li><a href="https://docs.python.org/ja/3.14/library/datetime.html#">Python Documentation &gt; datetime â€” åŸºæœ¬çš„ãªæ—¥ä»˜ã¨æ™‚é–“ã®å‹</a></li>
</ul>


</section>

 ]]></description>
  <category>python</category>
  <category>SQL</category>
  <category>shell</category>
  <guid>https://ryonakagami.github.io/regmonkey-datascience-blog/posts/2025-12-09-create-calendar-table/</guid>
  <pubDate>Tue, 09 Dec 2025 00:00:00 GMT</pubDate>
</item>
<item>
  <title>NW Regressionã®ãƒ¡ãƒ¢</title>
  <dc:creator>Ryo Nakagami</dc:creator>
  <link>https://ryonakagami.github.io/regmonkey-datascience-blog/posts/2025-12-04-kernel-regression/</link>
  <description><![CDATA[ 






<section id="non-parametric-regression" class="level2">
<h2 class="anchored" data-anchor-id="non-parametric-regression">Non-parametric Regression</h2>
<p><img src="https://latex.codecogs.com/png.latex?(X_1,%20Y_1),%20%5Ccdots,%20(X_n,%20Y_n)%20%5Csim%20F"> ã¨ã„ã†ãƒ‡ãƒ¼ã‚¿ã‚’è¦³æ¸¬ã—ãŸã¨ãï¼Œ</p>
<p><img src="https://latex.codecogs.com/png.latex?%0Ar(x)%20=%20%5Cmathbb%20E%5BY%20%7C%20X%20=%20x%5D%0A"></p>
<p>ã¨ã„ã†CEFã‚’æ¨å®šã™ã‚‹ã®ãŒã‚´ãƒ¼ãƒ«ã¨ãªã‚Šã¾ã™ï¼ã“ã®ã¨ãï¼Œ<img src="https://latex.codecogs.com/png.latex?%5Chat%20r(x)"> ã‚’å›å¸°é–¢æ•°ã¨ã™ã‚‹ã¨ <img src="https://latex.codecogs.com/png.latex?r(x)"> ã¨ã®è·é›¢ã‚’è€ƒãˆã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼ è·é›¢ã®ä¸€ä¾‹ã¨ã—ã¦</p>
<p><img src="https://latex.codecogs.com/png.latex?%0AL(%5Chat%20r,%20r)%20=%20%5Cint%20(%5Chat%20r(x)%20-%20r(x))%5E2%20%5C,%5Cmathrm%7Bd%7Dx%0A"></p>
<p>ã¨ã™ã‚‹ã¨ãƒªã‚¹ã‚¯é–¢æ•°ã¯</p>
<p><img src="https://latex.codecogs.com/png.latex?%0AR(%5Chat%20r,%20r)%20=%20%5Cmathbb%20E%5Cleft%5B%5Cint%20(%5Chat%20r(x)%20-%20r(x))%5E2%20%5C,%5Cmathrm%7Bd%7Dx%5Cright%5D%0A"></p>
<ul>
<li>ã“ã®ã¨ãï¼Œ<img src="https://latex.codecogs.com/png.latex?r%5E%7B%5Cprime%5Cprime%7D(y)%20%3C%20%5Cinfty"> ã§ã‚ã‚‹ã¨ä»®å®šã—ã¦ã„ã¾ã™</li>
</ul>
<p>å›å¸°é–¢æ•°ã®Biasã¨Varianceã‚’ <img src="https://latex.codecogs.com/png.latex?b(x),%20v(x)"> ã¨ã™ã‚‹ã¨ï¼Œ</p>
<p><img src="https://latex.codecogs.com/png.latex?%0AR(%5Chat%20r,%20r)%20=%20%5Cint%20b%5E2(x)%20%5C,%5Cmathrm%7Bd%7Dx%20+%20%5Cint%20v(x)%5C,%5Cmathrm%7Bd%7Dx%0A"></p>
<p><span class="mini-section">Non-parametric Regressionã®æ–¹é‡</span></p>
<p>Non-parametric Regressionæ¨å®šã®è€ƒãˆæ–¹ã¯ï¼Œãƒ‡ãƒ¼ã‚¿ã®ã€Œå±€æ‰€å¹³å‡ã€ã‚’ã¨ã‚‹ã“ã¨ã§ã§ã™ï¼ ã‚ã‚‹ç‚¹ã«ãŠã‘ã‚‹å›å¸°é–¢æ•°ã®æ¨å®šå€¤ã¯ã€ãã®ç‚¹ã®è¿‘å‚ã«ã‚ã‚‹ <img src="https://latex.codecogs.com/png.latex?Y"> ã®å€¤ã®å¹³å‡ã¨ã—ã¦æ±‚ã‚ã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ï¼</p>
<p>ãƒãƒ³ãƒ‰å¹…ã¯ Bias ã¨ Variance ã«å½±éŸ¿ã‚’ä¸ãˆã¾ã™ãŒï¼Œ</p>
<ul>
<li>è¿‘å‚ãŒåºƒã™ãã‚‹ã¨ï¼ŒBias ãŒå¤§ãã Variance ãŒå°ã•ã„çŠ¶æ…‹ã¸ï¼ˆoversmoothingï¼‰</li>
<li>é€†ã«è¿‘å‚ãŒç‹­ã™ãã‚‹ã¨ï¼ŒBias ã¯å°ã•ã„ãŒ Variance ãŒå¤§ãã„çŠ¶æ…‹ã¸ï¼ˆundersmoothingï¼‰</li>
</ul>
</section>
<section id="kernel-regression" class="level2">
<h2 class="anchored" data-anchor-id="kernel-regression">Kernel Regression</h2>
<div id="def-" class="custom_problem blog-custom-border theorem definition">
<p><span class="theorem-title"><strong>Definition 1</strong></span> <span class="def-title">Kernel Regression Estimator</span></p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Chat%20r(x)%20=%20%5Csum_%7Bi=1%7D%5En%20w_i(x)%20Y_i%0A"></p>
<p><img src="https://latex.codecogs.com/png.latex?w_i(x)">: importance weight and the form is following</p>
<p><img src="https://latex.codecogs.com/png.latex?%0Aw_i(x)%20=%20%5Cfrac%7BK%5Cleft(%5Cfrac%7Bx%20-%20X_i%7D%7Bh%7D%5Cright)%7D%7B%5Csum_%7Bi=1%7D%5EnK%5Cleft(%5Cfrac%7Bx%20-%20X_i%7D%7Bh%7D%5Cright)%7D%0A"></p>
</div>
<p>è¡¨è¨˜ç°¡ç•¥åŒ–ã®ãŸã‚ <img src="https://latex.codecogs.com/png.latex?K%5Cleft(%5Cfrac%7Bx%20-%20X_i%7D%7Bh%7D%5Cright)%20=%20K_h(X_i)"> ã¨ã—ï¼Œ<img src="https://latex.codecogs.com/png.latex?X_i"> ã¯ ï¼‘å¤‰æ•°ã®å ´åˆã¨ã—ã¾ã™ï¼</p>
<div class="math display" style="overflow: auto">
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Balign%7D%0A%5Chat%20r(x)%0A%20%20&amp;=%20%5Cfrac%7B%5Csum%20Y_i%20K_h(X_i)%7D%7B%5Csum%20K_h(X_i)%7D%5C%5C%0A%20%20&amp;=%20%5Cfrac%7B%5Cfrac%7B1%7D%7Bn%7D%5Csum%20Y_i%20K_h(X_i)%7D%7B%5Cfrac%7B1%7D%7Bn%7D%5Csum%20K_h(X_i)%7D%5C%5C%0A%20%20&amp;=%20%5Cfrac%7B%5Cfrac%7B1%7D%7Bn%7D%5Csum%20Y_i%20K_h(X_i)%7D%7B%5Chat%20p(x)%7D%5C%5C%0A%20%20&amp;%5Capprox%20%5Cfrac%7B%5Cfrac%7B1%7D%7Bn%7D%5Csum%20Y_i%20K_h(X_i)%7D%7Bp(x)%7D%0A%5Cend%7Balign%7D%0A"></p>
</div>
<p>ã“ã®ã¨ã numerator å´ã®æœŸå¾…å€¤ã‚’è€ƒãˆã‚‹ã¨</p>
<div class="math display" style="overflow: auto">
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Balign%7D%0A%5Cmathbb%7BE%7D%5BY%20K_h(X%20-%20x)%5D%0A&amp;=%20%5Ciint%20y%20K_h(u%20-%20x)%20p(u,%20y)%5C,%20dy%5C,%20du%20%5C%5C%0A&amp;=%20%5Cint%20K_h(u%20-%20x)%20%5Cleft(%20%5Cint%20y%20p(y%20%5Cmid%20u)%5C,%20dy%20%5Cright)%20p(u)%5C,%20du%20%5C%5C%0A&amp;=%20%5Cint%20K_h(u%20-%20x)%20r(u)%20p(u)%5C,%20du%20%5C%5C%0A&amp;=%20%5Cint%20K(t)%5C,%20r(x%20+%20th)%5C,%20p(x%20+%20th)%5C,%20dt%20%5C%5C%0A&amp;%5Capprox%20%5Cint%20K(t)%0A%5Cleft%5B%20r(x)%20+%20th%20r'(x)%20+%20%5Cfrac%7Bt%5E2%20h%5E2%7D%7B2%7D%20r''(x)%20%5Cright%5D%0A%5Cleft%5B%20p(x)%20+%20th%20p'(x)%20+%20%5Cfrac%7Bt%5E2%20h%5E2%7D%7B2%7D%20p''(x)%20%5Cright%5D%20dt%20%5C%5C%0A&amp;=%20r(x)p(x)%20+%20%5Cfrac%7Bc%20h%5E2%7D%7B2%7D%20%5Cleft%5B%20r(x)p''(x)%20+%202%20r'(x)p'(x)%20+%20r''(x)p(x)%20%5Cright%5D%0A%5Cend%7Balign%7D%0A"></p>
</div>
<p>ã“ã®ã¨ã <img src="https://latex.codecogs.com/png.latex?c%20=%20%5Cint%20t%5E2K(t)">ï¼ã—ãŸãŒã£ã¦ï¼Œ</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Cmathbb%20E%5B%5Chat%20r(x)%5D%20=%20r(x)%20+%20Ch%5E2%0A"></p>
<p><span class="mini-section">åˆ†æ•£ã®å°å‡º</span></p>
<div class="math display" style="overflow: auto">
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Balign%7D%0A%5Cmathbb%20E%5BY%5E2K%5E2_h(X%20-%20x)%5D%0A%20%20&amp;=%20%5Cint%20%5Cmathbb%20E%5BY%5E2%20%7C%20X=u%5DK%5E2_h(u%20-%20x)p(u)%5C,%20du%20%5C%5C%0A%20%20&amp;=%20%5Cint%20(r%5E2(u)%20+%20%5Csigma%5E2(u))K%5E2_h(u%20-%20x)p(u)%5C,%20du%20%5C%5C%0A%20%20&amp;=%20%5Cint%20%5Cleft(%20%5Csigma%5E%7B2%7D(x%20+%20th)%20+%20r%5E%7B2%7D(x%20+%20th)%20%5Cright)%0A%20%20%20%20%20%20%5Cfrac%7B1%7D%7Bh%5E%7B2%7D%7D%20K%5E%7B2%7D(t)%5C,%20p(x%20+%20th)%5C,%20h%5C,%20dt%20%5C%5C%0A%20%20&amp;=%20%5Cfrac%7B1%7D%7Bh%7D%20%5Cint%20%5Cleft(%20%5Csigma%5E%7B2%7D(x)%20+%20r%5E%7B2%7D(x)%20%5Cright)%0A%20%20%20%20%20%20p(x)%5C,%20K%5E%7B2%7D(t)%5C,%20dt%20+%20o%5C!%5Cleft(%5Cfrac%7B1%7D%7Bh%7D%5Cright).%0A%5Cend%7Balign%7D%0A"></p>
</div>
<p>ã—ãŸãŒã£ã¦ï¼Œ <img src="https://latex.codecogs.com/png.latex?%5Cmathcal%7BO%7D(1/h)">. <img src="https://latex.codecogs.com/png.latex?h%5Cto%200"> ã®çŠ¶æ³ã§ã¯ <img src="https://latex.codecogs.com/png.latex?%5Cmathbb%20E%5BY%5E2K%5E2_h(X%20-%20x)%5D"> ã®ã‚ªãƒ¼ãƒ€ãƒ¼ãŒæ”¯é…çš„ã«ãªã‚‹ã®ã§</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Coperatorname%7BVar%7D(Y%20K_h(X%20-%20x))%20%5Capprox%20%5Cmathcal%7BO%7D(1/h)%0A"></p>
<p>ã—ãŸãŒã£ã¦ï¼Œi.i.dã¨ <img src="https://latex.codecogs.com/png.latex?%5Csum_%7Bi=1%7D%5En"> ã‚ˆã‚Š</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Coperatorname%7BVar%7D(%5Chat%20r(x))%20=%20%5Cfrac%7BC%7D%7Bnh%7D%0A"></p>
<p>ã“ã‚Œã‚‰ã‚’è¸ã¾ãˆã‚‹ã¨IMSEã¯</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Coperatorname%7BIMSE%7D%20=%20ch%5E4%20+%20%5Cfrac%7Bc%7D%7Bnh%7D%0A"></p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Curse of dimensionality
</div>
</div>
<div class="callout-body-container callout-body">
<p><img src="https://latex.codecogs.com/png.latex?d"> æ¬¡å…ƒã‚’è€ƒãˆã‚‹ã¨ãƒªã‚¹ã‚¯é–¢æ•°ã¯æ¬¡ã®ã‚ªãƒ¼ãƒ€ãƒ¼ã«ãªã‚Šã¾ã™</p>
<p><img src="https://latex.codecogs.com/png.latex?%0AR(%5Chat%20r,%20r)%20%5Capprox%20n%5E%7B-4/(4%20+%20d)%7D%0A"></p>
<p><img src="https://latex.codecogs.com/png.latex?d"> ãŒå¤§ãããªã‚‹ã»ã©ï¼ŒIMSEã®ã‚ªãƒ¼ãƒ€ãƒ¼ã¯æ‚ªããªã‚‹ã“ã¨ã‹ã‚‰ curse of dimensionality ã¨å‘¼ã³ã¾ã™ï¼</p>
</div>
</div>


</section>

 ]]></description>
  <category>çµ±è¨ˆ</category>
  <guid>https://ryonakagami.github.io/regmonkey-datascience-blog/posts/2025-12-04-kernel-regression/</guid>
  <pubDate>Thu, 04 Dec 2025 00:00:00 GMT</pubDate>
</item>
<item>
  <title>UTF-8 ã® BOM ä»˜ã vs BOM ãªã—</title>
  <dc:creator>Ryo Nakagami</dc:creator>
  <link>https://ryonakagami.github.io/regmonkey-datascience-blog/posts/2025-12-03-BOM/</link>
  <description><![CDATA[ 






<section id="bombyte-order-mark" class="level2">
<h2 class="anchored" data-anchor-id="bombyte-order-mark">BOM(Byte Order Mark)</h2>
<div id="def-" class="custom_problem blog-custom-border theorem definition">
<p><span class="theorem-title"><strong>Definition 1</strong></span> <span class="def-title">BOM</span></p>
<ul>
<li>ãƒã‚¤ãƒˆé †åºï¼ˆã‚¨ãƒ³ãƒ‡ã‚£ã‚¢ãƒ³ï¼‰ã‚’ç¤ºã™ãŸã‚ã®ãƒãƒ¼ã‚¯</li>
<li>BOM ã¯å¿…ãšãƒ†ã‚­ã‚¹ãƒˆã®å…ˆé ­ã«ä»˜ä¸ã•ã‚Œã‚‹(= ãƒ†ã‚­ã‚¹ãƒˆã®ä¸­é–“ã«ç½®ã‹ã‚Œã‚‹ã“ã¨ã¯ãªã„)</li>
<li>UTF-8 ã¯ãƒã‚¤ãƒˆé †åºãŒãªã„ã®ã§å¿…è¦ãªã„ãŒï¼ŒUTF-8ã§ã‚ã‚‹ã“ã¨ã®åˆ¤å®šã®ãŸã‚ã«UTF-8 with BOM ã¨ãªã‚‹å ´åˆãŒã‚ã‚‹</li>
</ul>
</div>
<p>ãƒ—ãƒ­ã‚°ãƒ©ãƒ ãŒãƒ†ã‚­ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã‚€éš›ã«å…ˆé ­ã®æ•°ãƒã‚¤ãƒˆã«ã‚ˆã‚ŠUnicodeã®ãƒ‡ãƒ¼ã‚¿ã§ã‚ã‚‹ã“ã¨ã‚„ã©ã®ç¨®é¡ã®ç¬¦å·åŒ–å½¢å¼ã‚’æ¡ç”¨ã—ã¦ã„ã‚‹ã®ã‹ã‚’åˆ¤åˆ¥ã—ã¦ã„ã¾ã™ï¼ BOMä»˜ãã®UTF-8ã§ã‚ã‚Œã°å…ˆé ­ã®3ãƒã‚¤ãƒˆãŒBOMã§ã‚ã‚Šï¼Œ<code>0xEF 0xBB 0xBF</code>ã¨ã„ã†ãƒ‡ãƒ¼ã‚¿ã«ãªã‚Šã¾ã™ï¼</p>
<p><span class="mini-section">BOMä¸€è¦§</span></p>
<table class="caption-top table">
<colgroup>
<col style="width: 20%">
<col style="width: 8%">
<col style="width: 70%">
</colgroup>
<thead>
<tr class="header">
<th>ç¬¦å·åŒ–å½¢å¼ï¼ˆç¬¦å·åŒ–ã‚¹ã‚­ãƒ¼ãƒ ï¼‰</th>
<th>ã‚¨ãƒ³ãƒ‡ã‚£ã‚¢ãƒ³</th>
<th>ãƒã‚¤ãƒˆé †ãƒãƒ¼ã‚¯ (BOM)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>UTF-8</td>
<td>ãªã—</td>
<td><code>EF BB BF</code></td>
</tr>
<tr class="even">
<td>UTF-16</td>
<td>BE</td>
<td><code>FE FF</code></td>
</tr>
<tr class="odd">
<td>UTF-16</td>
<td>LE</td>
<td><code>FF FE</code></td>
</tr>
<tr class="even">
<td>UTF-32</td>
<td>BE</td>
<td><code>00 00 FE FF</code></td>
</tr>
<tr class="odd">
<td>UTF-32</td>
<td>LE</td>
<td><code>FF FE 00 00</code></td>
</tr>
</tbody>
</table>
<section id="xxd-ã‚³ãƒãƒ³ãƒ‰ã§bomã‚’ç¢ºèªã™ã‚‹" class="level3">
<h3 class="anchored" data-anchor-id="xxd-ã‚³ãƒãƒ³ãƒ‰ã§bomã‚’ç¢ºèªã™ã‚‹"><code>xxd</code> ã‚³ãƒãƒ³ãƒ‰ã§BOMã‚’ç¢ºèªã™ã‚‹</h3>
<p>ä»¥ä¸‹ã‚’å†…å®¹ã¨ã™ã‚‹ <code>test.sh</code> ã¨ã„ã†ãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚ã‚‹ã¨ã—ã¾ã™ï¼</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#!/bin/bash</span></span>
<span id="cb1-2"></span>
<span id="cb1-3"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">echo</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Hallo World!!"</span></span></code></pre></div></div>
<p>BOMãŒä»˜ä¸ã•ã‚Œã¦ã„ãªã„ã¨</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">$</span> xxd test.sh <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">|</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">head</span>                </span>
<span id="cb2-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">00000000:</span> 2321 2f62 696e 2f62 6173 680a 0a65 6368  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#!/bin/bash..ech</span></span>
<span id="cb2-3"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">00000010:</span> 6f20 2248 616c 6c6f 2057 6f72 6c64 2121  o <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Hallo World!!</span></span>
<span id="cb2-4"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">00000020: 220a 0a                                  "</span>..</span></code></pre></div></div>
<p>ã¨ãªã‚Šã¾ã™ãŒï¼Œ<code>vim "+set bomb" "+wq" test.sh</code> ã¨BOMã‚’ä»˜ä¸ã™ã‚‹ã¨</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">$</span> xxd test.sh <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">|</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">head</span>                 </span>
<span id="cb3-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">00000000:</span> efbb bf23 212f 6269 6e2f 6261 7368 0a0a  ...#!/bin/bash..</span>
<span id="cb3-3"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">00000010:</span> 6563 686f 2022 4861 6c6c 6f20 576f 726c  echo <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Hallo Worl</span></span>
<span id="cb3-4"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">00000020: 6421 2122 0a0a                           d!!"</span>..</span></code></pre></div></div>
<p>å…ˆé ­ãƒã‚¤ãƒˆãŒ <code>efbb bf</code> ã¨ãªã£ã¦ã„ã‚‹ã“ã¨ã‹ã‚‰ UTF-8 with BOMã§ã‚ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ï¼</p>
<p>BOMã‚ã‚Šã®å ´åˆï¼Œ<code>chmod +x test.sh</code> å®Ÿè¡Œå¾Œã«ãƒ©ãƒ³ã—ã¦ã¿ã‚‹ã¨</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb4-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">$</span> ./test.sh                    </span>
<span id="cb4-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">./test.sh:</span> 1: ï»¿#!/bin/bash: not found</span>
<span id="cb4-3"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Hallo</span> World!!</span></code></pre></div></div>
<p>ã¨ãªã‚Šã¾ã™ï¼</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span><code>nkf</code> ã‚’ç”¨ã„ãŸæ–‡å­—ã‚³ãƒ¼ãƒ‰åˆ¤å®š
</div>
</div>
<div class="callout-body-container callout-body">
<p><code>nkf</code> ã‚³ãƒãƒ³ãƒ‰ã¨ <code>--guess</code> ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’çµ„ã¿åˆã‚ã›ã‚‹ã¨ï¼Œä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹æ–‡å­—ã‚³ãƒ¼ãƒ‰ã¨æ”¹è¡Œã‚³ãƒ¼ãƒ‰ã®åˆ¤å®šçµæœã‚’è¡¨ç¤ºã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ï¼</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">$</span> nkf <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--guess</span> test.sh </span>
<span id="cb5-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">UTF-8</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">BOM</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">LF</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span></code></pre></div></div>
</div>
</div>
</section>
<section id="nkf-ã‚³ãƒãƒ³ãƒ‰ã‚’ç”¨ã„ã¦bomãªã—ã¸å¤‰æ›ã™ã‚‹" class="level3">
<h3 class="anchored" data-anchor-id="nkf-ã‚³ãƒãƒ³ãƒ‰ã‚’ç”¨ã„ã¦bomãªã—ã¸å¤‰æ›ã™ã‚‹"><code>nkf</code> ã‚³ãƒãƒ³ãƒ‰ã‚’ç”¨ã„ã¦BOMãªã—ã¸å¤‰æ›ã™ã‚‹</h3>
<div id="def-" class="custom_problem blog-custom-border theorem definition">
<p><span class="theorem-title"><strong>Definition 2</strong></span> <span class="def-title"><code>nkf</code> ã‚³ãƒãƒ³ãƒ‰</span></p>
<ul>
<li><p>Network Kanji Filterã®ç•¥</p></li>
<li><p>æ–‡å­—ã‚³ãƒ¼ãƒ‰ã¨æ”¹è¡Œã‚³ãƒ¼ãƒ‰ã‚’å¤‰æ›ã™ã‚‹ãŸã‚ã®ã‚³ãƒãƒ³ãƒ‰</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb6-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">nkf</span> <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">[</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">opttion</span><span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">]</span> <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">[</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">file</span><span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">]</span></span></code></pre></div></div></li>
</ul>
</div>
<p><span class="mini-section">å…¥åŠ›æ–‡å­—ã‚³ãƒ¼ãƒ‰ã‚ªãƒ—ã‚·ãƒ§ãƒ³</span></p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>ã‚ªãƒ—ã‚·ãƒ§ãƒ³</th>
<th>æ„å‘³</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>-J</code></td>
<td>å…¥åŠ›ã‚’ ISO-2022-JP ã¨ã¿ãªã™</td>
</tr>
<tr class="even">
<td><code>-S</code></td>
<td>å…¥åŠ›ã‚’ Shift_JIS ã¨ã¿ãªã™</td>
</tr>
<tr class="odd">
<td><code>-E</code></td>
<td>å…¥åŠ›ã‚’ EUC-JP ã¨ã¿ãªã™</td>
</tr>
<tr class="even">
<td><code>--ic=UTF-8</code></td>
<td>å…¥åŠ›ã‚’ UTF-8 ã¨ã¿ãªã™</td>
</tr>
</tbody>
</table>
<p><span class="mini-section">å‡ºåŠ›æ–‡å­—ã‚³ãƒ¼ãƒ‰ã‚ªãƒ—ã‚·ãƒ§ãƒ³</span></p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>ã‚ªãƒ—ã‚·ãƒ§ãƒ³</th>
<th>æ„å‘³</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>-j</code></td>
<td>å‡ºåŠ›ã‚’ ISO-2022-JP</td>
</tr>
<tr class="even">
<td><code>-s</code></td>
<td>å‡ºåŠ›ã‚’ Shift_JIS</td>
</tr>
<tr class="odd">
<td><code>-e</code></td>
<td>å‡ºåŠ›ã‚’ EUC-JP</td>
</tr>
<tr class="even">
<td><code>-w</code></td>
<td>å‡ºåŠ›ã‚’ UTF-8ï¼ˆBOMãªã—ï¼‰</td>
</tr>
<tr class="odd">
<td><code>-w8</code></td>
<td>å‡ºåŠ›ã‚’ UTF-8ï¼ˆBOMä»˜ãï¼‰</td>
</tr>
<tr class="even">
<td><code>--oc=UTF-8</code></td>
<td>å‡ºåŠ›ã‚’ UTF-8ï¼ˆBOMãªã—ï¼‰</td>
</tr>
<tr class="odd">
<td><code>--oc=UTF-8-BOM</code></td>
<td>å‡ºåŠ›ã‚’ UTF-8ï¼ˆBOMä»˜ãï¼‰</td>
</tr>
</tbody>
</table>
<section id="bomã‚’å–ã‚Šé™¤ã" class="level4">
<h4 class="anchored" data-anchor-id="bomã‚’å–ã‚Šé™¤ã">BOMã‚’å–ã‚Šé™¤ã</h4>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb7-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">nkf</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--overwrite</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--oc</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>UTF-8 test.sh</span></code></pre></div></div>
<p>ã¨ã™ã‚‹ã“ã¨ã§BOMãªã—UTF-8ã¸å¤‰æ›ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ï¼</p>
<table class="caption-top table">
<colgroup>
<col style="width: 17%">
<col style="width: 82%">
</colgroup>
<thead>
<tr class="header">
<th>ã‚ªãƒ—ã‚·ãƒ§ãƒ³</th>
<th>æ„å‘³</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>--overwrite</code></td>
<td><strong>å…ƒãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¸Šæ›¸ã</strong>ã—ã¦ä¿å­˜ã™ã‚‹</td>
</tr>
<tr class="even">
<td><code>--oc=UTF-8</code></td>
<td>å‡ºåŠ›ã®æ–‡å­—ã‚³ãƒ¼ãƒ‰ã‚’ UTF-8 ã«ã™ã‚‹</td>
</tr>
</tbody>
</table>
<p>å†…éƒ¨çš„ã«ã¯</p>
<ol type="1">
<li>å…ƒãƒ•ã‚¡ã‚¤ãƒ«ã®æ–‡å­—ã‚³ãƒ¼ãƒ‰ãŒè‡ªå‹•åˆ¤å®šã•ã‚Œã‚‹</li>
<li>å†…å®¹ã‚’ UTF-8 ã«å¤‰æ›</li>
<li>BOM ã‚’æŒã£ã¦ã„ãŸå ´åˆã¯å‰Šé™¤</li>
<li>å¤‰æ›å¾Œã®å†…å®¹ã§ test.sh ã‚’ä¸Šæ›¸ãä¿å­˜</li>
</ol>
<p>ã¨ã„ã†å‡¦ç†ãŒè¡Œã‚ã‚Œã‚‹ã®ã§ï¼Œã‚‚ã—æ€ã£ãŸã‚ˆã†ãªæŒ™å‹•ãŒç¢ºèªã§ããªã„å ´åˆã¯ã€Œ<strong>å…ƒãƒ•ã‚¡ã‚¤ãƒ«ã®æ–‡å­—ã‚³ãƒ¼ãƒ‰ãŒè‡ªå‹•åˆ¤å®šã•ã‚Œã‚‹</strong>ã€ã«å•é¡ŒãŒã‚ã‚‹ã‹ã‚‚ãªã®ã§ å…¥åŠ›æ–‡å­—ã‚³ãƒ¼ãƒ‰æŒ‡å®šã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’çµ„ã¿åˆã‚ã›ãŸã‚Šã—ã¾ã™</p>
</section>
</section>
</section>
<section id="appendix" class="level2">
<h2 class="anchored" data-anchor-id="appendix">Appendix</h2>
<div id="def-" class="custom_problem blog-custom-border theorem definition">
<p><span class="theorem-title"><strong>Definition 3</strong></span> <span class="def-title">UTF-8</span></p>
<ul>
<li>Unicodeã§å‰²ã‚ŠæŒ¯ã£ãŸã‚³ãƒ¼ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®æ–‡å­—ç¬¦å·åŒ–å½¢å¼(encodingå½¢å¼)ã®ä¸€ç¨®</li>
<li>ASCIIã¨åŒã˜æ–‡å­—ã¯1ãƒã‚¤ãƒˆï¼Œãã®ä»–ã®æ–‡å­—ã«ã¤ã„ã¦ã¯2ï½4ãƒã‚¤ãƒˆã‚’ç”¨ã„ã¦æ–‡å­—ã‚’è¡¨ç¾ã™ã‚‹</li>
<li>ASCIIã¨ã®å¯¾å¿œé–¢ä¿‚ãŒã‚ã‚‹ã®ã§ ã€ŒASCIIã¨ä¸Šä½äº’æ›æ€§ãŒã‚ã‚‹ã€ ã¨è¨€ã‚ã‚Œã‚‹</li>
</ul>
</div>
<div id="exm-" class="custom_problem theorem example">
<p><span class="theorem-title"><strong>Example 1 (Unicode ã¨ UTF-8 ã®å¯¾å¿œ)</strong></span> &nbsp;</p>
<table class="caption-top table">
<colgroup>
<col style="width: 11%">
<col style="width: 19%">
<col style="width: 44%">
<col style="width: 25%">
</colgroup>
<thead>
<tr class="header">
<th>æ–‡å­—</th>
<th>Unicode</th>
<th>UTF-8</th>
<th>UTF-8ã®2é€²æ•°è¡¨ç¾</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>A</td>
<td><code>U+0041</code></td>
<td><code>0x41</code></td>
<td><code>0100</code> <code>0001</code></td>
</tr>
<tr class="even">
<td>Î±</td>
<td><code>U+03B1</code></td>
<td><code>0xCE</code> <code>0xB1</code></td>
<td><code>1100</code> <code>1110</code> <code>1011</code> <code>0001</code></td>
</tr>
</tbody>
</table>
<p>Aã®UTF-8ã®2é€²æ•°è¡¨ç¾ã¯ 8 bit = 1 Byteã§ã‚ã‚‹ã®ã§ï¼Œã€ŒASCIIã¨åŒã˜æ–‡å­—ã¯1ãƒã‚¤ãƒˆã€ã§ã‚ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ï¼ã¾ãŸï¼Œ Î± ã¯16 bitã¨ãªã£ã¦ã„ã¾ã™ãŒï¼Œã‚®ãƒªã‚·ãƒ£æ–‡å­—ã¯ ASCII ã®ç¯„å›²å¤–ãªã®ã§ 2 Bytes ã¨ãªã‚Šã¾ã™ï¼</p>
</div>
<hr>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<ul>
<li><a href="https://atmarkit.itmedia.co.jp/ait/articles/1609/29/news016.html">ã€nkfã€‘ã‚³ãƒãƒ³ãƒ‰â€•â€•æ–‡å­—ã‚³ãƒ¼ãƒ‰ã¨æ”¹è¡Œã‚³ãƒ¼ãƒ‰ã‚’å¤‰æ›ã™ã‚‹</a></li>
</ul>


</section>

 ]]></description>
  <category>æ–‡å­—ã‚³ãƒ¼ãƒ‰</category>
  <guid>https://ryonakagami.github.io/regmonkey-datascience-blog/posts/2025-12-03-BOM/</guid>
  <pubDate>Wed, 03 Dec 2025 00:00:00 GMT</pubDate>
</item>
<item>
  <title>ä¹±æ•°ç”Ÿæˆã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆ</title>
  <dc:creator>Ryo Nakagami</dc:creator>
  <link>https://ryonakagami.github.io/regmonkey-datascience-blog/posts/2025-11-28-generate-random-passwd/</link>
  <description><![CDATA[ 






<section id="ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆæ¦‚è¦" class="level2">
<h2 class="anchored" data-anchor-id="ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆæ¦‚è¦">ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆæ¦‚è¦</h2>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>DOCSTRINGS
</div>
</div>
<div class="callout-body-container callout-body">
<div class="reveal_vspace" style="--vspace-height: 1em;"></div>
<ul>
<li><code>/dev/urandom</code>ã‚’æ´»ç”¨ã—ã¦ä»»æ„ã®é•·ã•ã®ç–‘ä¼¼ãƒ©ãƒ³ãƒ€ãƒ æ–‡å­—åˆ—ã‚’ç”Ÿæˆ</li>
<li>ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ Base64 å½¢å¼</li>
<li><code>-n</code> ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’åˆ©ç”¨ã™ã‚‹ã¨Integerå‹ã§ç–‘ä¼¼ãƒ©ãƒ³ãƒ€ãƒ åˆ—ã‚’ç”Ÿæˆ</li>
<li>å‡ºç¾æ–‡å­—åˆ—ã®ä¸€æ§˜æ€§ã‚’ä¿è¨¼ã™ã‚‹ã‚‚ã®ã§ã¯ãªã„ã®ã§ï¼Œã‚ãã¾ã§sandboxç’°å¢ƒã§ã®ç°¡æ˜“çš„ãªpasswordã®ç”Ÿæˆãªã©ã«ç”¨é€”ã‚’é™å®š</li>
</ul>
</div>
</div>
<p><span class="mini-section">ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆå…¨ä½“</span></p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#!/bin/bash</span></span>
<span id="cb1-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># -----------------------------------------------------------------------------</span></span>
<span id="cb1-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Author: Ryo Nakagami</span></span>
<span id="cb1-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Revised: 2025-11-28</span></span>
<span id="cb1-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Script: generate-random-passwd</span></span>
<span id="cb1-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Description:</span></span>
<span id="cb1-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#   Generates a random string of specified length in either base64 or</span></span>
<span id="cb1-8"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#   numeric-only format. Useful for passwords, tokens, or test data.</span></span>
<span id="cb1-9"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#</span></span>
<span id="cb1-10"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#   Steps:</span></span>
<span id="cb1-11"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#     1. Parse command-line options (-n for numeric, -h for help).</span></span>
<span id="cb1-12"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#     2. Validate input length (must be integer, less than 77).</span></span>
<span id="cb1-13"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#     3. Generate random string using /dev/urandom:</span></span>
<span id="cb1-14"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#        - base64 output by default</span></span>
<span id="cb1-15"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#        - numeric-only if -n is specified</span></span>
<span id="cb1-16"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#</span></span>
<span id="cb1-17"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Options:</span></span>
<span id="cb1-18"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#    -n    Generate numeric-only random string</span></span>
<span id="cb1-19"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#    -h    Show this help message</span></span>
<span id="cb1-20"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#</span></span>
<span id="cb1-21"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Usage:</span></span>
<span id="cb1-22"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#   ./generate-random-passwd &lt;length&gt;      # Generates base64 string</span></span>
<span id="cb1-23"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#   ./generate-random-passwd -n &lt;length&gt;   # Generates numeric string</span></span>
<span id="cb1-24"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#   ./generate-random-passwd &lt;length&gt; -n   # Generates numeric string</span></span>
<span id="cb1-25"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#</span></span>
<span id="cb1-26"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Notes:</span></span>
<span id="cb1-27"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#   - Requires /dev/urandom device.</span></span>
<span id="cb1-28"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#   - Requires base64 and tr utilities.</span></span>
<span id="cb1-29"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#   - Sources lib/docstring.sh for usage_helper.</span></span>
<span id="cb1-30"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># -----------------------------------------------------------------------------</span></span>
<span id="cb1-31"></span>
<span id="cb1-32"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ---- Load library functions ----</span></span>
<span id="cb1-33"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">source</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$(</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">dirname</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">${BASH_SOURCE</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">[</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">]</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">}</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">)</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">/../lib/docstring.sh"</span></span>
<span id="cb1-34"></span>
<span id="cb1-35"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ---- Default values ----</span></span>
<span id="cb1-36"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">PATTERN</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"BASE64"</span></span>
<span id="cb1-37"></span>
<span id="cb1-38"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">[</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-z</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$1</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">]</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">;</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">then</span></span>
<span id="cb1-39">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># call library function usage_helper</span></span>
<span id="cb1-40">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">usage_helper</span></span>
<span id="cb1-41">    <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">exit</span> 1</span>
<span id="cb1-42"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">fi</span></span>
<span id="cb1-43"></span>
<span id="cb1-44"></span>
<span id="cb1-45"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ---- Parse command-line options ----</span></span>
<span id="cb1-46"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">parse_opts()</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">{</span></span>
<span id="cb1-47">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">while</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">getopts</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"hn"</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">opt</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">;</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">do</span></span>
<span id="cb1-48">        <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">case</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$opt</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span></span>
<span id="cb1-49">            <span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">h</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span> <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">usage_helper</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">;</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">exit</span> 0 <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">;;</span></span>
<span id="cb1-50">            <span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">n</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">PATTERN</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"NUMERIC"</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">;;</span></span>
<span id="cb1-51">            <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">*</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span> <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">usage_helper</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">;</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">exit</span> 1 <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">;;</span></span>
<span id="cb1-52">        <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">esac</span></span>
<span id="cb1-53">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">done</span></span>
<span id="cb1-54"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">}</span></span>
<span id="cb1-55"></span>
<span id="cb1-56"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ---- 1st pass: parse leading options ----</span></span>
<span id="cb1-57"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">parse_opts</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$@</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span></span>
<span id="cb1-58"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">shift</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$((OPTIND</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">))</span></span>
<span id="cb1-59"></span>
<span id="cb1-60"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ---- NUMBER_INPUT might be here ----</span></span>
<span id="cb1-61"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">[[</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$1</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=~</span> <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">^</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">[</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">9</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">]</span><span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">+</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">]];</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">then</span></span>
<span id="cb1-62">    <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">NUMBER_INPUT</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$1</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span></span>
<span id="cb1-63">    <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">shift</span> 1</span>
<span id="cb1-64"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">fi</span></span>
<span id="cb1-65"></span>
<span id="cb1-66"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ---- Reset OPTIND and parse remaining options (after NUMBER_INPUT) ----</span></span>
<span id="cb1-67"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">OPTIND</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>1</span>
<span id="cb1-68"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">parse_opts</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$@</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span></span>
<span id="cb1-69"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">shift</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$((OPTIND</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">))</span></span>
<span id="cb1-70"></span>
<span id="cb1-71"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ---- Validate input ----</span></span>
<span id="cb1-72"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Check if NUMBER_INPUT is a positive integer</span></span>
<span id="cb1-73"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">! </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">[[</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$NUMBER_INPUT</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=~</span> <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">^</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">[</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">1</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">9</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">][</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">9</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">]</span><span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">*</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">]];</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">then</span></span>
<span id="cb1-74">    <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">echo</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Error: Input must be a positive integer greater than 0."</span></span>
<span id="cb1-75">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">usage_helper</span></span>
<span id="cb1-76">    <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">exit</span> 1</span>
<span id="cb1-77"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">fi</span></span>
<span id="cb1-78"></span>
<span id="cb1-79"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">((</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">NUMBER_INPUT</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">77</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">));</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">then</span></span>
<span id="cb1-80">    <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">echo</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Error: Input must be less than 77."</span></span>
<span id="cb1-81">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">usage_helper</span></span>
<span id="cb1-82">    <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">exit</span> 1</span>
<span id="cb1-83"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">fi</span></span>
<span id="cb1-84"></span>
<span id="cb1-85"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">[</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$PATTERN</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">!=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"BASE64"</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">]</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">&amp;&amp;</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">[</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$PATTERN</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">!=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"NUMERIC"</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">]</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">;</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">then</span></span>
<span id="cb1-86">    <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">echo</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Error: Invalid pattern specified."</span></span>
<span id="cb1-87">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">usage_helper</span></span>
<span id="cb1-88">    <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">exit</span> 1</span>
<span id="cb1-89"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">fi</span></span>
<span id="cb1-90"></span>
<span id="cb1-91"></span>
<span id="cb1-92"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ---- Generate random string based on pattern ----</span></span>
<span id="cb1-93"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">[</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$PATTERN</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"BASE64"</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">]</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">;</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">then</span></span>
<span id="cb1-94">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ---- Generate random string ----</span></span>
<span id="cb1-95">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">base64</span> /dev/urandom <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">|</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">head</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-c</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$NUMBER_INPUT</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span></span>
<span id="cb1-96">    <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">echo</span></span>
<span id="cb1-97">    <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">exit</span> 0</span>
<span id="cb1-98"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">elif</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">[</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$PATTERN</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"NUMERIC"</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">]</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">;</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">then</span></span>
<span id="cb1-99">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ---- Generate numeric-only random string ----</span></span>
<span id="cb1-100">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tr</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-dc</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'0-9'</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> /dev/urandom <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">|</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">head</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-c</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$NUMBER_INPUT</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span></span>
<span id="cb1-101">    <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">echo</span></span>
<span id="cb1-102">    <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">exit</span> 0</span>
<span id="cb1-103"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">fi</span></span></code></pre></div></div>
<div id="exm-" class="custom_problem theorem example">
<p><span class="theorem-title"><strong>Example 1 (å®Ÿè¡Œä¾‹)</strong></span> &nbsp;</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">%</span> generate-random-passwd 10</span>
<span id="cb2-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">zCJPhQxfr6</span></span>
<span id="cb2-3"></span>
<span id="cb2-4"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">%</span> generate-random-passwd 10 <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-n</span></span>
<span id="cb2-5"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">5711270805</span></span>
<span id="cb2-6"></span>
<span id="cb2-7"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">%</span> generate-random-passwd <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-n</span> 10</span>
<span id="cb2-8"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">9843753838</span></span></code></pre></div></div>
</div>
<hr>
</section>
<section id="devurandom-ä»®æƒ³ãƒ‡ãƒã‚¤ã‚¹" class="level2">
<h2 class="anchored" data-anchor-id="devurandom-ä»®æƒ³ãƒ‡ãƒã‚¤ã‚¹"><code>/dev/urandom</code> ä»®æƒ³ãƒ‡ãƒã‚¤ã‚¹</h2>
<div id="def-" class="custom_problem blog-custom-border theorem definition">
<p><span class="theorem-title"><strong>Definition 1</strong></span> <span class="def-title"><code>/dev/urandom</code></span></p>
<ul>
<li><code>/dev/urandom</code>ã¯ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ï¼ˆã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒ»ãƒã‚¦ã‚¹ãƒ»CPUãªã©ã®ï¼‰å‹•ä½œã‹ã‚‰å¾—ã‚‰ã‚Œã‚‹ç’°å¢ƒãƒã‚¤ã‚ºã‚’è“„ç©ã—ãŸãƒ‡ãƒ¼ã‚¿é ˜åŸŸã®ã“ã¨ï¼ˆï¼ã‚¨ãƒ³ãƒˆãƒ­ãƒ”ãƒ¼ãƒ—ãƒ¼ãƒ«ï¼‰</li>
<li>è“„ç©ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã¯ãƒã‚¤ãƒŠãƒªãƒ¼ãƒ‡ãƒ¼ã‚¿ã§ã‚ã‚‹ãŒï¼Œ<code>base64</code> ã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã§ä¹±æ•°ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼ã¨ã—ã¦åˆ©ç”¨ã§ãã‚‹</li>
<li>å‡ºåŠ›ãƒ—ãƒ¼ãƒ«ã®æœ€å¤§å‘¨æœŸ(period)ã¯ <img src="https://latex.codecogs.com/png.latex?2%5E%7B26%5Ctimes%2032%7D%20-%201"></li>
<li>ã‚¨ãƒ³ãƒˆãƒ­ãƒ”ãƒ¼ãƒ—ãƒ¼ãƒ«ã‚’å†åˆ©ç”¨ã™ã‚‹ä»•çµ„ã¿ã‚’æŒã¤ãŸã‚ï¼Œ<span class="regmonkey-bold">ã‚¨ãƒ³ãƒˆãƒ­ãƒ”ãƒ¼æ¯æ¸‡ï¼ˆentropy pool depletionï¼‰ã‚’å¿ƒé…ã™ã‚‹å¿…è¦ã¯ãªã„</span>ï¼ˆï¼ã„ã¤ã§ã‚‚åˆ©ç”¨ã§ãã‚‹ï¼‰</li>
<li>ç–‘ä¼¼ä¹±æ•°ã®å†ç¾æ€§(reproducible seeding)ã¯ãªã„</li>
</ul>
</div>
<p>ã‚¨ãƒ³ãƒˆãƒ­ãƒ”ãƒ¼ãƒ—ãƒ¼ãƒ«ã‚’æ´»ç”¨ã—ãŸç–‘ä¼¼ä¹±æ•°ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼ã¯ <code>/dev/urandom</code> ä»¥å¤–ã« <code>dev/random</code> ãŒã‚ã‚Šã¾ã™ãŒï¼Œå‹•ä½œã®é•ã„ãŒã‚ã‚Šã¾ã™ï¼ <code>dev/random</code> ã¯ä¹±æ•°ç”Ÿæˆã«ä½¿ã£ãŸã‚¨ãƒ³ãƒˆãƒ­ãƒ”ãƒ¼ãƒ—ãƒ¼ãƒ«ï¼ˆ= å†…éƒ¨çŠ¶æ…‹ï¼‰ã‚’ãã®ã¾ã¾å†åˆ©ç”¨ã—ãªã„ã‚ˆã†ã«ãƒ­ãƒƒã‚¯ã‚’ã‹ã‘ã‚‹ã¨ã„ã†è¨­è¨ˆã«ãªã£ã¦ã„ã¾ã™ï¼</p>
<ul>
<li>ä¹±æ•°ã‚’å‡ºåŠ› â†’ ãƒ—ãƒ¼ãƒ«ãŒã€Œå…¬é–‹ã•ã‚ŒãŸã€ã¨ã¿ãªã™</li>
<li>å®‰å…¨ã®ãŸã‚ãã®ãƒ—ãƒ¼ãƒ«ã¯ã™ãä½¿ã‚ãªã„</li>
<li>æ–°ã—ã„ç’°å¢ƒãƒã‚¤ã‚ºï¼ˆã‚¨ãƒ³ãƒˆãƒ­ãƒ”ãƒ¼ï¼‰ãŒååˆ†ã«è²¯ã¾ã‚‹ã¾ã§å¾…ã¤</li>
</ul>
<p>ãã®ãŸã‚ï¼Œé€£ç¶šã—ãŸä¹±æ•°ç”Ÿæˆã‚’å®Ÿæ–½ã§ããªã„å ´åˆãŒã‚ã‚Šã¾ã™ï¼</p>
<ul>
<li>é€£ç¶šã—ãŸå¤§é‡ç”Ÿæˆ</li>
<li>å®Ÿè¡Œç’°å¢ƒãŒä½ã‚¨ãƒ³ãƒˆãƒ­ãƒ”ãƒ¼ç’°å¢ƒï¼ˆä»®æƒ³ãƒã‚·ãƒ³ãªã©ã®ãƒã‚¤ã‚ºãŒå°‘ãªã„ç’°å¢ƒï¼‰</li>
</ul>
<p>ã§ã¯ï¼Œãƒ­ãƒƒã‚¯ãŒã‹ã‹ã‚Šã‚„ã™ã„ã®ã§ <code>/dev/urandom</code> ãƒ™ãƒ¼ã‚¹ã®ä¹±æ•°ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼ã®ã»ã†ãŒä¸€èˆ¬ç”¨é€”ã§ã¯è‰¯ã„ã¨ã•ã‚Œã¾ã™ï¼</p>
<section id="base64-ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰" class="level3">
<h3 class="anchored" data-anchor-id="base64-ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰">Base64 ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰</h3>
<div id="def-" class="custom_problem blog-custom-border theorem definition">
<p><span class="theorem-title"><strong>Definition 2</strong></span> <span class="def-title"><code>base64</code></span></p>
<ul>
<li>ãƒã‚¤ãƒŠãƒªãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ†ã‚­ã‚¹ãƒˆã«å¤‰æ›ã™ã‚‹ãŸã‚ã®<span class="regmonkey-bold">ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰æ–¹å¼</span></li>
<li>ãƒ‡ãƒ¼ã‚¿ã‚’64ç¨®é¡ã®å°å­—å¯èƒ½ãªè‹±æ•°å­—(<code>[A-Za-z0-9+/]</code>)ã«å¤‰æ›</li>
<li>MIMEã®åŸºæº–ã§ã¯76æ–‡å­—ã”ã¨ã«æ”¹è¡Œã‚³ãƒ¼ãƒ‰ãŒå…¥ã‚‹</li>
</ul>
</div>
<p><code>base64 /dev/urandom</code> ã‚’å®Ÿè¡Œã‚·ãŸã¨ãã®æµã‚Œã¯</p>
<ol type="1">
<li><code>/dev/urandom</code> (ãƒã‚¤ãƒŠãƒª)</li>
<li><code>base64</code> ã§ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰</li>
<li>ãƒ©ãƒ³ãƒ€ãƒ ãª Base64 æ–‡å­—åˆ—ãŒå‡ºåŠ›ã•ã‚Œã‚‹</li>
</ol>
<p>ã«ãªã‚Šã¾ã™ï¼</p>
</section>
</section>
<section id="head-ã‚³ãƒãƒ³ãƒ‰" class="level2">
<h2 class="anchored" data-anchor-id="head-ã‚³ãƒãƒ³ãƒ‰"><code>head</code> ã‚³ãƒãƒ³ãƒ‰</h2>
<div id="def-" class="custom_problem blog-custom-border theorem definition">
<p><span class="theorem-title"><strong>Definition 3</strong></span> <span class="def-title"><code>head</code> ã‚³ãƒãƒ³ãƒ‰</span></p>
<ul>
<li>headã¯ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®æœ€åˆã®10è¡Œã‚’è¡¨ç¤ºã™ã‚‹ã‚³ãƒãƒ³ãƒ‰</li>
</ul>
</div>
<p><span class="mini-section">ã‚ªãƒ—ã‚·ãƒ§ãƒ³</span></p>
<div class="no-border-top-table">
<table class="caption-top table">
<colgroup>
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 60%">
</colgroup>
<thead>
<tr class="header">
<th>çŸ­ã„ã‚ªãƒ—ã‚·ãƒ§ãƒ³</th>
<th>é•·ã„ã‚ªãƒ—ã‚·ãƒ§ãƒ³</th>
<th>æ„å‘³</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>-c æ•°å­—</code></td>
<td><code>--bytes æ•°å­—</code></td>
<td>å…ˆé ­ã‹ã‚‰æŒ‡å®šã—ãŸãƒã‚¤ãƒˆæ•°ã®ã¿è¡¨ç¤ºã™ã‚‹ï¼ã€Œ<code>-c 5 b</code>ã€ã®ã‚ˆã†ã«å˜ä½ã‚’ä»˜åŠ ã™ã‚‹ã“ã¨ã‚‚å¯èƒ½ï¼ˆb=512, KB=1000, K=1024, MB=1000Ã—1000, M=1024Ã—1024â€¦ï¼‰</td>
</tr>
<tr class="even">
<td><code>-n æ•°å­—</code></td>
<td><code>--lines æ•°å­—</code></td>
<td>å…ˆé ­ã‹ã‚‰æŒ‡å®šã—ãŸè¡Œæ•°ã®ã¿è¡¨ç¤ºã™ã‚‹</td>
</tr>
<tr class="odd">
<td><code>-q</code></td>
<td><code>--quiet</code>, <code>--silent</code></td>
<td>ãƒ•ã‚¡ã‚¤ãƒ«ã”ã¨ã®ãƒ˜ãƒƒãƒ€è¡¨ç¤ºã‚’è¡Œã‚ãªã„ï¼ˆè¤‡æ•°ãƒ•ã‚¡ã‚¤ãƒ«æŒ‡å®šæ™‚ã«ä½¿ã†ï¼‰</td>
</tr>
<tr class="even">
<td><code>-v</code></td>
<td><code>--verbose</code></td>
<td>å¸¸ã«ãƒ•ã‚¡ã‚¤ãƒ«ã”ã¨ã®ãƒ˜ãƒƒãƒ€å‡ºåŠ›ã‚’è¡Œã†</td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="tr-ã‚³ãƒãƒ³ãƒ‰" class="level2">
<h2 class="anchored" data-anchor-id="tr-ã‚³ãƒãƒ³ãƒ‰"><code>tr</code> ã‚³ãƒãƒ³ãƒ‰</h2>
<div id="def-" class="custom_problem blog-custom-border theorem definition">
<p><span class="theorem-title"><strong>Definition 4</strong></span> <span class="def-title"><code>tr</code> ã‚³ãƒãƒ³ãƒ‰</span></p>
<ul>
<li>æ¨™æº–å…¥åŠ›ã®æ–‡å­—ã‚’åˆ¥ã®æ–‡å­—ã«ç½®æ›ã—ãŸã‚Šï¼Œå‰Šé™¤ã—ãŸã‚Šã™ã‚‹ã‚³ãƒãƒ³ãƒ‰</li>
</ul>
</div>
<p><span class="mini-section">ã‚ªãƒ—ã‚·ãƒ§ãƒ³</span></p>
<div class="no-border-top-table">
<table class="caption-top table">
<colgroup>
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 60%">
</colgroup>
<thead>
<tr class="header">
<th>çŸ­ã„ã‚ªãƒ—ã‚·ãƒ§ãƒ³</th>
<th>é•·ã„ã‚ªãƒ—ã‚·ãƒ§ãƒ³</th>
<th>æ„å‘³</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>-d</code></td>
<td><code>--delete</code></td>
<td>æŒ‡å®šã—ãŸæ–‡å­—ã‚’å‰Šé™¤ã™ã‚‹</td>
</tr>
<tr class="even">
<td><code>-c</code></td>
<td><code>--complement</code></td>
<td>æŒ‡å®šã—ãŸæ–‡å­—ã‚»ãƒƒãƒˆã®è£œé›†åˆã‚’æ‰±ã†ï¼ˆåè»¢ï¼‰</td>
</tr>
<tr class="odd">
<td><code>-s</code></td>
<td><code>--squeeze-repeats</code></td>
<td>é€£ç¶šã™ã‚‹åŒä¸€æ–‡å­—ã‚’1ã¤ã«åœ§ç¸®ã™ã‚‹</td>
</tr>
</tbody>
</table>
</div>
<div id="exm-" class="custom_problem theorem example">
<p><span class="theorem-title"><strong>Example 2 (æ–‡å­—ã®ç½®æ›)</strong></span> <code>tr 012 abc</code> ã‚’å®Ÿè¡Œã™ã‚‹ã¨ï¼Œ</p>
<ul>
<li>ã€Œ<code>0</code>ã€ã‚’ã€Œ<code>a</code>ã€</li>
<li>ã€Œ<code>1</code>ã€ã‚’ã€Œ<code>b</code>ã€</li>
<li>ã€Œ<code>2</code>ã€ã‚’ã€Œ<code>c</code>ã€</li>
</ul>
<p>ã«ç½®ãæ›ãˆã¾ã™ï¼ã€Œ<code>012</code>ã€ã¨ã„ã†é€£ç¶šã—ãŸæ–‡å­—åˆ—ã‚’ã€Œ<code>abc</code>ã€ã«ç½®ãæ›ãˆã‚‹ã®ã§ã¯ãªãï¼Œå¸¸ã«1æ–‡å­—å¯¾1æ–‡å­—ã§ã®ç½®ãæ›ãˆã¨ãªã‚‹ã®ã§ï¼Œä¸¡è€…ã®é•·ã•ã¯ãã‚ãˆã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">$</span> echo <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'012345'</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">|</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tr</span> 012 abc</span>
<span id="cb3-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">abc345</span></span>
<span id="cb3-3"></span>
<span id="cb3-4"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">$</span> echo <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'0142345'</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">|</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tr</span> 012 abc</span>
<span id="cb3-5"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">ab4c345</span></span></code></pre></div></div>
</div>
<hr>
<div id="exm-" class="custom_problem theorem example">
<p><span class="theorem-title"><strong>Example 3 (<code>/dev/urandom</code> ã‹ã‚‰æ•°å€¤ã®ã¿ã‚’æŠ½å‡º)</strong></span> <br></p>
<p>æ•°å€¤ã®ã¿ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚„ãƒˆãƒ¼ã‚¯ãƒ³ç”Ÿæˆã™ã‚‹å ´åˆã¯ï¼Œ<code>-d '0-9'</code> ã®è£œé›†åˆã‚’å–ã‚Œã°è‰¯ã„ã®ã§</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb4-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tr</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-dc</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'0-9'</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> /dev/urandom <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">|</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">head</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-c</span> 16</span></code></pre></div></div>
</div>
<hr>
<div id="exm-" class="custom_problem theorem example">
<p><span class="theorem-title"><strong>Example 4 (é€£ç¶šã—ãŸæ”¹è¡Œã‚’1ã¤ã«ã™ã‚‹)</strong></span> <br></p>
<p><code>tr -s</code> ã¯ç¹°ã‚Šè¿”ã—æ–‡å­—ã®åœ§ç¸®ã«ä½¿ãˆã‚‹ã®ã§</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">$</span> echo <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'A\n\n\nA'</span> </span>
<span id="cb5-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">A</span></span>
<span id="cb5-3"></span>
<span id="cb5-4"></span>
<span id="cb5-5"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">A</span></span>
<span id="cb5-6"></span>
<span id="cb5-7"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">$</span> echo <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'A\n\n\nA'</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">|</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tr</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-s</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'\n'</span></span>
<span id="cb5-8"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">A</span></span>
<span id="cb5-9"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">A</span></span></code></pre></div></div>
<p><code>tr -s '\n'</code> ã¯ä¸è¦æ”¹è¡Œã‚’å‰Šé™¤ã™ã‚‹ã¨ãã«ä½¿ã„ã¾ã™ãŒï¼ŒåŒæ§˜ã« <code>tr -s '[:space:]</code> ã‚’ç”¨ã„ã¦ä¸è¦ã‚¹ãƒšãƒ¼ã‚¹ã‚’ã¾ã¨ã‚ãŸã‚Šã—ã¾ã™</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb6-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">%</span> echo <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"a   b   c"</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">|</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tr</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-s</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'[:space:]'</span></span>
<span id="cb6-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">a</span> b c</span></code></pre></div></div>
</div>
<hr>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<ul>
<li><a href="https://utakamo.com/article/linux/architecture/directory/dev/random-urandom.html">ã†ãŸã‚«ãƒ¢æŠ€è¡“ãƒ–ãƒ­ã‚° &gt; Linux ä¹±æ•°ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼ï¼ˆ/dev/randomã€/dev/urandomã€getrandomï¼‰</a></li>
<li><a href="https://stackoverflow.com/questions/32139660/is-dev-urandom-suitable-for-simulation-purpose">Is <code>/dev/urandom</code> suitable for simulation purpose?</a></li>
</ul>


</section>

 ]]></description>
  <category>shell</category>
  <guid>https://ryonakagami.github.io/regmonkey-datascience-blog/posts/2025-11-28-generate-random-passwd/</guid>
  <pubDate>Fri, 28 Nov 2025 00:00:00 GMT</pubDate>
</item>
<item>
  <title>paperless-ngxã«ã‚ˆã‚‹ã‚»ãƒ«ãƒ•ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç®¡ç†ã‚·ã‚¹ãƒ†ãƒ </title>
  <dc:creator>Ryo Nakagami</dc:creator>
  <link>https://ryonakagami.github.io/regmonkey-datascience-blog/posts/2025-11-27-paperless-ngx/</link>
  <description><![CDATA[ 






<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Caution</span>æƒ³å®šç’°å¢ƒ
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>å®Ÿè¡Œç’°å¢ƒã¯åŸºæœ¬çš„ã« Ubuntu 24.04 LTSã‚’æƒ³å®š</li>
<li>Docker engineã¯åˆ©ç”¨å¯èƒ½</li>
<li>port 8888 ã§ãƒ›ã‚¹ãƒˆ</li>
<li>Tailscaleã¯å°å…¥æ¸ˆã¿</li>
<li>tailnet serveã¯httpsã‚’ç”¨ã„ã¦serve</li>
</ul>
</div>
</div>
<section id="paperless-ngxã¨ã¯" class="level2">
<h2 class="anchored" data-anchor-id="paperless-ngxã¨ã¯">Paperless-ngxã¨ã¯ï¼Ÿ</h2>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>TL;DRs
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Paperless-ngxã¯ï¼ŒPDF è«–æ–‡ã‚„ãƒ¬ãƒãƒ¼ãƒˆã‚’è‡ªå‰ã‚µãƒ¼ãƒã§å…¨æ–‡æ¤œç´¢ä»˜ããƒ©ã‚¤ãƒ–ãƒ©ãƒªåŒ–ã™ã‚‹ãŸã‚ã®ãƒ„ãƒ¼ãƒ«</li>
<li>ã€Œå¼•ç”¨ç®¡ç†ã€ã€Œæ–‡çŒ®ãƒªã‚¹ãƒˆç”Ÿæˆã€ãªã©ã®æ©Ÿèƒ½ã‚‚æ¬²ã—ã„ãªã‚‰ï¼Œæ–‡çŒ®ç®¡ç†å°‚ç”¨ã‚½ãƒ•ãƒˆã‚’ä½¿ã†ã®ãŒç„¡é›£</li>
</ul>
</div>
</div>
<div id="def-" class="custom_problem blog-custom-border theorem definition">
<p><span class="theorem-title"><strong>Definition 1</strong></span> <span class="def-title">Paperless-ngx</span></p>
<ul>
<li>pdf, txtãªã©ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’æ¤œç´¢å¯èƒ½ãªã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã¨ã—ã¦ç®¡ç†ã§ãã‚‹ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ã®ã‚»ãƒ«ãƒ•ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°æ–‡æ›¸ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ </li>
<li>ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã§Paperless-ngxã‚’æ§‹ç¯‰ã—ï¼Œã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç«¯æœ«ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹ã—ãŸã‚Šï¼Œã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã“ã¨ãŒå¯èƒ½</li>
<li>ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¯Django</li>
</ul>
</div>
<p><span class="mini-section">Features</span></p>
<ul>
<li>ã‚¿ã‚°ãƒ»å·®å‡ºäºº(Correspondence)ãƒ»æ–‡æ›¸ã‚¿ã‚¤ãƒ—ãƒ»ã‚«ã‚¹ã‚¿ãƒ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã§ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’æ•´ç†å¯èƒ½</li>
<li>ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ãŸãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«å¯¾ã—ã¦OCRã‚’ç”¨ã„ãŸå…¨æ–‡æ¤œç´¢ãŒå¯èƒ½</li>
<li>æ©Ÿæ¢°å­¦ç¿’ã§ã‚¿ã‚°ãƒ»å·®å‡ºäººãƒ»æ–‡æ›¸ã‚¿ã‚¤ãƒ—ã‚’ è‡ªå‹•åˆ†é¡</li>
<li>PDFï¼Œç”»åƒï¼Œãƒ†ã‚­ã‚¹ãƒˆï¼ŒWord/Excel/PowerPointï¼ŒLibreOffice ãªã©å¤šãã®å½¢å¼ã«å¯¾å¿œ</li>
<li>Web UI ã‚’é€šã˜ã¦ï¼Œè¤‡æ•°ãƒ¦ãƒ¼ã‚¶ãƒ¼ã§ã®ã‚¢ã‚¯ã‚»ã‚¹ç®¡ç†ï¼Œå…±æœ‰ãƒªãƒ³ã‚¯ç™ºè¡ŒãŒå¯èƒ½</li>
<li>æ–‡æ›¸ã”ã¨ã«æ¨©é™ç®¡ç†è¨­å®šå¯èƒ½</li>
<li>ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼æ©Ÿèƒ½ã«ã‚ˆã‚‹è‡ªå‹•å‡¦ç†</li>
</ul>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Caution</span>æ–‡æ›¸ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã§ã‚ã£ã¦æ–‡çŒ®ç®¡ç†ã‚½ãƒ•ãƒˆã§ã¯ãªã„
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Zoteroã¨é•ã„å­¦è¡“è«–æ–‡ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã§ã¯ãªã„ã§ã™</li>
<li>æ–‡çŒ®ã®è‘—è€…æƒ…å ±ï¼Œå‡ºç‰ˆå¹´ï¼Œã‚¸ãƒ£ãƒ¼ãƒŠãƒ«åï¼Œå¼•ç”¨æ•°ï¼Œå‚ç…§é–¢ä¿‚ï¼ŒBibTexå½¢å¼ã§ã®ãƒ¡ã‚¿æƒ…å ±å‡ºåŠ›ã¯æ¨™æº–ã§ã¯å‚™ã‚ã£ã¦ã„ãªã„</li>
<li>Paperless-ngxã¯ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç‹¬è‡ªãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆã§ç®¡ç†ã™ã‚‹ãŸã‚ï¼Œã€Œå…ƒã®ãƒ•ã‚¡ã‚¤ãƒ«ãƒ„ãƒªãƒ¼æ§‹é€ ã‚’ãã®ã¾ã¾ç´¢å¼•åŒ–ã ã‘ã—ãŸã„ã€ã¨ã„ã†ç”¨é€”ã«ã¯å‘ã‹ãªã„</li>
</ul>
</div>
</div>
</section>
<section id="paperless-ngxã®è¨­å®š" class="level2">
<h2 class="anchored" data-anchor-id="paperless-ngxã®è¨­å®š">Paperless-ngxã®è¨­å®š</h2>
<p>Paperless-ngxã¯ Dockerãƒ™ãƒ¼ã‚¹ã§æ§‹ç¯‰ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™ï¼æ§‹ç¯‰ã«ã‚ãŸã£ã¦</p>
<ol type="1">
<li>ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ç”¨ã„ã¦ï¼Œå¯¾è©±å¼ã§ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã™ã‚‹</li>
<li>è‡ªåˆ†ã§ <code>docker-compose.yml</code> ã‚’å®šç¾©ã—ï¼Œå…¬å¼Paperless-ngx Docker imageã‚’é‹ç”¨ã™ã‚‹</li>
</ol>
<section id="ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‘-ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ç”¨ã„ã¦å¯¾è©±å¼ã§ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã™ã‚‹" class="level3">
<h3 class="anchored" data-anchor-id="ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‘-ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ç”¨ã„ã¦å¯¾è©±å¼ã§ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã™ã‚‹">ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‘: ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ç”¨ã„ã¦ï¼Œå¯¾è©±å¼ã§ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã™ã‚‹</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">bash</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-c</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">curl</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--location</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--silent</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--show-error</span> https://raw.githubusercontent.com/paperless-ngx/paperless-ngx/main/install-paperless-ngx.sh<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">)</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span></span></code></pre></div></div>
<p>ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ã§å¯¾è©±å¼ã§ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã§ãã¾ã™ï¼ã¾ãŸï¼ŒPaperless-ngxã®ä¸­ã§ç”¨ã„ã‚‹rootã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®è¨­å®šã¾ã§è¡Œã£ã¦ãã‚Œã¾ã™ï¼</p>
</section>
<section id="ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼’è‡ªåˆ†ã§-docker-compose.yml-ã‚’å®šç¾©" class="level3">
<h3 class="anchored" data-anchor-id="ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼’è‡ªåˆ†ã§-docker-compose.yml-ã‚’å®šç¾©">ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼’ï¼šè‡ªåˆ†ã§ <code>docker-compose.yml</code> ã‚’å®šç¾©</h3>
<p>ä½œæ¥­æ‰‹é †ã¨ã—ã¦</p>
<ol type="1">
<li>åˆ©ç”¨å¯èƒ½UID, GIDã®ç¢ºèª</li>
<li>GIDã®ä½œæˆ</li>
<li>UIDã®ä½œæˆ</li>
<li>Dockerè¨­å®šç”¨ã®directoryã‚’ä½œæˆ(= volumn, è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ç®¡ç†ç”¨ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª)</li>
<li><code>docker-compose.env</code> ã®ä½œæˆ</li>
<li><code>docker-compose.yml</code> ã®ä½œæˆ</li>
<li>ã‚³ãƒ³ãƒ†ãƒŠã‚’èµ·å‹•</li>
</ol>
<p>ã§ã™ï¼</p>
<p><span class="mini-section">Step 1: paperless-ngxç”¨UIDã®ä½œæˆ</span></p>
<p>Ubuntuã‚µãƒ¼ãƒãƒ¼å´ã§Paperless-ngxã‚’ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã™ã‚‹ã®ã§ï¼Œã¾ãšPaperless-ngxç”¨non-humanã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½œæˆã—ã¾ã™ï¼ UIDã¨GIDã¯åŒã˜IDã§åŸºæœ¬çš„ã«ã¯ä½œæˆã•ã‚Œã¾ã™ãŒï¼Œé€£ç•ªã®é–¢ä¿‚ãŒå´©ã‚Œã‚‹ã¨é•ã£ãŸIDãŒå‰²ã‚Šå½“ã¦ã‚‰ã‚Œã¦ã—ã¾ã†å¯èƒ½æ€§ãŒã‚ã‚‹ã®ã§ï¼Œåˆ©ç”¨å¯èƒ½ãªIDã‚’ç¢ºèªã—ã¾ã™ï¼</p>
<div class="no-border-top-table">
<table class="caption-top table">
<colgroup>
<col style="width: 25%">
<col style="width: 75%">
</colgroup>
<thead>
<tr class="header">
<th>ã‚³ãƒãƒ³ãƒ‰</th>
<th>æŒ™å‹•</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>getent passwd</code></td>
<td>UIDä¸€è¦§ã®ç¢ºèªã‚³ãƒãƒ³ãƒ‰</td>
</tr>
<tr class="even">
<td><code>getent group</code></td>
<td>GIDä¸€è¦§ã®ç¢ºèªã‚³ãƒãƒ³ãƒ‰</td>
</tr>
</tbody>
</table>
</div>
<p>ä¸Šè¨˜ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å©ã„ã¦ç›®æ˜Ÿã‚’ã¤ã‘ãŸãªã‚‰ã°(ä¾‹ã¨ã—ã¦<code>120</code>ãŒç©ºã„ã¦ã„ãŸã¨ã™ã‚‹)</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">getent</span> passwd 120</span>
<span id="cb2-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">getent</span> group 120</span></code></pre></div></div>
<p>ä¸¡æ–¹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å©ã„ã¦ä½•ã‚‚è¿”ã£ã¦ã“ãªã„ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ï¼</p>
<p><span class="mini-section">Step 2: GIDã®ä½œæˆ</span></p>
<p>GIDã®ä½œæˆã¯ <code>groupadd</code> ã‚³ãƒãƒ³ãƒ‰ã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«ç”¨ã„ã¾ã™</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> groupadd <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--gid</span> 120 paperless-ngx</span></code></pre></div></div>
<p>GIDä½œæˆå¾Œï¼Œæ„å›³ã—ãŸé€šã‚Šã«GIDãŒä½œæˆã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèªã—ã¾ã™</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb4-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">$</span> getent group 120</span>
<span id="cb4-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">paperless-ngx:x:120:</span></span></code></pre></div></div>
<p>ã‚‚ã—é–“é•ã£ãŸGIDã§ä½œæˆã—ã¦ã—ã¾ã£ãŸå ´åˆã¯</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> groupdel <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>group-name<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span></span></code></pre></div></div>
<p><span class="mini-section">Step 3: UIDã®ä½œæˆ</span></p>
<p><code>paperless-ngx</code> ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ä½œæˆã—ã¾ã™ï¼ ä¸ç‰¹å®šå¤šæ•°ãŒåˆ©ç”¨ã™ã‚‹ã‚µãƒ¼ãƒãƒ¼ã§ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã™ã‚‹ã®ã§ç‰¹å®šã®humanãƒ¦ãƒ¼ã‚¶ãƒ¼ã§ã¯ãªãï¼Œ ã‚µãƒ¼ãƒ“ã‚¹å°‚ç”¨ã®ã‚·ã‚¹ãƒ†ãƒ ç”¨ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ(ãƒ­ã‚°ã‚¤ãƒ³ä¸å¯ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼)ã¨ã—ã¦é‹ç”¨ã—ãŸã„ã®ãŒç†ç”±ã¨ãªã‚Šã¾ã™ï¼</p>
<p>ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½œæˆã‚³ãƒãƒ³ãƒ‰ã¯ä»¥ä¸‹ã§ã™</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb6-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> useradd <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\</span></span>
<span id="cb6-2">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--system</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\</span></span>
<span id="cb6-3">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--no-create-home</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\</span></span>
<span id="cb6-4">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--uid</span> 120 <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\</span></span>
<span id="cb6-5">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--gid</span> 120 <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\</span></span>
<span id="cb6-6">  paperless-ngx</span></code></pre></div></div>
<div class="no-border-top-table">
<table class="caption-top table">
<colgroup>
<col style="width: 28%">
<col style="width: 71%">
</colgroup>
<thead>
<tr class="header">
<th>ã‚ªãƒ—ã‚·ãƒ§ãƒ³</th>
<th>æ„å‘³</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>useradd</code></td>
<td>æ–°ã—ã„ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ä½œæˆã™ã‚‹ã‚³ãƒãƒ³ãƒ‰</td>
</tr>
<tr class="even">
<td><code>--system</code></td>
<td>ã‚·ã‚¹ãƒ†ãƒ å°‚ç”¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨ã—ã¦ä½œæˆï¼ˆãƒ­ã‚°ã‚¤ãƒ³ä¸å¯ï¼Œé€šå¸¸ UID 100 æœªæº€ã‚’ä½¿ã†å ´åˆã‚‚ã‚ã‚‹ï¼‰</td>
</tr>
<tr class="odd">
<td><code>--no-create-home</code></td>
<td>ãƒ›ãƒ¼ãƒ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œã‚‰ãªã„</td>
</tr>
<tr class="even">
<td><code>--uid 120</code></td>
<td>ä½œæˆã™ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ã® <strong>UID</strong> ã‚’ 120 ã«æŒ‡å®š</td>
</tr>
<tr class="odd">
<td><code>--gid 120</code></td>
<td>ä½œæˆã™ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ã® <strong>ãƒ—ãƒ©ã‚¤ãƒãƒªã‚°ãƒ«ãƒ¼ãƒ—</strong> ã‚’ GID 120 ã«æŒ‡å®š</td>
</tr>
</tbody>
</table>
</div>
<p>ä¸Šè¨˜ã®ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œå¾Œï¼Œhome directoryã‚’æŒãŸãªã„ <code>paperless-ngx</code> ãŒä½œæˆã•ã‚Œã¾ã™ãŒ</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb7-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">$</span> getent passwd 120</span>
<span id="cb7-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">paperless-ngx:x:120:120::/home/paperless-ngx:/bin/sh</span></span></code></pre></div></div>
<p>ã¨ãªã£ã¦ã‚‹ã¨æ€ã„ã¾ã™ï¼ãƒ­ã‚°ã‚¤ãƒ³ã‚·ã‚§ãƒ«ã¨å­˜åœ¨ã—ãªã„home directoryãŒæŒ‡å®šã•ã‚Œã¦ã„ã‚‹ã®ã¯æ°—æŒã¡æ‚ªã„ã®ã§</p>
<ul>
<li><code>/nonexisent</code> ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’home directoryã¨ã™ã‚‹</li>
<li><code>/usr/sbin/nologin</code> ã§ãƒ­ã‚°ã‚¤ãƒ³ä¸å¯</li>
</ul>
<p>ã¨ã„ã†è¨­å®šæ›´æ–°ã‚’ã—ã¾ã™ï¼</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb8-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> usermod <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-d</span> /nonexistent paperless-ngx</span>
<span id="cb8-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> usermod <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-s</span> /usr/sbin/nologin paperless-ngx</span></code></pre></div></div>
<p>ä¸Šè¨˜ã®ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œå¾Œã¯</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb9-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">$</span> getent passwd 120</span>
<span id="cb9-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">paperless-ngx:x:120:120::/nonexistent:/usr/sbin/nologin</span></span></code></pre></div></div>
<p>ã¨ãªã£ã¦ã„ã‚‹ã¯ãšã§ã™ï¼</p>
<p><span class="mini-section">Step 4: Dockerè¨­å®šç”¨ã®directoryã‚’ä½œæˆ</span></p>
<p>paperless-ngxã‚µãƒ¼ãƒ“ã‚¹ç”¨ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ <code>/srv</code> ä»¥ä¸‹ã«ä»¥ä¸‹ã®ã‚ˆã†ã«ä½œæˆã—ã¾ã™</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb10-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> mkdir <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-p</span> /srv/paperless-ngx</span></code></pre></div></div>
<p>ä½œæˆå¾Œï¼Œæ‰€æœ‰æ¨©ã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«å¤‰æ›´ã—ã¨ãã¾ã™</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb11-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> chown <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-R</span> paperless-ngx:paperless-ngx /srv/paperless-ngx</span></code></pre></div></div>
<p>ã¾ãŸï¼Œã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã§ã®è¨­å®šãªã®ã§ãƒ‘ãƒ¼ãƒŸãƒƒã‚·ãƒ§ãƒ³ã‚‚ä»¥ä¸‹ã®ã‚ˆã†ã«å¤‰æ›´ã—ã¨ãã¾ã™</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb12-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> chmod 770 /srv/paperless-ngx</span></code></pre></div></div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span><code>/srv/paperless-ngx</code> ã«æ§‹ç¯‰ã™ã‚‹ç†ç”±
</div>
</div>
<div class="callout-body-container callout-body">
<p>Paperless-ngx ãŒç®¡ç†ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ãƒ»è¨­å®šãƒ»ãƒœãƒªãƒ¥ãƒ¼ãƒ ç”¨ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä¸€ç›®ã§ã‚ã‹ã‚‹å ´æ‰€ã§ç®¡ç†ã™ã‚‹ã®ãŒæœ›ã¾ã—ã„ã§ã™ãŒï¼Œã©ã“ã§ç®¡ç†ã™ã‚‹ã®ã‹ãŒå•é¡Œã¨ãªã‚Šã¾ã™ï¼ Ubuntuã§ã¯ç”¨é€”ã”ã¨ã«æ¬¡ã®ã‚ˆã†ãªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒä¸€èˆ¬çš„ã«ç”¨ã„ã‚‰ã‚Œã¾ã™ï¼š</p>
<div class="no-border-top-table">
<table class="caption-top table">
<colgroup>
<col style="width: 18%">
<col style="width: 33%">
<col style="width: 47%">
</colgroup>
<thead>
<tr class="header">
<th>ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª</th>
<th>ç”¨é€”</th>
<th>ã‚³ãƒ¡ãƒ³ãƒˆ</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>/srv</code></td>
<td>ã‚µãƒ¼ãƒ“ã‚¹å°‚ç”¨ãƒ‡ãƒ¼ã‚¿</td>
<td>æ¨™æº–çš„ã§ã‚ã‹ã‚Šã‚„ã™ã„</td>
</tr>
<tr class="even">
<td><code>/opt</code></td>
<td>ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£ã‚½ãƒ•ãƒˆã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å…ˆ</td>
<td>ãƒã‚¤ãƒŠãƒªã‚„ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å‘ã‘ã§ãƒ‡ãƒ¼ã‚¿ç®¡ç†å‘ãã§ã¯ãªã„</td>
</tr>
<tr class="odd">
<td><code>/var/lib</code></td>
<td>å¯å¤‰ãƒ‡ãƒ¼ã‚¿ï¼ˆãƒ­ã‚°ï¼ŒDBï¼Œã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼‰</td>
<td>ç‰©ç†çš„ã«å‹•çš„ãªãƒ‡ãƒ¼ã‚¿å‘ã‘ï¼Œã‚µãƒ¼ãƒ“ã‚¹ãƒ‡ãƒ¼ã‚¿å…¨èˆ¬ã«ã‚‚å¯</td>
</tr>
</tbody>
</table>
</div>
<p>Paperless-ngx ã®ãƒ‡ãƒ¼ã‚¿ã‚’ã©ã“ã«ç½®ãã‹ã¯æœ€çµ‚çš„ã«ä»»æ„ã§ã™ãŒï¼Œã‚µãƒ¼ãƒ“ã‚¹å°‚ç”¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«æ‰€æœ‰æ¨©ã‚’å‰²ã‚Šå½“ã¦ã‚„ã™ãï¼Œç®¡ç†ã‚‚ã—ã‚„ã™ã„ã¨ã„ã†ç‚¹ã‹ã‚‰ï¼Œ <code>/srv</code> é…ä¸‹ã«ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆã™ã‚‹æ–¹é‡ã«ã—ã¾ã—ãŸï¼</p>
</div>
</div>
<p>ãã®å¾Œï¼ŒPaperless-ngxç”¨ã®exportã¨uploadç”¨ãƒœãƒªãƒ¥ãƒ¼ãƒ ã¨ã—ã¦ <code>export</code>, <code>consume</code> ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒå¿…è¦ã¨ãªã‚‹ã®ã§ãã‚Œãã‚Œã‚’ä½œæˆã—ã¾ã™ï¼</p>
<p><span class="mini-section">Step 5: <code>docker-compose.env</code> ã®ä½œæˆ</span></p>
<p>Dockerã‚³ãƒ³ãƒ†ãƒŠç”¨ã®ç’°å¢ƒå¤‰æ•°ã‚’å®šç¾©ã™ã‚‹ <code>docker-compose.env</code> ã‚’ <code>/srv/paperless-ngx</code> ä»¥ä¸‹ã«ä½œæˆã—ã¾ã™</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode ini code-with-copy"><code class="sourceCode ini"><span id="cb13-1"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">USERMAP_UID</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">120</span></span>
<span id="cb13-2"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">USERMAP_GID</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">120</span></span>
<span id="cb13-3"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">PAPERLESS_TIME_ZONE</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">Asia/Tokyo</span></span>
<span id="cb13-4"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">PAPERLESS_OCR_LANGUAGE</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">eng</span></span>
<span id="cb13-5"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">PAPERLESS_SECRET_KEY</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'&lt;é©å½“ãªæ–‡å­—åˆ—&gt;'</span></span>
<span id="cb13-6"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">PAPERLESS_OCR_OUTPUT_TYPE</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">pdf</span></span></code></pre></div></div>
<table class="caption-top table">
<colgroup>
<col style="width: 15%">
<col style="width: 24%">
<col style="width: 60%">
</colgroup>
<thead>
<tr class="header">
<th>å¤‰æ•°å</th>
<th>èª¬æ˜</th>
<th>å‚™è€ƒï¼ˆä»Šå›ã®é‡è¦ãƒã‚¤ãƒ³ãƒˆã‚’è¸ã¾ãˆãŸè£œè¶³ï¼‰</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>USERMAP_UID=120</code></td>
<td>Paperless ã‚³ãƒ³ãƒ†ãƒŠå†…éƒ¨ã§ä½¿ç”¨ã™ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼IDï¼ˆUIDï¼‰ã‚’ãƒ›ã‚¹ãƒˆå´ UID ã«åˆã‚ã›ã‚‹ãŸã‚ã®è¨­å®š</td>
<td>ãƒ›ã‚¹ãƒˆå´ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼æ¨©é™ã¨æƒãˆã‚‹ã“ã¨ã§ï¼Œç”Ÿæˆãƒ•ã‚¡ã‚¤ãƒ«ã®æ‰€æœ‰æ¨©ãŒä¸€è‡´ã—ï¼Œæ¨©é™å•é¡ŒãŒç™ºç”Ÿã—ã«ãããªã‚‹</td>
</tr>
<tr class="even">
<td><code>USERMAP_GID=120</code></td>
<td>Paperless ã‚³ãƒ³ãƒ†ãƒŠå†…éƒ¨ã§ä½¿ç”¨ã™ã‚‹ã‚°ãƒ«ãƒ¼ãƒ—IDï¼ˆGIDï¼‰ã‚’ãƒ›ã‚¹ãƒˆå´ GID ã«åˆã‚ã›ã‚‹è¨­å®š</td>
<td>UID ã¨åŒæ§˜ï¼Œãƒ›ã‚¹ãƒˆå´ã®ã‚°ãƒ«ãƒ¼ãƒ—æ¨©é™ã¨ä¸€è‡´ã•ã›ã‚‹ã“ã¨ã§ï¼Œãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ã‚¯ã‚»ã‚¹ã®æ•´åˆæ€§ãŒå–ã‚Œã‚‹ï¼</td>
</tr>
<tr class="odd">
<td><code>PAPERLESS_TIME_ZONE=Asia/Tokyo</code></td>
<td>Paperless å†…éƒ¨ã§ä½¿ç”¨ã™ã‚‹ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ã‚’æŒ‡å®šï¼</td>
<td>ãƒ­ã‚°ï¼ŒOCR ã®ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ï¼Œã‚¿ã‚¹ã‚¯ã®å®Ÿè¡Œæ™‚é–“ç®¡ç†ã«ä½¿ç”¨ã•ã‚Œã‚‹ãŸã‚ï¼Œæ—¥æœ¬ã§åˆ©ç”¨ã™ã‚‹ãªã‚‰ <code>Asia/Tokyo</code> ãŒæœ€é©</td>
</tr>
<tr class="even">
<td><code>PAPERLESS_OCR_LANGUAGE=eng</code></td>
<td>OCR ã«ä½¿ç”¨ã™ã‚‹è¨€èªã‚’æŒ‡å®šã™ã‚‹ï¼è¤‡æ•°æŒ‡å®šã‚‚å¯èƒ½ï¼ˆä¾‹: <code>eng+jpn</code>ï¼‰ï¼</td>
<td>æ—¥æœ¬èªã‚’æ‰±ã†å ´åˆã¯ <code>jpn</code> ã®è¿½åŠ ã‚’æ¨å¥¨ï¼è‹±èªã®ã¿ãªã‚‰ <code>eng</code> ã®ã¾ã¾ã§OKï¼</td>
</tr>
<tr class="odd">
<td><code>PAPERLESS_SECRET_KEY='&lt;é©å½“ãªæ–‡å­—åˆ—&gt;'</code></td>
<td><strong>ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’ä¿è­·ã™ã‚‹ç§˜å¯†éµï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼ã«ä¸å¯æ¬ ï¼‰ï¼ãƒ©ãƒ³ãƒ€ãƒ ã§é•·ã„æ–‡å­—åˆ—ã«å¿…ãšå¤‰æ›´ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ï¼</strong></td>
<td>Paperless ãŒã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã«å…¬é–‹ã•ã‚Œã‚‹å ´åˆï¼Œ<strong>ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã® SECRET_KEY ã¯åºƒãçŸ¥ã‚‰ã‚Œã¦ã„ã‚‹ãŸã‚å±é™º</strong>ï¼ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚’é©å½“ã«å©ã„ãŸæ–‡å­—åˆ—ã§OKï¼è¦šãˆã‚‹å¿…è¦ã¯ãªã„ï¼é•·ã„ã»ã©å®‰å…¨ï¼ä¾‹: <code>a9$FJ!p92jaf(3)sa0fjasdf02398</code></td>
</tr>
<tr class="even">
<td><code>PAPERLESS_OCR_OUTPUT_TYPE=&lt;type&gt;</code></td>
<td>OCR å¾Œã«ç”Ÿæˆã™ã‚‹ PDF ã®ç¨®é¡ã‚’æŒ‡å®š</td>
<td>- <code>pdf</code> : å…ƒã® PDF ã‚’æ¥µåŠ›å¤‰æ›´ã›ãšã« OCR ã‚’è¿½åŠ <br>- <code>pdfa</code> : PDF/A-2b ã«å¤‰æ›ï¼ˆé•·æœŸä¿å­˜å‘ã‘ï¼‰<br>- <code>pdfa-1</code>, <code>pdfa-2</code>, <code>pdfa-3</code> : PDF/A ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³æŒ‡å®š<br>â€» æŒ‡å®šã—ãªã„å ´åˆã¯ <code>pdfa</code> ãŒãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ</td>
</tr>
</tbody>
</table>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>PAPERLESS_OCR_LANGUAGEè¨­å®šã®æ³¨æ„ç‚¹
</div>
</div>
<div class="callout-body-container callout-body">
<p>Paperless-ngxã¯OCRæ©Ÿèƒ½ã¨ã—ã¦Tesseractã‚’åˆ©ç”¨ã—ã¾ã™ãŒï¼Œãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ãªã„è¨€èªã‚’æŒ‡å®šã™ã‚‹ã¨ï¼Œ</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb14" style="background: #f1f3f5;"><pre class="sourceCode ini code-with-copy"><code class="sourceCode ini"><span id="cb14-1"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">The selected ocr language jpn is not installed. Paperless cannot OCR your documents without it. Please fix PAPERLESS_OCR_LANGUAGE.</span></span></code></pre></div></div>
<p>ã¨ã„ã†ã‚¨ãƒ©ãƒ¼ã‚’åãã¾ã™ï¼æ—¥æœ¬èªå¯¾å¿œã‚’å«ã‚ã‚‹ãŸã‚ <code>eng+jpn</code> ã‚’è¨­å®šã™ã‚‹å ´åˆã¯ <code>Dockerfile</code> ã‚’è¨­å®šã—ã¦</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb15" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb15-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">RUN</span> apt-get update <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\</span></span>
<span id="cb15-2">    <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">&amp;&amp;</span> <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">apt-get</span> install <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-y</span> tesseract-ocr-jpn <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\</span></span>
<span id="cb15-3">    <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">&amp;&amp;</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rm</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-rf</span> /var/lib/apt/lists/<span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">*</span></span></code></pre></div></div>
<p>ã¨ã„ã†ãƒ©ã‚¤ãƒ³ã‚’åŠ ãˆãŸä¸Šã§ãƒ“ãƒ«ãƒ‰ã®å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼</p>
</div>
</div>
<p><span class="mini-section">Step 6: <code>docker-compose.yml</code> ã®ä½œæˆ</span></p>
<p><code>/srv/paperless-ngx</code> ã«ã¦ <code>docker-compose.yml</code> ã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«ä½œæˆã—ã¾ã™</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb16" style="background: #f1f3f5;"><pre class="sourceCode yml code-with-copy"><code class="sourceCode yaml"><span id="cb16-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">services</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb16-2"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">broker</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb16-3"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">image</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> docker.io/library/redis:8</span></span>
<span id="cb16-4"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">restart</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> unless-stopped</span></span>
<span id="cb16-5"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">volumes</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb16-6"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> paperless-redisdata:/data</span></span>
<span id="cb16-7"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span></span>
<span id="cb16-8"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">db</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb16-9"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">image</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> docker.io/library/postgres:18</span></span>
<span id="cb16-10"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">restart</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> unless-stopped</span></span>
<span id="cb16-11"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">volumes</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb16-12"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> paperless-pgdata:/var/lib/postgresql</span></span>
<span id="cb16-13"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">environment</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb16-14"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">POSTGRES_DB</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> paperless</span></span>
<span id="cb16-15"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">POSTGRES_USER</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> paperless</span></span>
<span id="cb16-16"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">POSTGRES_PASSWORD</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> paperless</span></span>
<span id="cb16-17"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span></span>
<span id="cb16-18"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">webserver</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb16-19"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">image</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> ghcr.io/paperless-ngx/paperless-ngx:latest</span></span>
<span id="cb16-20"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">restart</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> unless-stopped</span></span>
<span id="cb16-21"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">depends_on</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb16-22"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> db</span></span>
<span id="cb16-23"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> broker</span></span>
<span id="cb16-24"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ports</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb16-25"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"8888:8000"</span></span>
<span id="cb16-26"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">volumes</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb16-27"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> paperless-data:/usr/src/paperless/data</span></span>
<span id="cb16-28"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> paperless-media:/usr/src/paperless/media</span></span>
<span id="cb16-29"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> ./export:/usr/src/paperless/export</span></span>
<span id="cb16-30"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> ./consume:/usr/src/paperless/consume</span></span>
<span id="cb16-31"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">env_file</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> docker-compose.env</span></span>
<span id="cb16-32"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">environment</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb16-33"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">PAPERLESS_REDIS</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> redis://broker:6379</span></span>
<span id="cb16-34"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">PAPERLESS_DBHOST</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> db</span></span>
<span id="cb16-35"></span>
<span id="cb16-36"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">volumes</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb16-37"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paperless-data</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb16-38"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paperless-media</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb16-39"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paperless-pgdata</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb16-40"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paperless-redisdata</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span></code></pre></div></div>
<p><span class="mini-section">Step 7: ã‚³ãƒ³ãƒ†ãƒŠã‚’èµ·å‹•</span></p>
<p>ã‚³ãƒ³ãƒ†ãƒŠã¯ä»¥ä¸‹ã®æ‰‹é †ã§èµ·å‹•ã—ã¾ã™</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb17" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb17-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> docker compose up <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-d</span></span>
<span id="cb17-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> docker compose ps</span></code></pre></div></div>
<p>ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸå ´åˆã¯</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb18" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb18-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> docker compose logs <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-f</span> webserver</span></code></pre></div></div>
<p>ã§ãƒ­ã‚°ã‚’ç¢ºèªã§ãã¾ã™ï¼</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>uploadã—ãŸãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’å–ã‚‹
</div>
</div>
<div class="callout-body-container callout-body">
<p>Paperless-ngx ã‚³ãƒ³ãƒ†ãƒŠå†…ã® <code>export</code> ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã‚ã‚‹ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã™ã‚‹å ´åˆ</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb19" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb19-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">docker</span> exec <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-it</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">docker</span> ps <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-aqf</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"name=paperless-ngx-webserver-1"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">)</span> document_exporter ../export</span></code></pre></div></div>
<ul>
<li><code>../export</code> ã¯ã‚³ãƒ³ãƒ†ãƒŠå†…ã®ç›¸å¯¾ãƒ‘ã‚¹</li>
<li>ãƒ›ã‚¹ãƒˆå´ãƒœãƒªãƒ¥ãƒ¼ãƒ  <code>/srv/paperless-ngx/export</code> ã«ãƒã‚¦ãƒ³ãƒˆã—ã¦ã„ã‚Œã°ï¼Œãƒ›ã‚¹ãƒˆå´ã‹ã‚‰ã‚‚ç›´æ¥ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½</li>
</ul>
</div>
</div>
</section>
</section>
<section id="tailnet-serveè¨­å®š" class="level2">
<h2 class="anchored" data-anchor-id="tailnet-serveè¨­å®š">Tailnet serveè¨­å®š</h2>
<p>è¨­å®šæ‰‹é †ã¯</p>
<ol type="1">
<li><code>docker-compose.env</code> ã®è¨­å®šã¨ã‚³ãƒ³ãƒ†ãƒŠã®å†èµ·å‹•</li>
<li>tailnet serveè¨­å®š</li>
</ol>
<p>ã¨ãªã‚Šã¾ã™</p>
<p><span class="mini-section">Step 1: <code>docker-compose.env</code> ã®è¨­å®š</span></p>
<p>Tailscale çµŒç”±ã§ Paperless-ngx ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹å ´åˆï¼ŒDjangoã«ãƒ›ã‚¹ãƒˆåã¨ãƒ—ãƒ­ãƒˆã‚³ãƒ«ï¼ˆHTTPSï¼‰ã‚’æ­£ã—ãä¼ãˆã‚‹ã“ã¨ãŒé‡è¦ã§ã™ï¼ è¨­å®šé …ç›®ã¨ã—ã¦ã¯</p>
<ul>
<li><code>PAPERLESS_URL</code>: Django ã® CSRF / CORS / ALLOWED_HOSTS ã‚’è‡ªå‹•è¨­å®šã™ã‚‹ãŸã‚ã®ç’°å¢ƒå¤‰æ•°ï¼æœ«å°¾ã‚¹ãƒ©ãƒƒã‚·ãƒ¥ãªã—</li>
</ul>
<p>ä»Šå›ã¯ Port 8888 çµŒç”±ã§å…¬é–‹ã™ã‚‹ã®ã§</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb20" style="background: #f1f3f5;"><pre class="sourceCode ini code-with-copy"><code class="sourceCode ini"><span id="cb20-1"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">PAPERLESS_URL</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">https://hogehoge.tail8ada9.ts.net:8888</span></span></code></pre></div></div>
<p>ã¨è¨­å®šã—ã¾ã™ï¼<code>https://hogehoge.tail8ada9.ts.net:8888</code> ã¯tailscale serve statusã§ç¢ºèªã§ãã‚‹ã‚‚ã®ã«ã—ã¾ã™ï¼</p>
<p>ä¸Šè¨˜ã‚’è¸ã¾ãˆã‚‹ã¨ä»¥ä¸‹ã®ã‚ˆã†ãª <code>docker-compose.env</code> ã¨ãªã‚Šã¾ã™</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb21" style="background: #f1f3f5;"><pre class="sourceCode ini code-with-copy"><code class="sourceCode ini"><span id="cb21-1"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">USERMAP_UID</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">120</span></span>
<span id="cb21-2"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">USERMAP_GID</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">120</span></span>
<span id="cb21-3"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">PAPERLESS_TIME_ZONE</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">Asia/Tokyo</span></span>
<span id="cb21-4"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">PAPERLESS_OCR_LANGUAGE</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">eng+jpn</span></span>
<span id="cb21-5"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">PAPERLESS_SECRET_KEY</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'hogehogehgoehgoeghoeh'</span></span>
<span id="cb21-6"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">PAPERLESS_URL</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">https://hogehoge.tail8ada9.ts.net:8888</span></span></code></pre></div></div>
<p><span class="mini-section">Step 2: <code>tailnet serveè¨­å®š</code> ã®è¨­å®š</span></p>
<p>Tailscale ã® HTTP/HTTPS ãƒªãƒãƒ¼ã‚¹ãƒ—ãƒ­ã‚­ã‚·æ©Ÿèƒ½ã‚’ã¤ã‹ã£ã¦ãƒ­ãƒ¼ã‚«ãƒ«ã‚µãƒ¼ãƒ“ã‚¹ã‚’Tailnetä¸Šã§å…¬é–‹ã—ã¾ã™ï¼</p>
<p>ã‚µãƒ¼ãƒãƒ¼å´ã§ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb22" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb22-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> tailscale serve <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--bg</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--https</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>8888 8888</span></code></pre></div></div>
<table class="caption-top table">
<colgroup>
<col style="width: 10%">
<col style="width: 33%">
<col style="width: 55%">
</colgroup>
<thead>
<tr class="header">
<th>ã‚³ãƒãƒ³ãƒ‰éƒ¨åˆ†</th>
<th>èª¬æ˜</th>
<th>ãƒã‚¤ãƒ³ãƒˆ / æ³¨æ„ç‚¹</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>tailscale serve</code></td>
<td>ãƒ­ãƒ¼ã‚«ãƒ«ã® HTTP/HTTPS ã‚µãƒ¼ãƒ“ã‚¹ã‚’ Tailscale ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ä¸Šã§å…¬é–‹ã™ã‚‹ãƒªãƒãƒ¼ã‚¹ãƒ—ãƒ­ã‚­ã‚·æ©Ÿèƒ½</td>
<td>Tailscale 1.36 ä»¥é™ã§åˆ©ç”¨å¯èƒ½</td>
</tr>
<tr class="even">
<td><code>--bg</code></td>
<td>ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§å®Ÿè¡Œ</td>
<td>ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’é–‰ã˜ã¦ã‚‚ãƒ—ãƒ­ã‚»ã‚¹ã¯ç¶™ç¶šã€‚ãƒ‡ãƒ¼ãƒ¢ãƒ³çš„ã«å‹•ä½œ</td>
</tr>
<tr class="odd">
<td><code>--https=8888</code></td>
<td>Tailscale å´ã§ HTTPS ã‚’æä¾›ã™ã‚‹ãƒãƒ¼ãƒˆç•ªå·</td>
<td>è‡ªå‹•ç”Ÿæˆè¨¼æ˜æ›¸ã§ TLS ä¿è­·ã•ã‚ŒãŸ HTTPS ã‚¢ã‚¯ã‚»ã‚¹ãŒå¯èƒ½</td>
</tr>
<tr class="even">
<td><code>8888</code> (æœ€å¾Œã®å¼•æ•°)</td>
<td>ãƒ­ãƒ¼ã‚«ãƒ«ã‚µãƒ¼ãƒ“ã‚¹ã®ãƒãƒ¼ãƒˆç•ªå·</td>
<td>ãƒ­ãƒ¼ã‚«ãƒ«ã® <code>localhost:8888</code> ã«ã‚ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã‚’ Tailscale HTTPS ãƒãƒ¼ãƒˆã«æ¥ç¶š</td>
</tr>
</tbody>
</table>
<p>ä¸Šè¨˜ã‚³ãƒãƒ³ãƒ‰ã®å®Ÿè¡Œå¾Œï¼Œ Tailscale å†…ã‹ã‚‰ <code>https://&lt;tailscale-node&gt;:8888</code> ã§ãƒ­ãƒ¼ã‚«ãƒ«ã‚µãƒ¼ãƒ“ã‚¹ã¨ã—ã¦ã®paperless-ngxã¸ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ã¨ãªã‚Šã¾ã™ï¼</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>ã‚µãƒ¼ãƒ“ã‚¹ã‚’éå…¬é–‹ã«ã—ãŸã„å ´åˆ
</div>
</div>
<div class="callout-body-container callout-body">
<p>Tailscale å†…ã‹ã‚‰ Paperless-ngx ã«HTTPSã§ã‚¢ã‚¯ã‚»ã‚¹è² è·ã«ã—ãŸã„å ´åˆã¯</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb23" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb23-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> tailscale serve <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--bg</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--https</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>8888 off</span></code></pre></div></div>
<p>ãƒãƒ¼ãƒˆã¯8888æƒ³å®šã§ã™ãŒï¼Œ<code>sudo tailscale serve --bg --https=&lt;port&gt; 8888</code> ã® <code>&lt;port&gt;</code> ã«å¿œã˜ã¦å¤‰æ›´ã—ã¦ä¸‹ã•ã„ï¼</p>
</div>
</div>
</section>
<section id="appendix-1-ã‚°ãƒ«ãƒ¼ãƒ—ã‹ã‚‰ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’å‰Šé™¤ã™ã‚‹æ–¹æ³•" class="level2">
<h2 class="anchored" data-anchor-id="appendix-1-ã‚°ãƒ«ãƒ¼ãƒ—ã‹ã‚‰ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’å‰Šé™¤ã™ã‚‹æ–¹æ³•">Appendix 1: ã‚°ãƒ«ãƒ¼ãƒ—ã‹ã‚‰ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’å‰Šé™¤ã™ã‚‹æ–¹æ³•</h2>
<p>ç‰¹å®šã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ã‚°ãƒ«ãƒ¼ãƒ—ã‹ã‚‰å‰Šé™¤ã™ã‚‹ã«ã¯ <code>gpasswd</code> or <code>deluser</code> ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã—ã¾ã™</p>
<p><span class="mini-section"><code>gpasswd</code>ã‚³ãƒãƒ³ãƒ‰</span></p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb24" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb24-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">## long option</span></span>
<span id="cb24-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> gpasswd <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--delete</span> user1 papaerless-ngx</span>
<span id="cb24-3"></span>
<span id="cb24-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">## short option</span></span>
<span id="cb24-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> gpasswd <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-d</span> user1 papaerless-ngx</span>
<span id="cb24-6"></span>
<span id="cb24-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ç¾åœ¨ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’paperless-ngxã‹ã‚‰é™¤å»</span></span>
<span id="cb24-8"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> gpasswd <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-d</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$(</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">whoami</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">)</span> paperless-ngx</span></code></pre></div></div>
<p><span class="mini-section"><code>deluser</code>ã‚³ãƒãƒ³ãƒ‰</span></p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb25" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb25-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">## syntax</span></span>
<span id="cb25-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> deluser user1 paperless-ngx</span>
<span id="cb25-3"></span>
<span id="cb25-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ç¾åœ¨ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’paperless-ngxã‹ã‚‰é™¤å»</span></span>
<span id="cb25-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> deluser <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$(</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">whoami</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">)</span> paperless-ngx</span></code></pre></div></div>
</section>
<section id="appendix-2-zoteroã¨ã®ä½µç”¨æ–¹æ³•" class="level2">
<h2 class="anchored" data-anchor-id="appendix-2-zoteroã¨ã®ä½µç”¨æ–¹æ³•">Appendix 2: Zoteroã¨ã®ä½µç”¨æ–¹æ³•</h2>
<p>åŸºæœ¬ã‚³ãƒ³ã‚»ãƒ—ãƒˆã¯ï¼Œ<span class="regmonkey-bold">Paperless-ngxã‚’åŸæœ¬ç½®ãå ´ï¼ŒZotero ã¯ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ç®¡ç†ã ã‘</span></p>
<ul>
<li>PDF ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ Zotero ã«ä¿å­˜ã—ãªã„</li>
<li>PDF ã®åŸæœ¬ã¯ã™ã¹ã¦ Paperless ã«ä¸€å…ƒç®¡ç†</li>
<li>Zotero ã¯ã€Œæ–‡çŒ®ç®¡ç†ã‚½ãƒ•ãƒˆã€ã¨ã—ã¦æœ€å°é™ãƒ‡ãƒ¼ã‚¿ã ã‘æŒã¤</li>
<li>Zotero å†…ã§ã¯ Linked Attachmentï¼ˆãƒªãƒ³ã‚¯ã•ã‚ŒãŸæ·»ä»˜ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰ã‚’ä½¿ã„ï¼ŒPaperless ã® PDF ã‚’å‚ç…§ã™ã‚‹</li>
</ul>
<div class="no-border-top-table">
<table class="caption-top table">
<colgroup>
<col style="width: 21%">
<col style="width: 27%">
<col style="width: 50%">
</colgroup>
<thead>
<tr class="header">
<th>å½¹å‰²</th>
<th>æ‹…å½“</th>
<th>èª¬æ˜</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Paperless-ngx</strong></td>
<td>åŸæœ¬ä¿ç®¡åº«ï¼ˆPDF ã®å…¨ä¿ç®¡ãƒ»OCRãƒ»ã‚¿ã‚°ï¼‰</td>
<td>ã™ã¹ã¦ã® PDF ãƒ•ã‚¡ã‚¤ãƒ«ã®å®Ÿä½“ã‚’ä¿ç®¡ã™ã‚‹ï¼ˆNASä»£ã‚ã‚Šï¼‰</td>
</tr>
<tr class="even">
<td><strong>Zotero</strong></td>
<td>æ–‡çŒ®ãƒªã‚¹ãƒˆï¼‹å¼•ç”¨æƒ…å ±</td>
<td>ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã ã‘ã‚’ç®¡ç†ã—ï¼ŒPDFæœ¬ä½“ã¯ä¿å­˜ã—ãªã„</td>
</tr>
</tbody>
</table>
</div>
<p><span class="mini-section">é‹ç”¨ã‚¤ãƒ¡ãƒ¼ã‚¸</span></p>
<ol type="1">
<li>PDF ã‚’ Paperless-ngx ã«å…¥ã‚Œã‚‹</li>
<li>Paperless-ngx ãŒ OCRï¼‹ã‚¿ã‚°æ•´ç†</li>
<li>å¿…è¦ã«å¿œã˜ã¦ Zotero ã« æ–‡çŒ®æƒ…å ±ï¼ˆDOI ãªã©ï¼‰ã‚’ç™»éŒ²</li>
<li>æ·»ä»˜ãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ Paperless-ngx ã® PDF ãƒ‘ã‚¹ã‚’è²¼ã‚‹ï¼ˆæ‰‹å‹• or è‡ªå‹•ã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼‰</li>
</ol>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<ul>
<li><a href="https://docs.paperless-ngx.com/">Paperless-ngxå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</a></li>
<li><a href="https://packages.debian.org/bullseye/graphics/tesseract-ocr-jpn-vert">Package: tesseract-ocr-jpn-vert</a></li>
</ul>


</section>

 ]]></description>
  <category>ç’°å¢ƒæ§‹ç¯‰</category>
  <category>paperless-ngx</category>
  <guid>https://ryonakagami.github.io/regmonkey-datascience-blog/posts/2025-11-27-paperless-ngx/</guid>
  <pubDate>Thu, 27 Nov 2025 00:00:00 GMT</pubDate>
</item>
<item>
  <title>Counterã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ</title>
  <dc:creator>Ryo Nakagami</dc:creator>
  <link>https://ryonakagami.github.io/regmonkey-datascience-blog/posts/2025-11-16-counter-object/</link>
  <description><![CDATA[ 






<section id="counter-ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ" class="level2">
<h2 class="anchored" data-anchor-id="counter-ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ"><code>Counter</code> ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ</h2>
<div id="def-" class="custom_problem blog-custom-border theorem definition">
<p><span class="theorem-title"><strong>Definition 1</strong></span> <span class="def-title">Counter</span></p>
<ul>
<li><code>Counter</code> ã¯ï¼Œãƒãƒƒã‚·ãƒ¥å¯èƒ½ãªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å‡ºç¾å›æ•°ã‚’æ•°ãˆã‚‹ãŸã‚ã®è¾æ›¸ã‚µãƒ–ã‚¯ãƒ©ã‚¹</li>
<li>è¦ç´ ã‚’è¾æ›¸ã®ã‚­ãƒ¼ã¨ã—ã¦ä¿æŒã—ï¼Œãã®å‡ºç¾å›æ•°ã‚’å€¤ã¨ã—ã¦ä¿æŒã™ã‚‹ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³</li>
<li>ã‚«ã‚¦ãƒ³ãƒˆå€¤ã«ã¯ <code>0</code> ã‚„è² ã®å€¤ã‚’å«ã‚€ä»»æ„ã®æ•´æ•°ãŒä½¿ç”¨å¯èƒ½</li>
</ul>
</div>
<p>ãƒªã‚¹ãƒˆã®è¦ç´ ã®å‡ºç¾å›æ•°ã‚’é›†è¨ˆã™ã‚‹å ´åˆï¼Œ<code>Dict</code> ã‚’ç”¨ã„ã‚‹å ´åˆ</p>
<div id="0b229838" class="cell" data-execution_count="1">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode python code-overflow-wrap code-with-copy"><code class="sourceCode python"><span id="cb1-1">words <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'red'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'blue'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'red'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'green'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'blue'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'blue'</span>]</span>
<span id="cb1-2">count_dict <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> {}</span>
<span id="cb1-3"></span>
<span id="cb1-4"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> word <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> words:</span>
<span id="cb1-5">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># dict.get(key, default) returns default if key does not exist</span></span>
<span id="cb1-6">    count_dict[word] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> count_dict.get(word, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span></span>
<span id="cb1-7"></span>
<span id="cb1-8"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(count_dict)</span></code></pre></div></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>{'red': 2, 'blue': 3, 'green': 1}</code></pre>
</div>
</div>
<p><code>Counter</code>ã‚’ç”¨ã„ã‚‹ã“ã¨ã§ä»¥ä¸‹ã®ã‚ˆã†ã«ã‚ˆã‚Šç°¡å˜ã«é›†è¨ˆã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™</p>
<div id="ad54f64f" class="cell" data-execution_count="2">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode python code-overflow-wrap code-with-copy"><code class="sourceCode python"><span id="cb3-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> collections <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> Counter</span>
<span id="cb3-2"></span>
<span id="cb3-3">word_counter <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> Counter(words)</span>
<span id="cb3-4"></span>
<span id="cb3-5"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(word_counter)</span></code></pre></div></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Counter({'blue': 3, 'red': 2, 'green': 1})</code></pre>
</div>
</div>
<p>ã¾ãŸï¼Œã™ã¹ã¦ã®è¦ç´ ã®å‡ºç¾é »åº¦ã®åˆè¨ˆã¯ <code>total()</code> ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ç”¨ã„ã¦è¡¨ç¤ºã§ãã¾ã™</p>
<div id="e38102dc" class="cell" data-execution_count="3">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode python code-overflow-wrap code-with-copy"><code class="sourceCode python"><span id="cb5-1"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(word_counter.total())   <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 6 = 3 + 2 + 1</span></span></code></pre></div></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>6</code></pre>
</div>
</div>
<div id="exm-" class="custom_problem theorem example">
<p><span class="theorem-title"><strong>Example 1 (å˜èªå‡ºç¾é »åº¦ã®è¨ˆæ¸¬)</strong></span> <br></p>
<p>ãƒãƒ ãƒ¬ãƒƒãƒˆã®ä¸€ç¯€ã‚’å†…å®¹ã¨ã™ã‚‹ <code>hamlet.txt</code> ã‚’ä¾‹ã«ï¼Œå‡ºç¾å˜èªã®Top 5ã®è¨ˆæ¸¬ã‚’è¡Œã„ã¾ã™ï¼<code>Counter</code> ã‚¯ãƒ©ã‚¹ã«ã¯ <code>most_common()</code> ãƒ¡ã‚½ãƒƒãƒ‰ãŒã‚ã‚Šï¼Œè¦ç´ ã‚’å‡ºç¾é »åº¦ã«å¿œã˜ã¦é™é †ã§è¿”ã—ã¦ãã‚Œã¾ã™ï¼å¼•æ•°ã¨ã—ã¦æ•´æ•°ã‚’æŒ‡å®šã™ã‚‹ã¨ï¼Œæœ€ä¸Šä½ã‹ã‚‰æ•°ãˆã¦ãã®å€‹æ•°åˆ†ã ã‘ã‚’å‡ºåŠ›ã—ã¦ãã‚Œã‚‹ã®ã§</p>
<div id="1b1d3ac1" class="cell" data-execution_count="4">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode python code-overflow-wrap code-with-copy"><code class="sourceCode python"><span id="cb7-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> re</span>
<span id="cb7-2"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> collections <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> Counter</span>
<span id="cb7-3"></span>
<span id="cb7-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># å˜èªã‚’æŠ½å‡ºï¼ˆå°æ–‡å­—åŒ–ã—ã¦æ­£è¦è¡¨ç¾ã§ãƒãƒƒãƒï¼Œå¥èª­ç‚¹ã¯é™¤ãï¼‰</span></span>
<span id="cb7-5">hamlet_words <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> re.findall(<span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">r'</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">\w</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">'</span>, <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">open</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'hamlet.txt'</span>).read().lower())</span>
<span id="cb7-6">Counter(hamlet_words).most_common(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>)</span></code></pre></div></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="4">
<pre><code>[('to', 4), ('the', 3), ('be', 2), ('or', 2), ('and', 2)]</code></pre>
</div>
</div>
<p>å‡ºç¾é »åº¦ä¸‹ä½Top 3ã‚’å‡ºåŠ›ã—ãŸã„å ´åˆã¯</p>
<div id="4c71bd96" class="cell" data-execution_count="5">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode python code-overflow-wrap code-with-copy"><code class="sourceCode python"><span id="cb9-1">hamlet_counter <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> Counter(hamlet_words)</span>
<span id="cb9-2">hamlet_counter.most_common()[:<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>:<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>]</span></code></pre></div></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="5">
<pre><code>[('them', 1), ('end', 1), ('opposing', 1)]</code></pre>
</div>
</div>
</div>
<hr>
<section id="counter-ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ä½œæˆæ–¹æ³•" class="level3">
<h3 class="anchored" data-anchor-id="counter-ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ä½œæˆæ–¹æ³•"><code>Counter</code> ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ä½œæˆæ–¹æ³•</h3>
<div id="fdb59e5d" class="cell" data-execution_count="6">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode python code-overflow-wrap code-with-copy"><code class="sourceCode python"><span id="cb11-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> collections <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> Counter</span>
<span id="cb11-2"></span>
<span id="cb11-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 1. ç©ºã® Counter ã‚’ä½œã‚‹</span></span>
<span id="cb11-4">c <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> Counter()                           </span>
<span id="cb11-5"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(c)  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Counter()</span></span>
<span id="cb11-6"></span>
<span id="cb11-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 2. ã‚¤ãƒ†ãƒ©ãƒ–ãƒ«ã‹ã‚‰ä½œã‚‹</span></span>
<span id="cb11-8">c <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> Counter(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'gallahad'</span>)                 </span>
<span id="cb11-9"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(c)  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Counter({'a': 3, 'l': 2, 'g': 1, 'h': 1, 'd': 1})</span></span>
<span id="cb11-10"></span>
<span id="cb11-11"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 3. è¾æ›¸ï¼ˆãƒãƒƒãƒ”ãƒ³ã‚°ï¼‰ã‹ã‚‰ä½œã‚‹</span></span>
<span id="cb11-12">c <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> Counter({<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'red'</span>: <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'blue'</span>: <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>})      </span>
<span id="cb11-13"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(c)  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Counter({'red': 1, 'blue': 2})</span></span>
<span id="cb11-14"></span>
<span id="cb11-15"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 4. ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰å¼•æ•°ã‹ã‚‰ä½œã‚‹</span></span>
<span id="cb11-16">c <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> Counter(cats<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>, dogs<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">8</span>)     </span>
<span id="cb11-17"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(c)  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Counter({'dogs': 8, 'cats': 4}) </span></span></code></pre></div></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Counter()
Counter({'a': 3, 'l': 2, 'g': 1, 'h': 1, 'd': 1})
Counter({'blue': 2, 'red': 1})
Counter({'dogs': 8, 'cats': 4})</code></pre>
</div>
</div>
</section>
<section id="å­˜åœ¨ã—ãªã„ã‚­ãƒ¼ã®å–ã‚Šæ‰±ã„" class="level3">
<h3 class="anchored" data-anchor-id="å­˜åœ¨ã—ãªã„ã‚­ãƒ¼ã®å–ã‚Šæ‰±ã„">å­˜åœ¨ã—ãªã„ã‚­ãƒ¼ã®å–ã‚Šæ‰±ã„</h3>
<p><code>Counter</code> ã§ã¯å­˜åœ¨ã—ãªã„ã‚­ãƒ¼ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã‚‚ KeyError ã«ã¯ãªã‚‰ãšï¼Œ<code>0</code> ãŒè¿”ã‚‹ã®ãŒç‰¹å¾´ã§ã™</p>
<div id="8e8df9cc" class="cell" data-execution_count="7">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode python code-overflow-wrap code-with-copy"><code class="sourceCode python"><span id="cb13-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> collections <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> Counter</span>
<span id="cb13-2"></span>
<span id="cb13-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ä½œæˆ</span></span>
<span id="cb13-4">c <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> Counter([<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'eggs'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'ham'</span>])</span>
<span id="cb13-5"></span>
<span id="cb13-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># å­˜åœ¨ã™ã‚‹ã‚­ãƒ¼</span></span>
<span id="cb13-7"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(c[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'eggs'</span>])    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 1</span></span>
<span id="cb13-8"></span>
<span id="cb13-9"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># å­˜åœ¨ã—ãªã„ã‚­ãƒ¼</span></span>
<span id="cb13-10"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(c[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'bacon'</span>])   <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 0 â† KeyError ã«ã¯ãªã‚‰ãªã„</span></span></code></pre></div></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>1
0</code></pre>
</div>
</div>
<div id="exm-" class="custom_problem theorem example">
<p><span class="theorem-title"><strong>Example 2 (<code>dict</code> ã¨ KeyError)</strong></span> <br></p>
<div id="f0151c99" class="cell" data-execution_count="8">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb15" style="background: #f1f3f5;"><pre class="sourceCode python code-overflow-wrap code-with-copy"><code class="sourceCode python"><span id="cb15-1">foods <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> {<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'eggs'</span>: <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'ham'</span>: <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>}</span>
<span id="cb15-2"></span>
<span id="cb15-3"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">try</span>:</span>
<span id="cb15-4">  <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"bacon:"</span>, foods[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'bacon'</span>]) <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># å­˜åœ¨ã—ãªã„ã‚­ãƒ¼ã¯ KeyError</span></span>
<span id="cb15-5"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">except</span> <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">KeyError</span> <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> e:</span>
<span id="cb15-6">  <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"KeyError: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>e<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)</span></code></pre></div></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>KeyError: 'bacon'</code></pre>
</div>
</div>
</div>
<hr>
</section>
<section id="æŒ¿å…¥é †åºã®ä¿æŒ" class="level3">
<h3 class="anchored" data-anchor-id="æŒ¿å…¥é †åºã®ä¿æŒ">æŒ¿å…¥é †åºã®ä¿æŒ</h3>
<p>Python 3.7 ä»¥é™ï¼Œ<code>Counter</code> ã¯å†…éƒ¨çš„ã«ã¯æŒ¿å…¥é †ã‚’ä¿æŒã—ã¦ã„ã¾ã™ï¼<code>print</code> ãªã©ã§key-valueã‚’å‡ºåŠ›ã™ã‚‹ã¨valueã«å¿œã˜ãŸé™é †ã§ã‚½ãƒ¼ãƒˆã•ã‚ŒãŸã‚ˆã†ã«è¦‹ãˆã¾ã™ãŒï¼Œ<code>Counter.keys()</code> ãªã©ã§keyã®é †ç•ªã‚’ç¢ºèªã™ã‚‹ã¨ï¼ŒæŒ¿å…¥é †ã¨ãªã£ã¦ã„ã¾ã™</p>
<div id="2a7a02d8" class="cell" data-execution_count="9">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb17" style="background: #f1f3f5;"><pre class="sourceCode python code-overflow-wrap code-with-copy"><code class="sourceCode python"><span id="cb17-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> collections <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> Counter</span>
<span id="cb17-2"></span>
<span id="cb17-3">c <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> Counter(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'gallahad'</span>)</span>
<span id="cb17-4"></span>
<span id="cb17-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># check display order</span></span>
<span id="cb17-6"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(c)                    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># å‡ºåŠ›ã¯é »åº¦é †</span></span>
<span id="cb17-7"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">list</span>(c))              <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># å†…éƒ¨ã®æŒ¿å…¥é †</span></span>
<span id="cb17-8"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(c.keys())             <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># å†…éƒ¨ã®æŒ¿å…¥é †</span></span>
<span id="cb17-9"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">list</span>(c.elements()))   <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># elementsé †</span></span></code></pre></div></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Counter({'a': 3, 'l': 2, 'g': 1, 'h': 1, 'd': 1})
['g', 'a', 'l', 'h', 'd']
dict_keys(['g', 'a', 'l', 'h', 'd'])
['g', 'a', 'a', 'a', 'l', 'l', 'h', 'd']</code></pre>
</div>
</div>
<p><span class="mini-section">æ¼”ç®—å‡¦ç†ã®é †ç•ª</span></p>
<p><code>Counter</code> ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯ï¼Œ<code>+</code> ã‚’ä½¿ã£ãŸåŠ ç®—å‡¦ç†ãŒã§ãã¾ã™ï¼ã“ã®ã¨ãï¼ŒåŸºæœ¬çš„ãªã‚­ãƒ¼ã®é †ç•ªã¯å·¦ã‚ªãƒšãƒ©ãƒ³ãƒˆã¨ãªã‚Šï¼Œæ–°ã—ã„ã‚­ãƒ¼ã¯å³ã‚ªãƒšãƒ©ãƒ³ãƒ‰ã‹ã‚‰è¿½åŠ ã•ã‚Œã‚‹ã¨ã„ã†å†…éƒ¨å‡¦ç†ã«ãªã‚Šã¾ã™ï¼</p>
<p>ã¤ã¾ã‚Šï¼Œè¦ç´ é †ã¯ï¼Œ<span class="regmonkey-bold">å·¦ã‚ªãƒšãƒ©ãƒ³ãƒ‰ã®å‡ºç¾é † â†’ å³ã‚ªãƒšãƒ©ãƒ³ãƒ‰ã§æ–°è¦ã«ç¾ã‚ŒãŸé †</span>ã§æ±ºã¾ã‚Šã¾ã™ï¼</p>
<div id="8770445b" class="cell" data-execution_count="10">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb19" style="background: #f1f3f5;"><pre class="sourceCode python code-overflow-wrap code-with-copy"><code class="sourceCode python"><span id="cb19-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> collections <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> Counter</span>
<span id="cb19-2"></span>
<span id="cb19-3">c1 <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> Counter(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'zbcaad'</span>)</span>
<span id="cb19-4">c2 <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> Counter(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'abcd'</span>)</span>
<span id="cb19-5"></span>
<span id="cb19-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ç®—è¡“æ¼”ç®—</span></span>
<span id="cb19-7">c3 <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> c1 <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> c2</span>
<span id="cb19-8"></span>
<span id="cb19-9"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># å‡ºåŠ›</span></span>
<span id="cb19-10"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(c3)</span>
<span id="cb19-11"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(c3.keys())</span>
<span id="cb19-12"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">list</span>(c3.elements()))</span></code></pre></div></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Counter({'a': 3, 'b': 2, 'c': 2, 'd': 2, 'z': 1})
dict_keys(['z', 'b', 'c', 'a', 'd'])
['z', 'b', 'b', 'c', 'c', 'a', 'a', 'a', 'd', 'd']</code></pre>
</div>
</div>
</section>
</section>
<section id="counter-ã¨ç®—è¡“æ¼”ç®—" class="level2">
<h2 class="anchored" data-anchor-id="counter-ã¨ç®—è¡“æ¼”ç®—"><code>Counter</code> ã¨ç®—è¡“æ¼”ç®—</h2>
<p><span class="mini-section">TL;DRs</span></p>
<div id="3b705512" class="cell" data-execution_count="11">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb21" style="background: #f1f3f5;"><pre class="sourceCode python code-overflow-wrap code-with-copy"><code class="sourceCode python"><span id="cb21-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> collections <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> Counter</span>
<span id="cb21-2"></span>
<span id="cb21-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 2ã¤ã®ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã‚’ä½œæˆ</span></span>
<span id="cb21-4">c <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> Counter(a<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>, b<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, c<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span>
<span id="cb21-5">d <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> Counter(a<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, b<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>, c<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span>
<span id="cb21-6"></span>
<span id="cb21-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># -------------------------------</span></span>
<span id="cb21-8"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ç®—è¡“æ¼”ç®—ã¨é›†åˆæ¼”ç®—</span></span>
<span id="cb21-9"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># -------------------------------</span></span>
<span id="cb21-10"></span>
<span id="cb21-11"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"c + d ="</span>, c <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> d)   <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># è¶³ã—ç®—: å„ã‚­ãƒ¼ã®å€¤ã‚’åŠ ç®—</span></span>
<span id="cb21-12"></span>
<span id="cb21-13"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"c - d ="</span>, c <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> d)   <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># å¼•ãç®—: æ­£ã®å€¤ã®ã¿ä¿æŒ, 0 ã¯é™¤å¤–ã•ã‚Œã‚‹</span></span>
<span id="cb21-14"></span>
<span id="cb21-15"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"c &amp; d ="</span>, c <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> d)   <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ç©é›†åˆ: min(c[x], d[x])</span></span>
<span id="cb21-16"></span>
<span id="cb21-17"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"c | d ="</span>, c <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|</span> d)   <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># å’Œé›†åˆ: max(c[x], d[x])</span></span>
<span id="cb21-18"></span>
<span id="cb21-19"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># -------------------------------</span></span>
<span id="cb21-20"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># æ¯”è¼ƒæ¼”ç®—</span></span>
<span id="cb21-21"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># -------------------------------</span></span>
<span id="cb21-22"></span>
<span id="cb21-23"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"c == d ?"</span>, c <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> d)  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ç­‰ä¾¡åˆ¤å®š</span></span>
<span id="cb21-24"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"c &lt;= d ?"</span>, c <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;=</span> d)  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># éƒ¨åˆ†é›†åˆåˆ¤å®š (ã™ã¹ã¦ã®è¦ç´ ãŒ &lt;=)</span></span>
<span id="cb21-25"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"c &gt;= d ?"</span>, c <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;=</span> d)  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># éƒ¨åˆ†é›†åˆåˆ¤å®š (ã™ã¹ã¦ã®è¦ç´ ãŒ &gt;=)</span></span></code></pre></div></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>c + d = Counter({'a': 4, 'b': 3, 'c': 2})
c - d = Counter({'a': 2})
c &amp; d = Counter({'a': 1, 'b': 1, 'c': 1})
c | d = Counter({'a': 3, 'b': 2, 'c': 1})
c == d ? False
c &lt;= d ? False
c &gt;= d ? False</code></pre>
</div>
</div>
<section id="subtract-ãƒ¡ã‚½ãƒƒãƒ‰" class="level3">
<h3 class="anchored" data-anchor-id="subtract-ãƒ¡ã‚½ãƒƒãƒ‰"><code>subtract</code> ãƒ¡ã‚½ãƒƒãƒ‰</h3>
<div id="def-" class="custom_problem blog-custom-border theorem definition">
<p><span class="theorem-title"><strong>Definition 2</strong></span> <span class="def-title">Counter.subtract</span></p>
<ul>
<li>ã‚ã‚‹ <code>Counter</code> ã‹ã‚‰åˆ¥ã® <code>Counter</code> ã‚„ <code>iterable</code> ã®è¦ç´ ã‚’æ¸›ç®—ã™ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰</li>
<li>çµæœã®ã‚«ã‚¦ãƒ³ãƒˆå€¤ã¯ è² ã®å€¤ ã«ãªã‚‹ã“ã¨ã‚‚ã‚ã‚‹</li>
<li>å…ƒã® <code>Counter</code> ãŒ å¤‰æ›´ã•ã‚Œã‚‹ï¼ˆæ–°ã—ã„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯è¿”ã‚‰ãªã„ï¼‰</li>
</ul>
</div>
<p>åŸºæœ¬çš„ãªä½¿ã„æ–¹ã¯</p>
<div id="a97805a6" class="cell" data-execution_count="12">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb23" style="background: #f1f3f5;"><pre class="sourceCode python code-overflow-wrap code-with-copy"><code class="sourceCode python"><span id="cb23-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> collections <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> Counter</span>
<span id="cb23-2"></span>
<span id="cb23-3">c1 <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> Counter(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'aabbcc'</span>)</span>
<span id="cb23-4">c2 <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> Counter(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'abc'</span>)</span>
<span id="cb23-5"></span>
<span id="cb23-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># c1 ã‹ã‚‰ c2 ã‚’æ¸›ç®—</span></span>
<span id="cb23-7">c1.subtract(c2)</span>
<span id="cb23-8"></span>
<span id="cb23-9"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(c1)</span></code></pre></div></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Counter({'a': 1, 'b': 1, 'c': 1})</code></pre>
</div>
</div>
<div id="exm-" class="custom_problem theorem example">
<p><span class="theorem-title"><strong>Example 3 (iterableã‹ã‚‰ã®æ¸›ç®—)</strong></span> <br></p>
<div id="e69183e5" class="cell" data-execution_count="13">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb25" style="background: #f1f3f5;"><pre class="sourceCode python code-overflow-wrap code-with-copy"><code class="sourceCode python"><span id="cb25-1">c <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> Counter(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'banana'</span>)</span>
<span id="cb25-2">c.subtract(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'an'</span>)   <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 'a','n' ã‚’ãã‚Œãã‚Œ 1 ãšã¤æ¸›ã‚‰ã™</span></span>
<span id="cb25-3"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(c)</span></code></pre></div></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Counter({'a': 2, 'b': 1, 'n': 1})</code></pre>
</div>
</div>
</div>
<hr>
<div id="exm-" class="custom_problem theorem example">
<p><span class="theorem-title"><strong>Example 4 (å€¤ã¯ 0 æœªæº€ã«ãªã‚‹å ´åˆ)</strong></span> <br></p>
<div id="97bd4648" class="cell" data-execution_count="14">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb27" style="background: #f1f3f5;"><pre class="sourceCode python code-overflow-wrap code-with-copy"><code class="sourceCode python"><span id="cb27-1">c <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> Counter(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'banana2'</span>)</span>
<span id="cb27-2">c.subtract(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'and2'</span>)   <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 'a','n' , 'd'ã‚’ãã‚Œãã‚Œ 1 ãšã¤æ¸›ã‚‰ã™</span></span>
<span id="cb27-3"></span>
<span id="cb27-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># å‡ºåŠ›</span></span>
<span id="cb27-5"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(c)    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># æ¼”ç®—çµæœã®å‡ºåŠ›</span></span>
<span id="cb27-6"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span>c)   <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 0ä»¥ä¸Šã®è¦ç´ ã®ã¿å‡ºåŠ›ï¼ˆ0ã¯å«ã¾ãªã„ï¼‰</span></span>
<span id="cb27-7"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>c)   <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 0æœªæº€ã®è¦ç´ ã®ã¿å‡ºåŠ›</span></span></code></pre></div></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Counter({'a': 2, 'b': 1, 'n': 1, '2': 0, 'd': -1})
Counter({'a': 2, 'b': 1, 'n': 1})
Counter({'d': 1})</code></pre>
</div>
</div>
</div>
<hr>
</section>
<section id="å®Ÿè¡Œé †ç•ªã®æ³¨æ„" class="level3">
<h3 class="anchored" data-anchor-id="å®Ÿè¡Œé †ç•ªã®æ³¨æ„">å®Ÿè¡Œé †ç•ªã®æ³¨æ„</h3>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Caution
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><code>Counter</code> ã® ç®—è¡“æ¼”ç®—ã¯é †åºã«ã‚ˆã£ã¦å‡ºåŠ›ã®ã‚­ãƒ¼é †åºãŒå¤‰ã‚ã‚‹ã“ã¨ãŒã‚ã‚‹</li>
<li><span class="regmonkey-bold">è² ã®å€¤ã®å‡¦ç†ãŒé–¢ã‚ã‚‹å ´åˆï¼Œçµæœã®å€¤è‡ªä½“ã‚‚å¤‰ã‚ã‚‹</span></li>
</ul>
</div>
</div>
<div id="cd95700b" class="cell" data-execution_count="15">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb29" style="background: #f1f3f5;"><pre class="sourceCode python code-overflow-wrap code-with-copy"><code class="sourceCode python"><span id="cb29-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> collections <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> Counter</span>
<span id="cb29-2"></span>
<span id="cb29-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 3ã¤ã®ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã‚’ä½œæˆ</span></span>
<span id="cb29-4">x <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> Counter(a<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>, b<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, c<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=-</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>)</span>
<span id="cb29-5">y <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> Counter(a<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, b<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>, c<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, d<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span>
<span id="cb29-6">z <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> Counter(a<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, b<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>, c<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>, e<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span>
<span id="cb29-7"></span>
<span id="cb29-8"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(x <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> y <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> z)</span>
<span id="cb29-9"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(x <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> z <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> y)</span></code></pre></div></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Counter({'a': 5, 'b': 5, 'c': 2, 'd': 1, 'e': 1})
Counter({'a': 5, 'b': 5, 'e': 1, 'c': 1, 'd': 1})</code></pre>
</div>
</div>
<p><span class="mini-section">ãƒ­ãƒã‚¹ãƒˆãªåŠ ç®—å‡¦ç†</span></p>
<p>å€¤ã‚’ç½®ãæ›ãˆã‚‹ã®ã§ã¯ãªãï¼Œé †åºãƒ­ãƒã‚¹ãƒˆã«ã‚«ã‚¦ãƒ³ãƒˆã‚’åŠ ç®—ã—ã¦è¨ˆç®—ã—ãŸã„å ´åˆã¯ <code>update</code> ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ç”¨ã„ã‚‹ã»ã†ãŒè‰¯ã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“</p>
<div id="c019837f" class="cell" data-execution_count="16">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb31" style="background: #f1f3f5;"><pre class="sourceCode python code-overflow-wrap code-with-copy"><code class="sourceCode python"><span id="cb31-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> collections <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> Counter</span>
<span id="cb31-2"></span>
<span id="cb31-3">x <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> Counter(a<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>, b<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, c<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=-</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>)</span>
<span id="cb31-4">y <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> Counter(a<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, b<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>, c<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, d<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span>
<span id="cb31-5">z <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> Counter(a<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, b<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>, c<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>, e<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span>
<span id="cb31-6"></span>
<span id="cb31-7">c_total_xyz <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> Counter()</span>
<span id="cb31-8">c_total_xzy <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> Counter()</span>
<span id="cb31-9"></span>
<span id="cb31-10"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> c1 <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> [x, y, z]:</span>
<span id="cb31-11">    c_total_xyz.update(c1)</span>
<span id="cb31-12"></span>
<span id="cb31-13"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> c2 <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> [x, z, y]:</span>
<span id="cb31-14">    c_total_xzy.update(c2)</span>
<span id="cb31-15"></span>
<span id="cb31-16"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># è¨ˆç®—çµæœ</span></span>
<span id="cb31-17"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"c_total_xyz: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>c_total_xyz<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)</span>
<span id="cb31-18"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"c_total_xzy: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>c_total_xzy<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)</span>
<span id="cb31-19"></span>
<span id="cb31-20"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># æ¯”è¼ƒ</span></span>
<span id="cb31-21"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(c_total_xyz <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> c_total_xzy)</span></code></pre></div></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>c_total_xyz: Counter({'a': 5, 'b': 5, 'c': 1, 'd': 1, 'e': 1})
c_total_xzy: Counter({'a': 5, 'b': 5, 'c': 1, 'e': 1, 'd': 1})
True</code></pre>
</div>
</div>
</section>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<ul>
<li><a href="https://docs.python.org/3/library/collections.html#collections.Counter">Counter objects</a></li>
</ul>


</section>

 ]]></description>
  <category>python</category>
  <guid>https://ryonakagami.github.io/regmonkey-datascience-blog/posts/2025-11-16-counter-object/</guid>
  <pubDate>Sun, 16 Nov 2025 00:00:00 GMT</pubDate>
</item>
<item>
  <title>ETLãƒ¡ãƒ¢</title>
  <dc:creator>Ryo Nakagami</dc:creator>
  <link>https://ryonakagami.github.io/regmonkey-datascience-blog/posts/2025-11-15-ETL-note/</link>
  <description><![CDATA[ 






<section id="etlã¨ã¯" class="level2">
<h2 class="anchored" data-anchor-id="etlã¨ã¯">ETLã¨ã¯ï¼Ÿ</h2>
<div id="def-" class="custom_problem blog-custom-border theorem definition">
<p><span class="theorem-title"><strong>Definition 1</strong></span> <span class="def-title">ETL</span></p>
<ul>
<li>Extractï¼ˆæŠ½å‡ºï¼‰ãƒ»Transformï¼ˆå¤‰æ›ï¼‰ãƒ»Loadï¼ˆæ ¼ç´ï¼‰ ã®ç•¥</li>
<li>è¦ä»¶ã¨ã—ã¦
<ul>
<li>è‡ªå‹•åŒ–ã•ã‚Œã¦ã„ã‚‹ã“ã¨</li>
<li>å†ç¾æ€§ãŒã‚ã‚‹ã“ã¨</li>
<li>ãƒ‡ãƒ¼ã‚¿ãŒã©ã®ã‚ˆã†ã«åŠ å·¥ã•ã‚Œã‹è¿½è·¡ã—ã‚„ã™ã„ã“ã¨</li>
</ul></li>
</ul>
</div>
<p><span class="mini-section">Pythonã§ETL toolã‚’ä½œæˆã™ã‚‹å ´é¢</span></p>
<ul>
<li>ETLè¦ä»¶ãŒã‚·ãƒ³ãƒ—ãƒ«ãªã¨ã</li>
<li>æ—¢å­˜ãƒ„ãƒ¼ãƒ«ã§ã¯æº€ãŸã›ãªã„ç‰¹æ®Šè¦ä»¶ãŒã‚ã‚‹ã¨ã</li>
</ul>
</section>
<section id="etlä½œæ¥­ãƒ•ãƒ­ãƒ¼" class="level2">
<h2 class="anchored" data-anchor-id="etlä½œæ¥­ãƒ•ãƒ­ãƒ¼">ETLä½œæ¥­ãƒ•ãƒ­ãƒ¼</h2>
<p><span class="mini-section">ä½œæ¥­ãƒ•ãƒ­ãƒ¼</span></p>
<ol type="1">
<li>æ§‹é€ åŒ–ã•ã‚Œã¦ã„ãªã„ã‚±ãƒ¼ã‚¹ãŒå¤šã„ãƒ•ã‚¡ã‚¤ãƒ«ç¾¤ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’æŠ½å‡ºã™ã‚‹</li>
<li>ãƒ‡ãƒ¼ã‚¿ã‚¯ãƒ¬ãƒ³ã‚¸ãƒ³ã‚°ã‚’å®Ÿæ–½</li>
<li>ã‚ã‚‹ã¹ããƒ‡ãƒ¼ã‚¿ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã«å¾“ã†ã‚ˆã†ã«å‹ã‚’ä»˜ä¸ã™ã‚‹</li>
<li>ãƒ‡ãƒ¼ã‚¿ã‚’DBãªã©ã«æ ¼ç´ã™ã‚‹</li>
</ol>
</section>
<section id="ä»£è¡¨çš„ãªetl-tool" class="level2">
<h2 class="anchored" data-anchor-id="ä»£è¡¨çš„ãªetl-tool">ä»£è¡¨çš„ãªETL tool</h2>
<div class="no-border-top-table">
<table class="caption-top table">
<colgroup>
<col style="width: 12%">
<col style="width: 10%">
<col style="width: 10%">
<col style="width: 10%">
<col style="width: 10%">
<col style="width: 10%">
<col style="width: 10%">
</colgroup>
<thead>
<tr class="header">
<th>é …ç›®</th>
<th>Apache Airflow</th>
<th>Luigi</th>
<th>pandas</th>
<th>petl</th>
<th>Bonobo</th>
<th>Bubbles</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>ç¨®é¡</td>
<td>ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³</td>
<td>ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã®ã‚¿ã‚¹ã‚¯ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³</td>
<td>ãƒ‡ãƒ¼ã‚¿åˆ†æãƒ»å¤‰æ›ãƒ©ã‚¤ãƒ–ãƒ©ãƒª</td>
<td>è»½é‡ETLãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯</td>
<td>è»½é‡ETLãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯</td>
<td>ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿é§†å‹•å‹ETLãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯</td>
</tr>
<tr class="even">
<td>å¤‰æ›æ©Ÿèƒ½</td>
<td>Pythonã‚ªãƒšãƒ¬ãƒ¼ã‚¿ãƒ¼çµŒç”±ã§é–“æ¥çš„</td>
<td>ã‚ã‚Šï¼ˆã‚«ã‚¹ã‚¿ãƒ ã‚¿ã‚¹ã‚¯ï¼‰</td>
<td>è±Šå¯ŒãªDataFrameå¤‰æ›</td>
<td>åŸºæœ¬çš„ãªè¡Œå˜ä½å¤‰æ›</td>
<td>ã‚ã‚Šï¼ˆãƒãƒ¼ãƒ‰ã«ã‚ˆã‚‹å¤‰æ›ï¼‰</td>
<td>é™å®šçš„</td>
</tr>
<tr class="odd">
<td>ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å¯¾å¿œ</td>
<td>ãªã—</td>
<td>ãªã—</td>
<td>ãªã—</td>
<td>ãªã—</td>
<td>ãªã—</td>
<td>ãªã—</td>
</tr>
<tr class="even">
<td>ã‚³ãƒã‚¯ã‚¿</td>
<td>Python/ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£è£½ãƒ—ãƒ©ã‚°ã‚¤ãƒ³</td>
<td>ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã€DBï¼ˆæ‹¡å¼µå¯èƒ½ï¼‰</td>
<td>CSV, Excel, SQL, JSON ãªã©</td>
<td>CSV, Excel, JSON, SQL, XML</td>
<td>ãƒ•ã‚¡ã‚¤ãƒ«ã€APIã€DB</td>
<td>CSV, SQL, JSON, HTTP</td>
</tr>
<tr class="odd">
<td>ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒªãƒ³ã‚°</td>
<td>ã‚ã‚Šï¼ˆãƒªãƒˆãƒ©ã‚¤ãƒ»ã‚¢ãƒ©ãƒ¼ãƒˆå¯¾å¿œï¼‰</td>
<td>ã‚ã‚Šï¼ˆå†…éƒ¨ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ï¼‰</td>
<td>ãªã—</td>
<td>ãªã—</td>
<td>ãªã—</td>
<td>ãªã—</td>
</tr>
<tr class="even">
<td>ä¸¦åˆ—å‡¦ç†</td>
<td>ã‚ã‚Šï¼ˆCelery, Kubernetes ãªã©ï¼‰</td>
<td>ã‚ã‚Š</td>
<td>Pandas ã®ä¸¦åˆ—ã‚ªãƒ—ã‚·ãƒ§ãƒ³ç¨‹åº¦</td>
<td>ãªã—</td>
<td>ã‚ã‚Šï¼ˆãƒãƒ«ãƒã‚¹ãƒ¬ãƒƒãƒ‰ï¼‰</td>
<td>é™å®šçš„</td>
</tr>
<tr class="odd">
<td>é©ã—ã¦ã„ã‚‹ç”¨é€”</td>
<td>è¤‡é›‘ãªãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã®ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³</td>
<td>ä¾å­˜é–¢ä¿‚ã®ã‚ã‚‹ã‚¿ã‚¹ã‚¯ç®¡ç†</td>
<td>ãƒ‡ãƒ¼ã‚¿ã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°ãƒ»åˆ†æãƒ»æ•´å½¢</td>
<td>è»½é‡ã®ETLä½œæ¥­</td>
<td>å°è¦æ¨¡ETLãƒ»ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å¯è¦–åŒ–</td>
<td>å­¦è¡“ç”¨é€”ãƒ»ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ETL</td>
</tr>
<tr class="even">
<td>åˆ¶é™</td>
<td>å­¦ç¿’ã‚³ã‚¹ãƒˆé«˜ã„ã€ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ä¸å¯</td>
<td>UIãŒåŸºæœ¬çš„ã€ã‚¹ã‚±ãƒ¼ãƒ«ã«åˆ¶é™</td>
<td>ãƒ¡ãƒ¢ãƒªå†…ã®ã¿ã§å¤§è¦æ¨¡ãƒ‡ãƒ¼ã‚¿ã¯é›£ã—ã„</td>
<td>ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ãƒ»ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãªã—</td>
<td>ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ å°ã€ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£å°‘</td>
<td>ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã•ã‚Œã¦ãŠã‚‰ãšæ›´æ–°ã»ã¼ãªã—</td>
</tr>
<tr class="odd">
<td>ã‚µãƒãƒ¼ãƒˆ</td>
<td>æ´»ç™ºãªã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã€å•†ç”¨ã‚µãƒãƒ¼ãƒˆã‚ã‚Š</td>
<td>ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã‚µãƒãƒ¼ãƒˆ</td>
<td>å¤§è¦æ¨¡ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã€è±Šå¯Œãªã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ </td>
<td>å°è¦æ¨¡ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£</td>
<td>ãƒ‹ãƒƒãƒãªã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£</td>
<td>æœ€å°é™ã®ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã€æ›´æ–°ã‚‚ã»ã¼ãªã—</td>
</tr>
</tbody>
</table>
</div>


</section>

 ]]></description>
  <category>å‰å‡¦ç†</category>
  <guid>https://ryonakagami.github.io/regmonkey-datascience-blog/posts/2025-11-15-ETL-note/</guid>
  <pubDate>Sat, 15 Nov 2025 00:00:00 GMT</pubDate>
</item>
<item>
  <title>watchã‚³ãƒãƒ³ãƒ‰ã‚’ç”¨ã„ã¦GPUãƒªã‚½ãƒ¼ã‚¹ã‚’ç¢ºèªã™ã‚‹</title>
  <dc:creator>Ryo Nakagami</dc:creator>
  <link>https://ryonakagami.github.io/regmonkey-datascience-blog/posts/2025-11-14-watch-gpu/</link>
  <description><![CDATA[ 






<section id="watch-ã‚³ãƒãƒ³ãƒ‰" class="level2">
<h2 class="anchored" data-anchor-id="watch-ã‚³ãƒãƒ³ãƒ‰"><code>watch</code> ã‚³ãƒãƒ³ãƒ‰</h2>
<div id="def-" class="custom_problem blog-custom-border theorem definition">
<p><span class="theorem-title"><strong>Definition 1</strong></span> <span class="def-title">watch ã‚³ãƒãƒ³ãƒ‰</span></p>
<ul>
<li><p><code>watch</code> ã¯ï¼ŒæŒ‡å®šã—ãŸã‚³ãƒãƒ³ãƒ‰ã‚’ ä¸€å®šé–“éš”ã§ç¹°ã‚Šè¿”ã—å®Ÿè¡Œã—ï¼Œçµæœã‚’ãƒ•ãƒ«ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã§è¡¨ç¤ºã™ã‚‹ Linux ã‚³ãƒãƒ³ãƒ‰</p></li>
<li><p>å®Ÿè¡Œä¸­ã¯ <code>Ctrl + C</code> ã§çµ‚äº†ã§ãã¾ã™</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">watch</span> <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">[</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">ã‚ªãƒ—ã‚·ãƒ§ãƒ³</span><span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">]</span> ã‚³ãƒãƒ³ãƒ‰</span></code></pre></div></div></li>
</ul>
</div>
<p>ç”¨é€”ã¨ã—ã¦ï¼Œ</p>
<ul>
<li>ãƒ•ã‚¡ã‚¤ãƒ«ã‚„ãƒ—ãƒ­ã‚»ã‚¹ã®çŠ¶æ…‹ã‚’ç›£è¦–</li>
<li>GPU ä½¿ç”¨ç‡ã‚„ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ãªã©ã®å¤‰åŒ–ã‚’è¿½è·¡</li>
<li>ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã®å¤‰åŒ–ã‚’ç›£è¦–</li>
</ul>
<p>ã‚’Terminalä¸Šã§ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ç¢ºèªã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ï¼</p>
<p><span class="mini-section">Options</span></p>
<div class="no-border-top-table">
<table class="caption-top table">
<colgroup>
<col style="width: 22%">
<col style="width: 24%">
<col style="width: 53%">
</colgroup>
<thead>
<tr class="header">
<th>çŸ­ã„ã‚ªãƒ—ã‚·ãƒ§ãƒ³</th>
<th>é•·ã„ã‚ªãƒ—ã‚·ãƒ§ãƒ³</th>
<th>èª¬æ˜</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>-t</code></td>
<td><code>--no-title</code></td>
<td>ãƒ˜ãƒƒãƒ€ï¼ˆå®Ÿè¡Œé–“éš”ãƒ»ã‚³ãƒãƒ³ãƒ‰åãƒ»é–‹å§‹æ™‚åˆ»ï¼‰ã‚’éè¡¨ç¤º</td>
</tr>
<tr class="even">
<td><code>-e</code></td>
<td><code>--errexit</code></td>
<td>å®Ÿè¡Œã—ãŸã‚³ãƒãƒ³ãƒ‰ãŒã‚¨ãƒ©ãƒ¼ï¼ˆ0ä»¥å¤–ï¼‰ã§çµ‚äº†ã—ãŸã‚‰ watch ã‚‚çµ‚äº†</td>
</tr>
<tr class="odd">
<td><code>-b</code></td>
<td><code>--beep</code></td>
<td>ã‚¨ãƒ©ãƒ¼æ™‚ã«ãƒ“ãƒ¼ãƒ—éŸ³ã‚’é³´ã‚‰ã™</td>
</tr>
<tr class="even">
<td><code>-d</code></td>
<td><code>--differences</code></td>
<td>ç›´å‰ã®çµæœã¨æ¯”è¼ƒã—ï¼Œå¤‰åŒ–ã—ãŸç®‡æ‰€ã‚’ãƒã‚¤ãƒ©ã‚¤ãƒˆ</td>
</tr>
<tr class="odd">
<td><code>-d=permanent</code></td>
<td></td>
<td>åˆå›å®Ÿè¡Œã‹ã‚‰å¤‰åŒ–ã—ãŸç®‡æ‰€ã‚’ãƒã‚¤ãƒ©ã‚¤ãƒˆè¡¨ç¤º</td>
</tr>
<tr class="even">
<td><code>-c</code></td>
<td><code>--color</code></td>
<td>ANSI ã‚«ãƒ©ãƒ¼æŒ‡å®šã‚’æœ‰åŠ¹ã«ã™ã‚‹</td>
</tr>
<tr class="odd">
<td><code>-g</code></td>
<td><code>--chgexit</code></td>
<td>å®Ÿè¡ŒçµæœãŒå¤‰åŒ–ã—ãŸã‚‰ watch ã‚’çµ‚äº†</td>
</tr>
<tr class="even">
<td><code>-n ç§’æ•°</code></td>
<td><code>--interval ç§’æ•°</code></td>
<td>å®Ÿè¡Œé–“éš”ï¼ˆç§’ï¼‰ã‚’æŒ‡å®šï¼Œæœ€å° 0.1 ç§’</td>
</tr>
<tr class="odd">
<td><code>-p</code></td>
<td><code>--precise</code></td>
<td>å®Ÿè¡Œã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‚’ã‚ˆã‚Šå³å¯†ã«åˆ¶å¾¡</td>
</tr>
<tr class="even">
<td><code>-x</code></td>
<td><code>--exec</code></td>
<td>ã‚³ãƒãƒ³ãƒ‰ã‚’ <code>exec</code> ã§å®Ÿè¡Œï¼ˆ<code>sh -c</code> ã§ã¯ãªã„ï¼‰</td>
</tr>
</tbody>
</table>
</div>
<section id="ã‚³ãƒãƒ³ãƒ‰ãƒ‘ãƒ¼ãƒˆå‹•ä½œã®ä»•çµ„ã¿" class="level3">
<h3 class="anchored" data-anchor-id="ã‚³ãƒãƒ³ãƒ‰ãƒ‘ãƒ¼ãƒˆå‹•ä½œã®ä»•çµ„ã¿">ã‚³ãƒãƒ³ãƒ‰ãƒ‘ãƒ¼ãƒˆå‹•ä½œã®ä»•çµ„ã¿</h3>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<div class="no-border-top-table">
<table class="caption-top table">
<colgroup>
<col style="width: 22%">
<col style="width: 45%">
<col style="width: 31%">
</colgroup>
<thead>
<tr class="header">
<th>ã‚³ãƒãƒ³ãƒ‰</th>
<th>ã‚·ã‚§ãƒ«ã«ã‚ˆã‚‹å±•é–‹ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°</th>
<th>è¡¨ç¤ºã•ã‚Œã‚‹ PID</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>watch echo $$</code></td>
<td>å…¥åŠ›ã—ãŸç¬é–“ã«å±•é–‹ã•ã‚Œã‚‹</td>
<td>å¸¸ã«ã€Œç¾åœ¨ã®ã‚·ã‚§ãƒ«ã® PIDã€ â†’ å¤‰åŒ–ã—ãªã„</td>
</tr>
<tr class="even">
<td><code>watch echo '$$'</code></td>
<td>å±•é–‹ã•ã‚Œãšã« watch ã«æ¸¡ã‚‹ â†’ watch å†…ã® sh ãŒå±•é–‹</td>
<td>æ¯å›ã€Œæ–°ã—ã„ sh ã® PIDã€ â†’ å¤‰åŒ–ã™ã‚‹</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p><code>watch</code> ã§å®Ÿè¡Œã•ã‚Œã‚‹ã‚³ãƒãƒ³ãƒ‰ã¯ï¼Œãã®ã¾ã¾å®Ÿè¡Œã•ã‚Œã‚‹ã®ã§ã¯ãª<span class="regmonkey-bold">sh -c &lt;ã‚³ãƒãƒ³ãƒ‰æ–‡å­—åˆ—&gt;ã¨ã—ã¦æ–°ã—ã„ã‚·ã‚§ãƒ«ã«æ¸¡ã•ã‚Œã¦ã‹ã‚‰å®Ÿè¡Œ</span>ã•ã‚Œã¦ã„ã¾ã™ï¼</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sh</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-c</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"&lt;command&gt;"</span></span></code></pre></div></div>
<p>ã“ã®ãŸã‚ï¼ŒæŒ‡å®šã—ãŸã‚³ãƒãƒ³ãƒ‰ã®å¼•æ•°ã®ä¸­ã§ç’°å¢ƒå¤‰æ•°ã‚„ã‚·ã‚§ãƒ«å¤‰æ•°ã‚’å‚ç…§ã—ãŸã„ãªã©ï¼Œå¼•ç”¨ç¬¦ã‚’ä½¿ã„ãŸã„å ´åˆã¯ï¼Œé©å®œå¼•ç”¨ç¬¦ã‚’è£œã†å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼</p>
<div id="exm-" class="custom_problem theorem example">
<p><span class="theorem-title"><strong>Example 1 (<code>watch echo $$</code>ã®å ´åˆ)</strong></span> <br></p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">watch</span> echo <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$$</span></span></code></pre></div></div>
<p>ã¨ã™ã‚‹ã¨ï¼Œã‚·ã‚§ãƒ«ãŒå…ˆã« <code>$$</code> ã‚’å±•é–‹ ã—ã¦ã—ã¾ã„ã¾ã™ï¼ã¤ã¾ã‚Šï¼Œå®Ÿè¡Œæ™‚ã®ã‚·ã‚§ãƒ«ã®PIDãŒ1000ãªã‚‰</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb4-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">watch</span> echo 1000</span></code></pre></div></div>
<p>ã¨è§£é‡ˆã•ã‚Œå®Ÿè¡Œã•ã‚Œã¾ã™ï¼æ¯å›æ–°ã—ã„ã‚·ã‚§ãƒ«ã§å±•é–‹ã•ã‚Œã‚‹ã“ã¨ã‚’å®Ÿç¾ã—ãŸã„ãªã‚‰ã°</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">wtach</span> echo <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'$$'</span></span></code></pre></div></div>
<p>ã¨ã™ã‚‹ã¨</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb6-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sh</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-c</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"echo </span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$$</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span></span></code></pre></div></div>
<p>ã¨è§£é‡ˆã•ã‚Œï¼Œsh ãŒ <code>$$</code> ã‚’å±•é–‹ã—ï¼Œå®Ÿè¡Œæ™‚ã® sh ã® PID ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ï¼</p>
</div>
<hr>
</section>
</section>
<section id="watchã‚³ãƒãƒ³ãƒ‰å®Ÿè·µ" class="level2">
<h2 class="anchored" data-anchor-id="watchã‚³ãƒãƒ³ãƒ‰å®Ÿè·µ">watchã‚³ãƒãƒ³ãƒ‰å®Ÿè·µ</h2>
<section id="case-1-gpuãƒªã‚½ãƒ¼ã‚¹ã‚’ç›£è¦–ã™ã‚‹" class="level3">
<h3 class="anchored" data-anchor-id="case-1-gpuãƒªã‚½ãƒ¼ã‚¹ã‚’ç›£è¦–ã™ã‚‹">Case 1: GPUãƒªã‚½ãƒ¼ã‚¹ã‚’ç›£è¦–ã™ã‚‹</h3>
<p><span class="mini-section">Requirements</span></p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode zsh code-with-copy"><code class="sourceCode zsh"><span id="cb7-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">%</span> gpustat <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--version</span></span>
<span id="cb7-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">gpustat</span> 1.1.1</span>
<span id="cb7-3"></span>
<span id="cb7-4"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">%</span> byobu <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--version</span></span>
<span id="cb7-5"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">byobu</span> version 6.11</span>
<span id="cb7-6"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">tmux</span> 3.4</span></code></pre></div></div>
<p><span class="mini-section">ã‚³ãƒãƒ³ãƒ‰</span></p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb8-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">watch</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-n</span> 1 nvidia-smi</span></code></pre></div></div>
<ul>
<li>æ¯ç§’ï¼ˆ1ç§’é–“éš”ï¼‰ã§ <code>nvidia-smi</code> ã‚’å†å®Ÿè¡Œã—ï¼ŒGPUã®çŠ¶æ…‹ã‚’è¡¨ç¤ºã™ã‚‹ã‚³ãƒãƒ³ãƒ‰</li>
</ul>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb9-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">watch</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-n</span> 1 gpustat <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--color</span></span></code></pre></div></div>
<ul>
<li>æ¯ç§’ï¼ˆ1ç§’é–“éš”ï¼‰ã§ <code>gpustat</code> ã‚’å†å®Ÿè¡Œã—ï¼ŒGPUã®çŠ¶æ…‹ã‚’ã‚«ãƒ©ãƒ¼è¡¨ç¤ºã§æ›´æ–°ã™ã‚‹ã‚³ãƒãƒ³ãƒ‰</li>
<li><code>nvidia-smi</code>ã¨æ¯”ã¹è¡¨ç¤ºãŒã‚³ãƒ³ãƒ‘ã‚¯ãƒˆ</li>
</ul>
<p><span class="mini-section">Tips</span></p>
<ul>
<li><code>Byobu</code>ã‚’ç”¨ã„ã¦ã„ã‚‹å ´åˆã¯ <code>Shift</code> + <code>F2</code> ã§ä¸Šä¸‹ã«windowã‚’splitã—ã¦ï¼Œ<code>Alt</code> + <code>Shift</code> + <code>â†‘</code>/<code>â†“</code> ã§è¡¨ç¤ºã‚’é ˜åŸŸã‚’ã‚³ãƒ³ãƒ‘ã‚¯ãƒˆã«ã§ãã‚‹</li>
<li><code>Gnome Terminator</code> ã®å ´åˆã¯ <code>Ctrl</code> + <code>Shift</code> + <code>O</code> ã§ä¸Šä¸‹splitï¼Œãã®å¾Œ <code>Ctrl</code> + <code>Shift</code> + <code>â†‘</code>/<code>â†“</code> ã§è¡¨ç¤ºã‚’é ˜åŸŸã‚’resize</li>
</ul>
</section>
<section id="case-2-ãƒ¡ãƒ¢ãƒªãƒªã‚½ãƒ¼ã‚¹ã‚’ç›£è¦–ã™ã‚‹" class="level3">
<h3 class="anchored" data-anchor-id="case-2-ãƒ¡ãƒ¢ãƒªãƒªã‚½ãƒ¼ã‚¹ã‚’ç›£è¦–ã™ã‚‹">Case 2: ãƒ¡ãƒ¢ãƒªãƒªã‚½ãƒ¼ã‚¹ã‚’ç›£è¦–ã™ã‚‹</h3>
<div class="reveal_vspace" style="--vspace-height: 0.5em;"></div>
<p><span class="mini-section">ã‚³ãƒãƒ³ãƒ‰</span></p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb10-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">watch</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-n</span> 1 free <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-h</span></span></code></pre></div></div>
<ul>
<li>æ¯ç§’ï¼ˆ1ç§’é–“éš”ï¼‰ã§ <code>free -h</code> ã‚’å†å®Ÿè¡Œã—ï¼Œãƒ¡ãƒ¢ãƒªã¨Swapã®ä½¿ç”¨çŠ¶æ³ã‚’è¡¨ç¤ºã™ã‚‹ã‚³ãƒãƒ³ãƒ‰</li>
<li>available åˆ—ã‚’è¦‹ã‚‹ã“ã¨ã§ï¼Œã‚¢ãƒ—ãƒªãŒå®Ÿéš›ã«ä½¿ãˆã‚‹ãƒ¡ãƒ¢ãƒªé‡ã‚’æŠŠæ¡ã§ãã‚‹</li>
</ul>
</section>
<section id="case-3-dockerã®èµ·å‹•çŠ¶æ…‹ã‚’ç¢ºèªã™ã‚‹" class="level3">
<h3 class="anchored" data-anchor-id="case-3-dockerã®èµ·å‹•çŠ¶æ…‹ã‚’ç¢ºèªã™ã‚‹">Case 3: Dockerã®èµ·å‹•çŠ¶æ…‹ã‚’ç¢ºèªã™ã‚‹</h3>
<div class="reveal_vspace" style="--vspace-height: 0.5em;"></div>
<p><span class="mini-section">ã‚³ãƒãƒ³ãƒ‰</span></p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb11-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">watch</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-n</span> 30 <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-t</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"docker ps"</span></span></code></pre></div></div>
<div class="no-border-top-table">
<table class="caption-top table">
<thead>
<tr class="header">
<th>ã‚ªãƒ—ã‚·ãƒ§ãƒ³/ã‚³ãƒãƒ³ãƒ‰</th>
<th>èª¬æ˜</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>watch</code></td>
<td>ã‚³ãƒãƒ³ãƒ‰ã‚’å®šæœŸå®Ÿè¡Œ</td>
</tr>
<tr class="even">
<td><code>-n 30</code></td>
<td>30ç§’ã”ã¨ã«å®Ÿè¡Œ</td>
</tr>
<tr class="odd">
<td><code>-t</code></td>
<td>ãƒ˜ãƒƒãƒ€ãƒ¼ã‚’éè¡¨ç¤º</td>
</tr>
<tr class="even">
<td><code>docker ps</code></td>
<td>ç¾åœ¨å‹•ä½œä¸­ã® Docker ã‚³ãƒ³ãƒ†ãƒŠã‚’ä¸€è¦§è¡¨ç¤º</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li>å¼•ç”¨ç¬¦ <code>"</code> ã¯ãªãã¦ã‚‚åƒ•ã®ç’°å¢ƒã§ã¯å‹•ä½œã—ã¾ã™ãŒï¼Œå¸¸ã«å®‰å…¨ã«å‹•ã‹ã™ã«ã¯å¼•ç”¨ç¬¦ã§å›²ã‚€æ–¹ãŒå®‰å…¨ã¨ã®ã“ã¨ã§ã™ï¼</li>
</ul>
</section>
<section id="case-4-memory-usageã®ç¢ºèª" class="level3">
<h3 class="anchored" data-anchor-id="case-4-memory-usageã®ç¢ºèª">Case 4: Memory Usageã®ç¢ºèª</h3>
<div class="reveal_vspace" style="--vspace-height: 0.5em;"></div>
<p><span class="mini-section">ã‚³ãƒãƒ³ãƒ‰</span></p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb12-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">watch</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-n</span> 1 free <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-m</span></span></code></pre></div></div>
<p>è¡¨ç¤ºçµæœä¾‹ã¯ä»¥ä¸‹</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode ini code-with-copy"><code class="sourceCode ini"><span id="cb13-1"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">               total        used        free      shared  buff/cache   available</span></span>
<span id="cb13-2"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">Mem:           63439        7314       46771         216        9898       56124</span></span>
<span id="cb13-3"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">Swap:           8191           0        8191</span></span></code></pre></div></div>
<div class="no-border-top-table">
<table class="caption-top table">
<colgroup>
<col style="width: 18%">
<col style="width: 14%">
<col style="width: 66%">
</colgroup>
<thead>
<tr class="header">
<th>é …ç›®</th>
<th>ã‚µã‚¤ã‚º (MB)</th>
<th>èª¬æ˜</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>total</td>
<td>63439</td>
<td>ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã®ç‰©ç†ãƒ¡ãƒ¢ãƒªé‡ï¼ˆç´„63GBï¼‰</td>
</tr>
<tr class="even">
<td>used</td>
<td>7314</td>
<td>OSã‚„ãƒ—ãƒ­ã‚»ã‚¹ã«ã‚ˆã£ã¦ç¾åœ¨ä½¿ç”¨ä¸­ã®ãƒ¡ãƒ¢ãƒªé‡ï¼ˆã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ»ãƒãƒƒãƒ•ã‚¡å«ã‚€ï¼‰</td>
</tr>
<tr class="odd">
<td>free</td>
<td>46771</td>
<td>ç¾åœ¨ã¾ã£ãŸãä½¿ç”¨ã•ã‚Œã¦ã„ãªã„ç©ºããƒ¡ãƒ¢ãƒª</td>
</tr>
<tr class="even">
<td>shared</td>
<td>216</td>
<td>ãƒ—ãƒ­ã‚»ã‚¹é–“ã§å…±æœ‰ã•ã‚Œã¦ã„ã‚‹ãƒ¡ãƒ¢ãƒªï¼ˆæœ€è¿‘ã® Linux ã§ã¯é‡è¦åº¦ä½ã‚ï¼‰</td>
</tr>
<tr class="odd">
<td>buff/cache</td>
<td>9898</td>
<td>ãƒ•ã‚¡ã‚¤ãƒ«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚„ãƒãƒƒãƒ•ã‚¡ã¨ã—ã¦ä½¿ã‚ã‚Œã¦ã„ã‚‹ãƒ¡ãƒ¢ãƒªï¼ˆå¿…è¦ãªã‚‰è§£æ”¾å¯èƒ½ï¼‰</td>
</tr>
<tr class="even">
<td>available</td>
<td>56124</td>
<td>å®Ÿéš›ã«æ–°ã—ã„ã‚¢ãƒ—ãƒªãŒä½¿ãˆã‚‹ãƒ¡ãƒ¢ãƒªï¼ˆã‚­ãƒ£ãƒƒã‚·ãƒ¥åˆ†ã‚‚å«ã‚ã¦è¨ˆç®—æ¸ˆã¿ï¼‰</td>
</tr>
</tbody>
</table>
</div>
<p>ãƒ¡ãƒ¢ãƒªã®é€¼è¿«åº¦ã‚„ç©ºãå®¹é‡ã¯åŸºæœ¬çš„ã«ã¯ <code>available</code> ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å€¤ã‚’è¦‹ã¦åˆ¤æ–­ã—ã¾ã™ï¼</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Cacheé ˜åŸŸ
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>ãƒ‡ã‚£ã‚¹ã‚¯ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã¯ï¼Œæœ€è¿‘ã‚¢ã‚¯ã‚»ã‚¹ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’ RAM ã«ä¿æŒã™ã‚‹ä»•çµ„ã¿</li>
<li>Linuxã¯æœªä½¿ç”¨ã®ãƒ¡ãƒ¢ãƒªã‚’ãƒ‡ã‚£ã‚¹ã‚¯ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç”¨ã«åˆ©ç”¨ã™ã‚‹</li>
<li>ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã¯ã‚¢ãƒ—ãƒªã‹ã‚‰ãƒ¡ãƒ¢ãƒªã‚’å¥ªã†ã“ã¨ã¯ãªãï¼Œæ€§èƒ½å‘ä¸Šã«ã ã‘ä½¿ã‚ã‚Œã‚‹</li>
<li><code>used</code> ã«ã¯ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚‚å«ã¾ã‚Œã‚‹ã®ã§ï¼Œè¦‹ãŸç›®ã ã‘ã§ã¯ã€Œãƒ¡ãƒ¢ãƒªä¸è¶³ã€ã«è¦‹ãˆã‚‹ã“ã¨ãŒã‚ã‚‹ã“ã¨ã«æ³¨æ„</li>
</ul>
</div>
</div>
</section>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<ul>
<li><a href="https://www.byobu.org/">Byobuå…¬å¼ãƒšãƒ¼ã‚¸</a></li>
<li><a href="https://askubuntu.com/questions/155768/how-do-i-clean-or-disable-the-memory-cache/155771#155771">How do I clean or disable the memory cache?</a></li>
</ul>


</section>

 ]]></description>
  <category>Linux</category>
  <category>ç›£è¦–</category>
  <guid>https://ryonakagami.github.io/regmonkey-datascience-blog/posts/2025-11-14-watch-gpu/</guid>
  <pubDate>Fri, 14 Nov 2025 00:00:00 GMT</pubDate>
</item>
<item>
  <title>è‡ªåˆ†ç”¨VSCodeã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã‚·ãƒ¼ãƒˆ: Git Rebase Message</title>
  <dc:creator>Ryo Nakagami</dc:creator>
  <link>https://ryonakagami.github.io/regmonkey-datascience-blog/posts/2025-11-11-vscode-shortcut-for-git-rebase-message/</link>
  <description><![CDATA[ 






<section id="è¨­å®šå†…å®¹ã®å…¨ä½“åƒ" class="level2">
<h2 class="anchored" data-anchor-id="è¨­å®šå†…å®¹ã®å…¨ä½“åƒ">ğŸ”§ è¨­å®šå†…å®¹ã®å…¨ä½“åƒ</h2>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode json code-with-copy"><code class="sourceCode json"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb1-2">  <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">//</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">Git</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">Rebase</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">Message</span></span>
<span id="cb1-3">  <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb1-4">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"key"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ctrl+enter"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb1-5">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"command"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"runCommands"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb1-6">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"args"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb1-7">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"commands"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb1-8">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"workbench.action.files.save"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb1-9">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"workbench.action.closeActiveEditor"</span></span>
<span id="cb1-10">      <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb1-11">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">},</span></span>
<span id="cb1-12">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"when"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"editorTextFocus &amp;&amp; !editorReadonly &amp;&amp; editorLangId == 'git-rebase'"</span></span>
<span id="cb1-13">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb1-14"><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div></div>
<p><span class="mini-section">æŠ€è¡“ã‚¹ãƒšãƒƒã‚¯</span></p>
<div class="no-border-top-table">
<table class="caption-top table">
<colgroup>
<col style="width: 25%">
<col style="width: 75%">
</colgroup>
<thead>
<tr class="header">
<th>é …ç›®</th>
<th>å†…å®¹</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>ç›®çš„</strong></td>
<td>Git rebase ç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç·¨é›†ç”»é¢ã§ï¼ŒCtrl+Enter ã«ã‚ˆã‚Šã€Œä¿å­˜ï¼‹ã‚¨ãƒ‡ã‚£ã‚¿ã‚’é–‰ã˜ã‚‹ã€æ“ä½œã‚’è‡ªå‹•åŒ–ã™ã‚‹</td>
</tr>
<tr class="even">
<td><strong>ã‚­ãƒ¼å‰²ã‚Šå½“ã¦</strong></td>
<td><code>ctrl+enter</code></td>
</tr>
<tr class="odd">
<td><strong>ã‚³ãƒãƒ³ãƒ‰</strong></td>
<td><code>runCommands</code>ï¼ˆè¤‡æ•°ã‚³ãƒãƒ³ãƒ‰ã®é€£ç¶šå®Ÿè¡Œï¼‰</td>
</tr>
<tr class="even">
<td><strong>å®Ÿè¡Œã‚³ãƒãƒ³ãƒ‰åˆ—</strong></td>
<td>1. <code>workbench.action.files.save</code>ï¼ˆãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜ï¼‰<br>2. <code>workbench.action.closeActiveEditor</code>ï¼ˆã‚¨ãƒ‡ã‚£ã‚¿ã‚’é–‰ã˜ã‚‹ï¼‰</td>
</tr>
<tr class="odd">
<td><strong>å‹•ä½œæ¡ä»¶</strong></td>
<td><code>editorTextFocus &amp;&amp; !editorReadonly &amp;&amp; editorLangId == 'git-rebase'</code><br>ï¼ ç·¨é›†å¯èƒ½ãª Git rebase ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç·¨é›†ä¸­ã®ã¿æœ‰åŠ¹</td>
</tr>
<tr class="even">
<td><strong>é©ç”¨ç¯„å›²</strong></td>
<td>è¨€èªãƒ¢ãƒ¼ãƒ‰ãŒ <code>git-rebase</code> ã®ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆé€šå¸¸ <code>.git/rebase-merge/git-rebase-todo</code>ï¼‰</td>
</tr>
</tbody>
</table>
</div>
<section id="è¨­å®šè©³ç´°" class="level3">
<h3 class="anchored" data-anchor-id="è¨­å®šè©³ç´°">è¨­å®šè©³ç´°</h3>
<p><span class="mini-section">whenæ¡ä»¶</span></p>
<div class="no-border-top-table">
<table class="caption-top table">
<colgroup>
<col style="width: 35%">
<col style="width: 64%">
</colgroup>
<thead>
<tr class="header">
<th>æ¡ä»¶</th>
<th>æ„å‘³</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>editorTextFocus</code></td>
<td>ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒ‡ã‚£ã‚¿ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ãŒã‚ã‚‹ï¼ˆï¼ãƒ†ã‚­ã‚¹ãƒˆå…¥åŠ›ã§ãã‚‹çŠ¶æ…‹ï¼‰</td>
</tr>
<tr class="even">
<td><code>!editorReadonly</code></td>
<td>ã‚¨ãƒ‡ã‚£ã‚¿ãŒèª­ã¿å–ã‚Šå°‚ç”¨ã§ãªã„ï¼ˆï¼ç·¨é›†å¯èƒ½ï¼‰</td>
</tr>
<tr class="odd">
<td><code>editorLangId == 'git-rebase'</code></td>
<td>é–‹ã„ã¦ã„ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã®è¨€èªãƒ¢ãƒ¼ãƒ‰ãŒ <code>"git-rebase"</code>ï¼ˆï¼Git rebase ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç·¨é›†ç”»é¢ï¼‰</td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
<section id="appendix-vscodeã§ã®multiple-commandsã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã®è¨­å®š" class="level2">
<h2 class="anchored" data-anchor-id="appendix-vscodeã§ã®multiple-commandsã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã®è¨­å®š">Appendix: VSCodeã§ã®multiple Commandsã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã®è¨­å®š</h2>
<p>VScodeã§ã¯ <code>"command": "runCommands",</code> ã‚’è¨­å®šã™ã‚‹ã“ã¨ã§ï¼Œè¤‡æ•°ã®ã‚³ãƒãƒ³ãƒ‰ã‚’<span class="regmonkey-bold">é †ç•ªã«å®Ÿè¡Œ</span>ã™ã‚‹ã‚ˆã†ã«è¨­å®šã§ãã¾ã™ï¼</p>
<div id="exm-" class="custom_problem theorem example">
<p><span class="theorem-title"><strong>Example 1 (å¼•æ•°ãªã—ã§è¤‡æ•°ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œ)</strong></span> <br></p>
<ol type="1">
<li>ç¾åœ¨ã®è¡Œã‚’ä¸‹ã«ã‚³ãƒ”ãƒ¼</li>
<li>ç¾åœ¨ã®è¡Œã‚’ã‚³ãƒ¡ãƒ³ãƒˆåŒ–</li>
<li>ã‚³ãƒ”ãƒ¼ã—ãŸè¡Œã«ã‚«ãƒ¼ã‚½ãƒ«ã‚’ç§»å‹•</li>
</ol>
<p>ã¨ã„ã†æ‰‹é †ã‚’å®Ÿè¡Œã™ã‚‹ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã®å ´åˆï¼Œä»¥ä¸‹ã®ã‚ˆã†ã« <code>keybindings.json</code> ã‚’è¨­å®šã—ã¾ã™</p>
</div>
<hr>
<div id="exm-" class="custom_problem theorem example">
<p><span class="theorem-title"><strong>Example 2 (å¼•æ•°ä»˜ã‚³ãƒãƒ³ãƒ‰ã®å®Ÿè¡Œ)</strong></span> <br></p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode json code-with-copy"><code class="sourceCode json"><span id="cb2-1">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb2-2">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"key"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ctrl+meta+l"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb2-3">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"command"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"runCommands"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb2-4">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"args"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb2-5">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"commands"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb2-6">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb2-7">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"command"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"workbench.action.terminal.focus"</span></span>
<span id="cb2-8">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb2-9">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb2-10">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"command"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"workbench.action.terminal.sendSequence"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb2-11">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"args"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb2-12">            <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"text"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"git lastdiff ${file}</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">\u000D</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span></span>
<span id="cb2-13">          <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb2-14">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb2-15">      <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb2-16">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">},</span></span>
<span id="cb2-17">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"when"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"editorFocus"</span></span>
<span id="cb2-18">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">,</span></span></code></pre></div></div>
<div class="no-border-top-table">
<table class="caption-top table">
<colgroup>
<col style="width: 30%">
<col style="width: 70%">
</colgroup>
<thead>
<tr class="header">
<th>é …ç›®</th>
<th>èª¬æ˜</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>"key": "ctrl+meta+l"</code></td>
<td>ã“ã®ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã‚’æŠ¼ã—ãŸã¨ãã«å‹•ä½œ</td>
</tr>
<tr class="even">
<td><code>workbench.action.terminal.focus</code></td>
<td>ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã‚’ç§»ã™</td>
</tr>
<tr class="odd">
<td><code>workbench.action.terminal.sendSequence</code></td>
<td>ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã«æ–‡å­—åˆ—ã‚’é€ä¿¡ï¼ˆ<code>\u000D</code> ã¯ Enter ã‚­ãƒ¼ï¼‰</td>
</tr>
<tr class="even">
<td><code>"when": "editorFocus"</code></td>
<td>ã‚¨ãƒ‡ã‚£ã‚¿ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ãŒã‚ã‚‹ã¨ãã®ã¿æœ‰åŠ¹</td>
</tr>
</tbody>
</table>
</div>
</div>
<hr>
<div id="exm-" class="custom_problem theorem example">
<p><span class="theorem-title"><strong>Example 3 (è¤‡æ•°ã®å¼•æ•°ã‚’æ¸¡ã—ãŸã„å ´åˆ)</strong></span> <br></p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode json code-with-copy"><code class="sourceCode json"><span id="cb3-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb3-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"key"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ctrl+shift+e"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb3-3">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"command"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"runCommands"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb3-4">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"args"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb3-5">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"commands"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb3-6">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb3-7">        <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">//</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">command</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">invoked</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">with</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">arguments</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">vscode.executeCommand(</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"myCommand"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"arg1"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"arg2"</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">)</span></span>
<span id="cb3-8">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"command"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"myCommand"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb3-9">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"args"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"arg1"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"arg2"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb3-10">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb3-11">    <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb3-12">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb3-13"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div></div>
</div>
<hr>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<ul>
<li><a href="https://code.visualstudio.com/docs/configure/keybindings#_running-multiple-commands">Keyboard shortcuts for Visual Studio Code &gt; Running multiple commands</a></li>
</ul>


</section>

 ]]></description>
  <category>ç’°å¢ƒæ§‹ç¯‰</category>
  <category>shortcuts</category>
  <guid>https://ryonakagami.github.io/regmonkey-datascience-blog/posts/2025-11-11-vscode-shortcut-for-git-rebase-message/</guid>
  <pubDate>Tue, 11 Nov 2025 00:00:00 GMT</pubDate>
</item>
</channel>
</rss>
