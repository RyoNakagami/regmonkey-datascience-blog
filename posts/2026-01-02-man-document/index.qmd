---
title: "man ドキュメントの使い方メモ"
author: "Ryo Nakagami"
date: "2026-01-02"
date-modified: "2026-01-10"
categories: [環境構築]
listing_category: development
comments:
  utterances:
       repo: RyoNakagami/regmonkey-datascience-blog
       label: discussion
       issue-term: title
---

## TL;DR

::: {.callout-note}

- `man` はデフォルトでは `less` ページャーとして利用
- `-N` で行番号の表示
- `3600g` で3600行目へジャンプ
- `/<文字列>` で前方検索，`n` で次のマッチへ

:::

## 1. `man bash` のような 長い `man` ページで現在位置を把握したい

行番号の表示は，ページャー(デフォルトでは `less`) の機能を用いて実現できます．

- 起動後に `-N` を入力すると，行番号表示のトグルとして使えます
- 起動時から有効にしたい場合は `man bash | less -N`

## 2. 直接指定した行へジャンプ

`less` をページャとして用いる場合は

[基本操作]{.mini-section}

- `<行番号>g`: 指定行へ移動
- `G`: 最終行へ移動
- `g`: 先頭への移動

## 3. 文字列検索

[基本操作]{.mini-section}

- `/pattern` : 前方検索
- `?pattern` : 後方検索
- `n` : 次のマッチへ
- `N` : 前のマッチへ

::: {#exm- .custom_problem }
<br>

`.profile` を含む行を検索する場合は

```txt
/\.profile
```

`.` は正規表現なので，`\.` とエスケープすることが必要

:::
---

::: {.callout-note}
### 前方検索 vs 後方検索

- 前方検索: 現在位置から下に向かって検索．次にマッチの `n` は下に移動する
- 後方検索: 現在位置から上方向 に向かって検索．次にマッチの `n` は上に移動する

`n`, `N` は同じ方向・逆方向の次にマッチに相当します．

:::

## Appendix: less vs vim

[移動]{.mini-section}

| 操作   | less    | vim               |
| ---- | ------- | ----------------- |
| 下へ1行 | `j`     | `j`               |
| 上へ1行 | `k`     | `k`               |
| 先頭へ  | `g`     | `gg`              |
| 末尾へ  | `G`     | `G`               |
| 指定行へ | `3600g` | `:3600` / `3600G` |

[検索]{.mini-section}

| 操作    | less       | vim        |
| ----- | ---------- | ---------- |
| 前方検索  | `/pattern` | `/pattern` |
| 後方検索  | `?pattern` | `?pattern` |
| 次のマッチ | `n`        | `n`        |
| 前のマッチ | `N`        | `N`        |

[表示]{.mini-section}

| 操作      | less           | vim             |
| ------- | -------------- | --------------- |
| 行番号表示   | `-N`           | `:set number`   |
| 行番号OFF  | `-N`           | `:set nonumber` |
